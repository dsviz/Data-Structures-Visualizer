var sg=Object.defineProperty;var ig=(e,t,r)=>t in e?sg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var br=(e,t,r)=>ig(e,typeof t!="symbol"?t+"":t,r);function ag(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(n,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();function og(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var fh={exports:{}},Xa={},ph={exports:{}},Ze={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ei=Symbol.for("react.element"),lg=Symbol.for("react.portal"),dg=Symbol.for("react.fragment"),cg=Symbol.for("react.strict_mode"),ug=Symbol.for("react.profiler"),hg=Symbol.for("react.provider"),fg=Symbol.for("react.context"),pg=Symbol.for("react.forward_ref"),gg=Symbol.for("react.suspense"),mg=Symbol.for("react.memo"),xg=Symbol.for("react.lazy"),cc=Symbol.iterator;function vg(e){return e===null||typeof e!="object"?null:(e=cc&&e[cc]||e["@@iterator"],typeof e=="function"?e:null)}var gh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},mh=Object.assign,xh={};function Ns(e,t,r){this.props=e,this.context=t,this.refs=xh,this.updater=r||gh}Ns.prototype.isReactComponent={};Ns.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ns.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function vh(){}vh.prototype=Ns.prototype;function cd(e,t,r){this.props=e,this.context=t,this.refs=xh,this.updater=r||gh}var ud=cd.prototype=new vh;ud.constructor=cd;mh(ud,Ns.prototype);ud.isPureReactComponent=!0;var uc=Array.isArray,yh=Object.prototype.hasOwnProperty,hd={current:null},bh={key:!0,ref:!0,__self:!0,__source:!0};function wh(e,t,r){var n,s={},a=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)yh.call(t,n)&&!bh.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var d=Array(l),c=0;c<l;c++)d[c]=arguments[c+2];s.children=d}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Ei,type:e,key:a,ref:o,props:s,_owner:hd.current}}function yg(e,t){return{$$typeof:Ei,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function fd(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ei}function bg(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var hc=/\/+/g;function wo(e,t){return typeof e=="object"&&e!==null&&e.key!=null?bg(""+e.key):t.toString(36)}function ua(e,t,r,n,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Ei:case lg:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+wo(o,0):n,uc(s)?(r="",e!=null&&(r=e.replace(hc,"$&/")+"/"),ua(s,t,r,"",function(c){return c})):s!=null&&(fd(s)&&(s=yg(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(hc,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",uc(e))for(var l=0;l<e.length;l++){a=e[l];var d=n+wo(a,l);o+=ua(a,t,r,d,s)}else if(d=vg(e),typeof d=="function")for(e=d.call(e),l=0;!(a=e.next()).done;)a=a.value,d=n+wo(a,l++),o+=ua(a,t,r,d,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Di(e,t,r){if(e==null)return e;var n=[],s=0;return ua(e,n,"","",function(a){return t.call(r,a,s++)}),n}function wg(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ft={current:null},ha={transition:null},kg={ReactCurrentDispatcher:Ft,ReactCurrentBatchConfig:ha,ReactCurrentOwner:hd};function kh(){throw Error("act(...) is not supported in production builds of React.")}Ze.Children={map:Di,forEach:function(e,t,r){Di(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Di(e,function(){t++}),t},toArray:function(e){return Di(e,function(t){return t})||[]},only:function(e){if(!fd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ze.Component=Ns;Ze.Fragment=dg;Ze.Profiler=ug;Ze.PureComponent=cd;Ze.StrictMode=cg;Ze.Suspense=gg;Ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kg;Ze.act=kh;Ze.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=mh({},e.props),s=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=hd.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(d in t)yh.call(t,d)&&!bh.hasOwnProperty(d)&&(n[d]=t[d]===void 0&&l!==void 0?l[d]:t[d])}var d=arguments.length-2;if(d===1)n.children=r;else if(1<d){l=Array(d);for(var c=0;c<d;c++)l[c]=arguments[c+2];n.children=l}return{$$typeof:Ei,type:e.type,key:s,ref:a,props:n,_owner:o}};Ze.createContext=function(e){return e={$$typeof:fg,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:hg,_context:e},e.Consumer=e};Ze.createElement=wh;Ze.createFactory=function(e){var t=wh.bind(null,e);return t.type=e,t};Ze.createRef=function(){return{current:null}};Ze.forwardRef=function(e){return{$$typeof:pg,render:e}};Ze.isValidElement=fd;Ze.lazy=function(e){return{$$typeof:xg,_payload:{_status:-1,_result:e},_init:wg}};Ze.memo=function(e,t){return{$$typeof:mg,type:e,compare:t===void 0?null:t}};Ze.startTransition=function(e){var t=ha.transition;ha.transition={};try{e()}finally{ha.transition=t}};Ze.unstable_act=kh;Ze.useCallback=function(e,t){return Ft.current.useCallback(e,t)};Ze.useContext=function(e){return Ft.current.useContext(e)};Ze.useDebugValue=function(){};Ze.useDeferredValue=function(e){return Ft.current.useDeferredValue(e)};Ze.useEffect=function(e,t){return Ft.current.useEffect(e,t)};Ze.useId=function(){return Ft.current.useId()};Ze.useImperativeHandle=function(e,t,r){return Ft.current.useImperativeHandle(e,t,r)};Ze.useInsertionEffect=function(e,t){return Ft.current.useInsertionEffect(e,t)};Ze.useLayoutEffect=function(e,t){return Ft.current.useLayoutEffect(e,t)};Ze.useMemo=function(e,t){return Ft.current.useMemo(e,t)};Ze.useReducer=function(e,t,r){return Ft.current.useReducer(e,t,r)};Ze.useRef=function(e){return Ft.current.useRef(e)};Ze.useState=function(e){return Ft.current.useState(e)};Ze.useSyncExternalStore=function(e,t,r){return Ft.current.useSyncExternalStore(e,t,r)};Ze.useTransition=function(){return Ft.current.useTransition()};Ze.version="18.3.1";ph.exports=Ze;var y=ph.exports;const ur=og(y),Ng=ag({__proto__:null,default:ur},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jg=y,Sg=Symbol.for("react.element"),_g=Symbol.for("react.fragment"),Cg=Object.prototype.hasOwnProperty,Eg=jg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Lg={key:!0,ref:!0,__self:!0,__source:!0};function Nh(e,t,r){var n,s={},a=null,o=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)Cg.call(t,n)&&!Lg.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:Sg,type:e,key:a,ref:o,props:s,_owner:Eg.current}}Xa.Fragment=_g;Xa.jsx=Nh;Xa.jsxs=Nh;fh.exports=Xa;var i=fh.exports,nl={},jh={exports:{}},er={},Sh={exports:{}},_h={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(xe,te){var ke=xe.length;xe.push(te);e:for(;0<ke;){var Oe=ke-1>>>1,Re=xe[Oe];if(0<s(Re,te))xe[Oe]=te,xe[ke]=Re,ke=Oe;else break e}}function r(xe){return xe.length===0?null:xe[0]}function n(xe){if(xe.length===0)return null;var te=xe[0],ke=xe.pop();if(ke!==te){xe[0]=ke;e:for(var Oe=0,Re=xe.length,_e=Re>>>1;Oe<_e;){var Ke=2*(Oe+1)-1,Je=xe[Ke],se=Ke+1,Qe=xe[se];if(0>s(Je,ke))se<Re&&0>s(Qe,Je)?(xe[Oe]=Qe,xe[se]=ke,Oe=se):(xe[Oe]=Je,xe[Ke]=ke,Oe=Ke);else if(se<Re&&0>s(Qe,ke))xe[Oe]=Qe,xe[se]=ke,Oe=se;else break e}}return te}function s(xe,te){var ke=xe.sortIndex-te.sortIndex;return ke!==0?ke:xe.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var d=[],c=[],u=1,h=null,x=3,v=!1,k=!1,N=!1,_=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(xe){for(var te=r(c);te!==null;){if(te.callback===null)n(c);else if(te.startTime<=xe)n(c),te.sortIndex=te.expirationTime,t(d,te);else break;te=r(c)}}function E(xe){if(N=!1,b(xe),!k)if(r(d)!==null)k=!0,ze(R);else{var te=r(c);te!==null&&Fe(E,te.startTime-xe)}}function R(xe,te){k=!1,N&&(N=!1,p(X),X=-1),v=!0;var ke=x;try{for(b(te),h=r(d);h!==null&&(!(h.expirationTime>te)||xe&&!Me());){var Oe=h.callback;if(typeof Oe=="function"){h.callback=null,x=h.priorityLevel;var Re=Oe(h.expirationTime<=te);te=e.unstable_now(),typeof Re=="function"?h.callback=Re:h===r(d)&&n(d),b(te)}else n(d);h=r(d)}if(h!==null)var _e=!0;else{var Ke=r(c);Ke!==null&&Fe(E,Ke.startTime-te),_e=!1}return _e}finally{h=null,x=ke,v=!1}}var Y=!1,P=null,X=-1,Ne=5,ye=-1;function Me(){return!(e.unstable_now()-ye<Ne)}function Ie(){if(P!==null){var xe=e.unstable_now();ye=xe;var te=!0;try{te=P(!0,xe)}finally{te?F():(Y=!1,P=null)}}else Y=!1}var F;if(typeof g=="function")F=function(){g(Ie)};else if(typeof MessageChannel<"u"){var Ae=new MessageChannel,qe=Ae.port2;Ae.port1.onmessage=Ie,F=function(){qe.postMessage(null)}}else F=function(){_(Ie,0)};function ze(xe){P=xe,Y||(Y=!0,F())}function Fe(xe,te){X=_(function(){xe(e.unstable_now())},te)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(xe){xe.callback=null},e.unstable_continueExecution=function(){k||v||(k=!0,ze(R))},e.unstable_forceFrameRate=function(xe){0>xe||125<xe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ne=0<xe?Math.floor(1e3/xe):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return r(d)},e.unstable_next=function(xe){switch(x){case 1:case 2:case 3:var te=3;break;default:te=x}var ke=x;x=te;try{return xe()}finally{x=ke}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(xe,te){switch(xe){case 1:case 2:case 3:case 4:case 5:break;default:xe=3}var ke=x;x=xe;try{return te()}finally{x=ke}},e.unstable_scheduleCallback=function(xe,te,ke){var Oe=e.unstable_now();switch(typeof ke=="object"&&ke!==null?(ke=ke.delay,ke=typeof ke=="number"&&0<ke?Oe+ke:Oe):ke=Oe,xe){case 1:var Re=-1;break;case 2:Re=250;break;case 5:Re=1073741823;break;case 4:Re=1e4;break;default:Re=5e3}return Re=ke+Re,xe={id:u++,callback:te,priorityLevel:xe,startTime:ke,expirationTime:Re,sortIndex:-1},ke>Oe?(xe.sortIndex=ke,t(c,xe),r(d)===null&&xe===r(c)&&(N?(p(X),X=-1):N=!0,Fe(E,ke-Oe))):(xe.sortIndex=Re,t(d,xe),k||v||(k=!0,ze(R))),xe},e.unstable_shouldYield=Me,e.unstable_wrapCallback=function(xe){var te=x;return function(){var ke=x;x=te;try{return xe.apply(this,arguments)}finally{x=ke}}}})(_h);Sh.exports=_h;var Tg=Sh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ig=y,Zt=Tg;function we(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ch=new Set,ri={};function $n(e,t){ms(e,t),ms(e+"Capture",t)}function ms(e,t){for(ri[e]=t,e=0;e<t.length;e++)Ch.add(t[e])}var Ar=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sl=Object.prototype.hasOwnProperty,$g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,fc={},pc={};function Rg(e){return sl.call(pc,e)?!0:sl.call(fc,e)?!1:$g.test(e)?pc[e]=!0:(fc[e]=!0,!1)}function Pg(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Ag(e,t,r,n){if(t===null||typeof t>"u"||Pg(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Mt(e,t,r,n,s,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var Tt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Tt[e]=new Mt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Tt[t]=new Mt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Tt[e]=new Mt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Tt[e]=new Mt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Tt[e]=new Mt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Tt[e]=new Mt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Tt[e]=new Mt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Tt[e]=new Mt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Tt[e]=new Mt(e,5,!1,e.toLowerCase(),null,!1,!1)});var pd=/[\-:]([a-z])/g;function gd(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(pd,gd);Tt[t]=new Mt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(pd,gd);Tt[t]=new Mt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(pd,gd);Tt[t]=new Mt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Tt[e]=new Mt(e,1,!1,e.toLowerCase(),null,!1,!1)});Tt.xlinkHref=new Mt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Tt[e]=new Mt(e,1,!1,e.toLowerCase(),null,!0,!0)});function md(e,t,r,n){var s=Tt.hasOwnProperty(t)?Tt[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Ag(t,r,s,n)&&(r=null),n||s===null?Rg(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Ur=Ig.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Fi=Symbol.for("react.element"),Qn=Symbol.for("react.portal"),Jn=Symbol.for("react.fragment"),xd=Symbol.for("react.strict_mode"),il=Symbol.for("react.profiler"),Eh=Symbol.for("react.provider"),Lh=Symbol.for("react.context"),vd=Symbol.for("react.forward_ref"),al=Symbol.for("react.suspense"),ol=Symbol.for("react.suspense_list"),yd=Symbol.for("react.memo"),Vr=Symbol.for("react.lazy"),Th=Symbol.for("react.offscreen"),gc=Symbol.iterator;function Is(e){return e===null||typeof e!="object"?null:(e=gc&&e[gc]||e["@@iterator"],typeof e=="function"?e:null)}var ft=Object.assign,ko;function Us(e){if(ko===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);ko=t&&t[1]||""}return`
`+ko+e}var No=!1;function jo(e,t){if(!e||No)return"";No=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),a=n.stack.split(`
`),o=s.length-1,l=a.length-1;1<=o&&0<=l&&s[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==a[l]){var d=`
`+s[o].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=o&&0<=l);break}}}finally{No=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Us(e):""}function Og(e){switch(e.tag){case 5:return Us(e.type);case 16:return Us("Lazy");case 13:return Us("Suspense");case 19:return Us("SuspenseList");case 0:case 2:case 15:return e=jo(e.type,!1),e;case 11:return e=jo(e.type.render,!1),e;case 1:return e=jo(e.type,!0),e;default:return""}}function ll(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Jn:return"Fragment";case Qn:return"Portal";case il:return"Profiler";case xd:return"StrictMode";case al:return"Suspense";case ol:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Lh:return(e.displayName||"Context")+".Consumer";case Eh:return(e._context.displayName||"Context")+".Provider";case vd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case yd:return t=e.displayName||null,t!==null?t:ll(e.type)||"Memo";case Vr:t=e._payload,e=e._init;try{return ll(e(t))}catch{}}return null}function Dg(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ll(t);case 8:return t===xd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ln(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ih(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Fg(e){var t=Ih(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Mi(e){e._valueTracker||(e._valueTracker=Fg(e))}function $h(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Ih(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Na(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function dl(e,t){var r=t.checked;return ft({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function mc(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=ln(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Rh(e,t){t=t.checked,t!=null&&md(e,"checked",t,!1)}function cl(e,t){Rh(e,t);var r=ln(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ul(e,t.type,r):t.hasOwnProperty("defaultValue")&&ul(e,t.type,ln(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function xc(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function ul(e,t,r){(t!=="number"||Na(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var zs=Array.isArray;function ds(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ln(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function hl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(we(91));return ft({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function vc(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(we(92));if(zs(r)){if(1<r.length)throw Error(we(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ln(r)}}function Ph(e,t){var r=ln(t.value),n=ln(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function yc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Ah(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Ah(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ui,Oh=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ui=Ui||document.createElement("div"),Ui.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ui.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ni(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Hs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Mg=["Webkit","ms","Moz","O"];Object.keys(Hs).forEach(function(e){Mg.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Hs[t]=Hs[e]})});function Dh(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Hs.hasOwnProperty(e)&&Hs[e]?(""+t).trim():t+"px"}function Fh(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Dh(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var Ug=ft({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pl(e,t){if(t){if(Ug[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(we(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(we(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(we(61))}if(t.style!=null&&typeof t.style!="object")throw Error(we(62))}}function gl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ml=null;function bd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var xl=null,cs=null,us=null;function bc(e){if(e=Ii(e)){if(typeof xl!="function")throw Error(we(280));var t=e.stateNode;t&&(t=no(t),xl(e.stateNode,e.type,t))}}function Mh(e){cs?us?us.push(e):us=[e]:cs=e}function Uh(){if(cs){var e=cs,t=us;if(us=cs=null,bc(e),t)for(e=0;e<t.length;e++)bc(t[e])}}function zh(e,t){return e(t)}function Bh(){}var So=!1;function Vh(e,t,r){if(So)return e(t,r);So=!0;try{return zh(e,t,r)}finally{So=!1,(cs!==null||us!==null)&&(Bh(),Uh())}}function si(e,t){var r=e.stateNode;if(r===null)return null;var n=no(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(we(231,t,typeof r));return r}var vl=!1;if(Ar)try{var $s={};Object.defineProperty($s,"passive",{get:function(){vl=!0}}),window.addEventListener("test",$s,$s),window.removeEventListener("test",$s,$s)}catch{vl=!1}function zg(e,t,r,n,s,a,o,l,d){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(u){this.onError(u)}}var Ws=!1,ja=null,Sa=!1,yl=null,Bg={onError:function(e){Ws=!0,ja=e}};function Vg(e,t,r,n,s,a,o,l,d){Ws=!1,ja=null,zg.apply(Bg,arguments)}function qg(e,t,r,n,s,a,o,l,d){if(Vg.apply(this,arguments),Ws){if(Ws){var c=ja;Ws=!1,ja=null}else throw Error(we(198));Sa||(Sa=!0,yl=c)}}function Rn(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function qh(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function wc(e){if(Rn(e)!==e)throw Error(we(188))}function Hg(e){var t=e.alternate;if(!t){if(t=Rn(e),t===null)throw Error(we(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var a=s.alternate;if(a===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===r)return wc(s),e;if(a===n)return wc(s),t;a=a.sibling}throw Error(we(188))}if(r.return!==n.return)r=s,n=a;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=a;break}if(l===n){o=!0,n=s,r=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===r){o=!0,r=a,n=s;break}if(l===n){o=!0,n=a,r=s;break}l=l.sibling}if(!o)throw Error(we(189))}}if(r.alternate!==n)throw Error(we(190))}if(r.tag!==3)throw Error(we(188));return r.stateNode.current===r?e:t}function Hh(e){return e=Hg(e),e!==null?Wh(e):null}function Wh(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Wh(e);if(t!==null)return t;e=e.sibling}return null}var Kh=Zt.unstable_scheduleCallback,kc=Zt.unstable_cancelCallback,Wg=Zt.unstable_shouldYield,Kg=Zt.unstable_requestPaint,mt=Zt.unstable_now,Gg=Zt.unstable_getCurrentPriorityLevel,wd=Zt.unstable_ImmediatePriority,Gh=Zt.unstable_UserBlockingPriority,_a=Zt.unstable_NormalPriority,Qg=Zt.unstable_LowPriority,Qh=Zt.unstable_IdlePriority,Za=null,Sr=null;function Jg(e){if(Sr&&typeof Sr.onCommitFiberRoot=="function")try{Sr.onCommitFiberRoot(Za,e,void 0,(e.current.flags&128)===128)}catch{}}var xr=Math.clz32?Math.clz32:Zg,Yg=Math.log,Xg=Math.LN2;function Zg(e){return e>>>=0,e===0?32:31-(Yg(e)/Xg|0)|0}var zi=64,Bi=4194304;function Bs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ca(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,a=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=Bs(l):(a&=o,a!==0&&(n=Bs(a)))}else o=r&~s,o!==0?n=Bs(o):a!==0&&(n=Bs(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-xr(t),s=1<<r,n|=e[r],t&=~s;return n}function em(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tm(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-xr(a),l=1<<o,d=s[o];d===-1?(!(l&r)||l&n)&&(s[o]=em(l,t)):d<=t&&(e.expiredLanes|=l),a&=~l}}function bl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Jh(){var e=zi;return zi<<=1,!(zi&4194240)&&(zi=64),e}function _o(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Li(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-xr(t),e[t]=r}function rm(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-xr(r),a=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~a}}function kd(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-xr(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var it=0;function Yh(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Xh,Nd,Zh,ef,tf,wl=!1,Vi=[],Xr=null,Zr=null,en=null,ii=new Map,ai=new Map,Wr=[],nm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Nc(e,t){switch(e){case"focusin":case"focusout":Xr=null;break;case"dragenter":case"dragleave":Zr=null;break;case"mouseover":case"mouseout":en=null;break;case"pointerover":case"pointerout":ii.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ai.delete(t.pointerId)}}function Rs(e,t,r,n,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[s]},t!==null&&(t=Ii(t),t!==null&&Nd(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function sm(e,t,r,n,s){switch(t){case"focusin":return Xr=Rs(Xr,e,t,r,n,s),!0;case"dragenter":return Zr=Rs(Zr,e,t,r,n,s),!0;case"mouseover":return en=Rs(en,e,t,r,n,s),!0;case"pointerover":var a=s.pointerId;return ii.set(a,Rs(ii.get(a)||null,e,t,r,n,s)),!0;case"gotpointercapture":return a=s.pointerId,ai.set(a,Rs(ai.get(a)||null,e,t,r,n,s)),!0}return!1}function rf(e){var t=wn(e.target);if(t!==null){var r=Rn(t);if(r!==null){if(t=r.tag,t===13){if(t=qh(r),t!==null){e.blockedOn=t,tf(e.priority,function(){Zh(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function fa(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=kl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);ml=n,r.target.dispatchEvent(n),ml=null}else return t=Ii(r),t!==null&&Nd(t),e.blockedOn=r,!1;t.shift()}return!0}function jc(e,t,r){fa(e)&&r.delete(t)}function im(){wl=!1,Xr!==null&&fa(Xr)&&(Xr=null),Zr!==null&&fa(Zr)&&(Zr=null),en!==null&&fa(en)&&(en=null),ii.forEach(jc),ai.forEach(jc)}function Ps(e,t){e.blockedOn===t&&(e.blockedOn=null,wl||(wl=!0,Zt.unstable_scheduleCallback(Zt.unstable_NormalPriority,im)))}function oi(e){function t(s){return Ps(s,e)}if(0<Vi.length){Ps(Vi[0],e);for(var r=1;r<Vi.length;r++){var n=Vi[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Xr!==null&&Ps(Xr,e),Zr!==null&&Ps(Zr,e),en!==null&&Ps(en,e),ii.forEach(t),ai.forEach(t),r=0;r<Wr.length;r++)n=Wr[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Wr.length&&(r=Wr[0],r.blockedOn===null);)rf(r),r.blockedOn===null&&Wr.shift()}var hs=Ur.ReactCurrentBatchConfig,Ea=!0;function am(e,t,r,n){var s=it,a=hs.transition;hs.transition=null;try{it=1,jd(e,t,r,n)}finally{it=s,hs.transition=a}}function om(e,t,r,n){var s=it,a=hs.transition;hs.transition=null;try{it=4,jd(e,t,r,n)}finally{it=s,hs.transition=a}}function jd(e,t,r,n){if(Ea){var s=kl(e,t,r,n);if(s===null)Oo(e,t,n,La,r),Nc(e,n);else if(sm(s,e,t,r,n))n.stopPropagation();else if(Nc(e,n),t&4&&-1<nm.indexOf(e)){for(;s!==null;){var a=Ii(s);if(a!==null&&Xh(a),a=kl(e,t,r,n),a===null&&Oo(e,t,n,La,r),a===s)break;s=a}s!==null&&n.stopPropagation()}else Oo(e,t,n,null,r)}}var La=null;function kl(e,t,r,n){if(La=null,e=bd(n),e=wn(e),e!==null)if(t=Rn(e),t===null)e=null;else if(r=t.tag,r===13){if(e=qh(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return La=e,null}function nf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Gg()){case wd:return 1;case Gh:return 4;case _a:case Qg:return 16;case Qh:return 536870912;default:return 16}default:return 16}}var Qr=null,Sd=null,pa=null;function sf(){if(pa)return pa;var e,t=Sd,r=t.length,n,s="value"in Qr?Qr.value:Qr.textContent,a=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[a-n];n++);return pa=s.slice(e,1<n?1-n:void 0)}function ga(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function qi(){return!0}function Sc(){return!1}function tr(e){function t(r,n,s,a,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?qi:Sc,this.isPropagationStopped=Sc,this}return ft(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=qi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=qi)},persist:function(){},isPersistent:qi}),t}var js={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_d=tr(js),Ti=ft({},js,{view:0,detail:0}),lm=tr(Ti),Co,Eo,As,eo=ft({},Ti,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==As&&(As&&e.type==="mousemove"?(Co=e.screenX-As.screenX,Eo=e.screenY-As.screenY):Eo=Co=0,As=e),Co)},movementY:function(e){return"movementY"in e?e.movementY:Eo}}),_c=tr(eo),dm=ft({},eo,{dataTransfer:0}),cm=tr(dm),um=ft({},Ti,{relatedTarget:0}),Lo=tr(um),hm=ft({},js,{animationName:0,elapsedTime:0,pseudoElement:0}),fm=tr(hm),pm=ft({},js,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),gm=tr(pm),mm=ft({},js,{data:0}),Cc=tr(mm),xm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ym={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ym[e])?!!t[e]:!1}function Cd(){return bm}var wm=ft({},Ti,{key:function(e){if(e.key){var t=xm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ga(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?vm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cd,charCode:function(e){return e.type==="keypress"?ga(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ga(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),km=tr(wm),Nm=ft({},eo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ec=tr(Nm),jm=ft({},Ti,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cd}),Sm=tr(jm),_m=ft({},js,{propertyName:0,elapsedTime:0,pseudoElement:0}),Cm=tr(_m),Em=ft({},eo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Lm=tr(Em),Tm=[9,13,27,32],Ed=Ar&&"CompositionEvent"in window,Ks=null;Ar&&"documentMode"in document&&(Ks=document.documentMode);var Im=Ar&&"TextEvent"in window&&!Ks,af=Ar&&(!Ed||Ks&&8<Ks&&11>=Ks),Lc=" ",Tc=!1;function of(e,t){switch(e){case"keyup":return Tm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Yn=!1;function $m(e,t){switch(e){case"compositionend":return lf(t);case"keypress":return t.which!==32?null:(Tc=!0,Lc);case"textInput":return e=t.data,e===Lc&&Tc?null:e;default:return null}}function Rm(e,t){if(Yn)return e==="compositionend"||!Ed&&of(e,t)?(e=sf(),pa=Sd=Qr=null,Yn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return af&&t.locale!=="ko"?null:t.data;default:return null}}var Pm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ic(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Pm[e.type]:t==="textarea"}function df(e,t,r,n){Mh(n),t=Ta(t,"onChange"),0<t.length&&(r=new _d("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Gs=null,li=null;function Am(e){bf(e,0)}function to(e){var t=es(e);if($h(t))return e}function Om(e,t){if(e==="change")return t}var cf=!1;if(Ar){var To;if(Ar){var Io="oninput"in document;if(!Io){var $c=document.createElement("div");$c.setAttribute("oninput","return;"),Io=typeof $c.oninput=="function"}To=Io}else To=!1;cf=To&&(!document.documentMode||9<document.documentMode)}function Rc(){Gs&&(Gs.detachEvent("onpropertychange",uf),li=Gs=null)}function uf(e){if(e.propertyName==="value"&&to(li)){var t=[];df(t,li,e,bd(e)),Vh(Am,t)}}function Dm(e,t,r){e==="focusin"?(Rc(),Gs=t,li=r,Gs.attachEvent("onpropertychange",uf)):e==="focusout"&&Rc()}function Fm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return to(li)}function Mm(e,t){if(e==="click")return to(t)}function Um(e,t){if(e==="input"||e==="change")return to(t)}function zm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var yr=typeof Object.is=="function"?Object.is:zm;function di(e,t){if(yr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!sl.call(t,s)||!yr(e[s],t[s]))return!1}return!0}function Pc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ac(e,t){var r=Pc(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Pc(r)}}function hf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?hf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ff(){for(var e=window,t=Na();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Na(e.document)}return t}function Ld(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Bm(e){var t=ff(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&hf(r.ownerDocument.documentElement,r)){if(n!==null&&Ld(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,a=Math.min(n.start,s);n=n.end===void 0?a:Math.min(n.end,s),!e.extend&&a>n&&(s=n,n=a,a=s),s=Ac(r,a);var o=Ac(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Vm=Ar&&"documentMode"in document&&11>=document.documentMode,Xn=null,Nl=null,Qs=null,jl=!1;function Oc(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;jl||Xn==null||Xn!==Na(n)||(n=Xn,"selectionStart"in n&&Ld(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Qs&&di(Qs,n)||(Qs=n,n=Ta(Nl,"onSelect"),0<n.length&&(t=new _d("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Xn)))}function Hi(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Zn={animationend:Hi("Animation","AnimationEnd"),animationiteration:Hi("Animation","AnimationIteration"),animationstart:Hi("Animation","AnimationStart"),transitionend:Hi("Transition","TransitionEnd")},$o={},pf={};Ar&&(pf=document.createElement("div").style,"AnimationEvent"in window||(delete Zn.animationend.animation,delete Zn.animationiteration.animation,delete Zn.animationstart.animation),"TransitionEvent"in window||delete Zn.transitionend.transition);function ro(e){if($o[e])return $o[e];if(!Zn[e])return e;var t=Zn[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in pf)return $o[e]=t[r];return e}var gf=ro("animationend"),mf=ro("animationiteration"),xf=ro("animationstart"),vf=ro("transitionend"),yf=new Map,Dc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function cn(e,t){yf.set(e,t),$n(t,[e])}for(var Ro=0;Ro<Dc.length;Ro++){var Po=Dc[Ro],qm=Po.toLowerCase(),Hm=Po[0].toUpperCase()+Po.slice(1);cn(qm,"on"+Hm)}cn(gf,"onAnimationEnd");cn(mf,"onAnimationIteration");cn(xf,"onAnimationStart");cn("dblclick","onDoubleClick");cn("focusin","onFocus");cn("focusout","onBlur");cn(vf,"onTransitionEnd");ms("onMouseEnter",["mouseout","mouseover"]);ms("onMouseLeave",["mouseout","mouseover"]);ms("onPointerEnter",["pointerout","pointerover"]);ms("onPointerLeave",["pointerout","pointerover"]);$n("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$n("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$n("onBeforeInput",["compositionend","keypress","textInput","paste"]);$n("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$n("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$n("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Wm=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vs));function Fc(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,qg(n,t,void 0,e),e.currentTarget=null}function bf(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],d=l.instance,c=l.currentTarget;if(l=l.listener,d!==a&&s.isPropagationStopped())break e;Fc(s,l,c),a=d}else for(o=0;o<n.length;o++){if(l=n[o],d=l.instance,c=l.currentTarget,l=l.listener,d!==a&&s.isPropagationStopped())break e;Fc(s,l,c),a=d}}}if(Sa)throw e=yl,Sa=!1,yl=null,e}function lt(e,t){var r=t[Ll];r===void 0&&(r=t[Ll]=new Set);var n=e+"__bubble";r.has(n)||(wf(t,e,2,!1),r.add(n))}function Ao(e,t,r){var n=0;t&&(n|=4),wf(r,e,n,t)}var Wi="_reactListening"+Math.random().toString(36).slice(2);function ci(e){if(!e[Wi]){e[Wi]=!0,Ch.forEach(function(r){r!=="selectionchange"&&(Wm.has(r)||Ao(r,!1,e),Ao(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Wi]||(t[Wi]=!0,Ao("selectionchange",!1,t))}}function wf(e,t,r,n){switch(nf(t)){case 1:var s=am;break;case 4:s=om;break;default:s=jd}r=s.bind(null,t,r,e),s=void 0,!vl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Oo(e,t,r,n,s){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var d=o.tag;if((d===3||d===4)&&(d=o.stateNode.containerInfo,d===s||d.nodeType===8&&d.parentNode===s))return;o=o.return}for(;l!==null;){if(o=wn(l),o===null)return;if(d=o.tag,d===5||d===6){n=a=o;continue e}l=l.parentNode}}n=n.return}Vh(function(){var c=a,u=bd(r),h=[];e:{var x=yf.get(e);if(x!==void 0){var v=_d,k=e;switch(e){case"keypress":if(ga(r)===0)break e;case"keydown":case"keyup":v=km;break;case"focusin":k="focus",v=Lo;break;case"focusout":k="blur",v=Lo;break;case"beforeblur":case"afterblur":v=Lo;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=_c;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=cm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Sm;break;case gf:case mf:case xf:v=fm;break;case vf:v=Cm;break;case"scroll":v=lm;break;case"wheel":v=Lm;break;case"copy":case"cut":case"paste":v=gm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Ec}var N=(t&4)!==0,_=!N&&e==="scroll",p=N?x!==null?x+"Capture":null:x;N=[];for(var g=c,b;g!==null;){b=g;var E=b.stateNode;if(b.tag===5&&E!==null&&(b=E,p!==null&&(E=si(g,p),E!=null&&N.push(ui(g,E,b)))),_)break;g=g.return}0<N.length&&(x=new v(x,k,null,r,u),h.push({event:x,listeners:N}))}}if(!(t&7)){e:{if(x=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",x&&r!==ml&&(k=r.relatedTarget||r.fromElement)&&(wn(k)||k[Or]))break e;if((v||x)&&(x=u.window===u?u:(x=u.ownerDocument)?x.defaultView||x.parentWindow:window,v?(k=r.relatedTarget||r.toElement,v=c,k=k?wn(k):null,k!==null&&(_=Rn(k),k!==_||k.tag!==5&&k.tag!==6)&&(k=null)):(v=null,k=c),v!==k)){if(N=_c,E="onMouseLeave",p="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(N=Ec,E="onPointerLeave",p="onPointerEnter",g="pointer"),_=v==null?x:es(v),b=k==null?x:es(k),x=new N(E,g+"leave",v,r,u),x.target=_,x.relatedTarget=b,E=null,wn(u)===c&&(N=new N(p,g+"enter",k,r,u),N.target=b,N.relatedTarget=_,E=N),_=E,v&&k)t:{for(N=v,p=k,g=0,b=N;b;b=Mn(b))g++;for(b=0,E=p;E;E=Mn(E))b++;for(;0<g-b;)N=Mn(N),g--;for(;0<b-g;)p=Mn(p),b--;for(;g--;){if(N===p||p!==null&&N===p.alternate)break t;N=Mn(N),p=Mn(p)}N=null}else N=null;v!==null&&Mc(h,x,v,N,!1),k!==null&&_!==null&&Mc(h,_,k,N,!0)}}e:{if(x=c?es(c):window,v=x.nodeName&&x.nodeName.toLowerCase(),v==="select"||v==="input"&&x.type==="file")var R=Om;else if(Ic(x))if(cf)R=Um;else{R=Fm;var Y=Dm}else(v=x.nodeName)&&v.toLowerCase()==="input"&&(x.type==="checkbox"||x.type==="radio")&&(R=Mm);if(R&&(R=R(e,c))){df(h,R,r,u);break e}Y&&Y(e,x,c),e==="focusout"&&(Y=x._wrapperState)&&Y.controlled&&x.type==="number"&&ul(x,"number",x.value)}switch(Y=c?es(c):window,e){case"focusin":(Ic(Y)||Y.contentEditable==="true")&&(Xn=Y,Nl=c,Qs=null);break;case"focusout":Qs=Nl=Xn=null;break;case"mousedown":jl=!0;break;case"contextmenu":case"mouseup":case"dragend":jl=!1,Oc(h,r,u);break;case"selectionchange":if(Vm)break;case"keydown":case"keyup":Oc(h,r,u)}var P;if(Ed)e:{switch(e){case"compositionstart":var X="onCompositionStart";break e;case"compositionend":X="onCompositionEnd";break e;case"compositionupdate":X="onCompositionUpdate";break e}X=void 0}else Yn?of(e,r)&&(X="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(X="onCompositionStart");X&&(af&&r.locale!=="ko"&&(Yn||X!=="onCompositionStart"?X==="onCompositionEnd"&&Yn&&(P=sf()):(Qr=u,Sd="value"in Qr?Qr.value:Qr.textContent,Yn=!0)),Y=Ta(c,X),0<Y.length&&(X=new Cc(X,e,null,r,u),h.push({event:X,listeners:Y}),P?X.data=P:(P=lf(r),P!==null&&(X.data=P)))),(P=Im?$m(e,r):Rm(e,r))&&(c=Ta(c,"onBeforeInput"),0<c.length&&(u=new Cc("onBeforeInput","beforeinput",null,r,u),h.push({event:u,listeners:c}),u.data=P))}bf(h,t)})}function ui(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Ta(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=si(e,r),a!=null&&n.unshift(ui(e,a,s)),a=si(e,t),a!=null&&n.push(ui(e,a,s))),e=e.return}return n}function Mn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Mc(e,t,r,n,s){for(var a=t._reactName,o=[];r!==null&&r!==n;){var l=r,d=l.alternate,c=l.stateNode;if(d!==null&&d===n)break;l.tag===5&&c!==null&&(l=c,s?(d=si(r,a),d!=null&&o.unshift(ui(r,d,l))):s||(d=si(r,a),d!=null&&o.push(ui(r,d,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var Km=/\r\n?/g,Gm=/\u0000|\uFFFD/g;function Uc(e){return(typeof e=="string"?e:""+e).replace(Km,`
`).replace(Gm,"")}function Ki(e,t,r){if(t=Uc(t),Uc(e)!==t&&r)throw Error(we(425))}function Ia(){}var Sl=null,_l=null;function Cl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var El=typeof setTimeout=="function"?setTimeout:void 0,Qm=typeof clearTimeout=="function"?clearTimeout:void 0,zc=typeof Promise=="function"?Promise:void 0,Jm=typeof queueMicrotask=="function"?queueMicrotask:typeof zc<"u"?function(e){return zc.resolve(null).then(e).catch(Ym)}:El;function Ym(e){setTimeout(function(){throw e})}function Do(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),oi(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);oi(t)}function tn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Bc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Ss=Math.random().toString(36).slice(2),jr="__reactFiber$"+Ss,hi="__reactProps$"+Ss,Or="__reactContainer$"+Ss,Ll="__reactEvents$"+Ss,Xm="__reactListeners$"+Ss,Zm="__reactHandles$"+Ss;function wn(e){var t=e[jr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Or]||r[jr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Bc(e);e!==null;){if(r=e[jr])return r;e=Bc(e)}return t}e=r,r=e.parentNode}return null}function Ii(e){return e=e[jr]||e[Or],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function es(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(we(33))}function no(e){return e[hi]||null}var Tl=[],ts=-1;function un(e){return{current:e}}function dt(e){0>ts||(e.current=Tl[ts],Tl[ts]=null,ts--)}function ot(e,t){ts++,Tl[ts]=e.current,e.current=t}var dn={},Pt=un(dn),qt=un(!1),Cn=dn;function xs(e,t){var r=e.type.contextTypes;if(!r)return dn;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in r)s[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ht(e){return e=e.childContextTypes,e!=null}function $a(){dt(qt),dt(Pt)}function Vc(e,t,r){if(Pt.current!==dn)throw Error(we(168));ot(Pt,t),ot(qt,r)}function kf(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(we(108,Dg(e)||"Unknown",s));return ft({},r,n)}function Ra(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||dn,Cn=Pt.current,ot(Pt,e),ot(qt,qt.current),!0}function qc(e,t,r){var n=e.stateNode;if(!n)throw Error(we(169));r?(e=kf(e,t,Cn),n.__reactInternalMemoizedMergedChildContext=e,dt(qt),dt(Pt),ot(Pt,e)):dt(qt),ot(qt,r)}var Ir=null,so=!1,Fo=!1;function Nf(e){Ir===null?Ir=[e]:Ir.push(e)}function e0(e){so=!0,Nf(e)}function hn(){if(!Fo&&Ir!==null){Fo=!0;var e=0,t=it;try{var r=Ir;for(it=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Ir=null,so=!1}catch(s){throw Ir!==null&&(Ir=Ir.slice(e+1)),Kh(wd,hn),s}finally{it=t,Fo=!1}}return null}var rs=[],ns=0,Pa=null,Aa=0,rr=[],nr=0,En=null,$r=1,Rr="";function mn(e,t){rs[ns++]=Aa,rs[ns++]=Pa,Pa=e,Aa=t}function jf(e,t,r){rr[nr++]=$r,rr[nr++]=Rr,rr[nr++]=En,En=e;var n=$r;e=Rr;var s=32-xr(n)-1;n&=~(1<<s),r+=1;var a=32-xr(t)+s;if(30<a){var o=s-s%5;a=(n&(1<<o)-1).toString(32),n>>=o,s-=o,$r=1<<32-xr(t)+s|r<<s|n,Rr=a+e}else $r=1<<a|r<<s|n,Rr=e}function Td(e){e.return!==null&&(mn(e,1),jf(e,1,0))}function Id(e){for(;e===Pa;)Pa=rs[--ns],rs[ns]=null,Aa=rs[--ns],rs[ns]=null;for(;e===En;)En=rr[--nr],rr[nr]=null,Rr=rr[--nr],rr[nr]=null,$r=rr[--nr],rr[nr]=null}var Xt=null,Yt=null,ct=!1,mr=null;function Sf(e,t){var r=sr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Hc(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Xt=e,Yt=tn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Xt=e,Yt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=En!==null?{id:$r,overflow:Rr}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=sr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Xt=e,Yt=null,!0):!1;default:return!1}}function Il(e){return(e.mode&1)!==0&&(e.flags&128)===0}function $l(e){if(ct){var t=Yt;if(t){var r=t;if(!Hc(e,t)){if(Il(e))throw Error(we(418));t=tn(r.nextSibling);var n=Xt;t&&Hc(e,t)?Sf(n,r):(e.flags=e.flags&-4097|2,ct=!1,Xt=e)}}else{if(Il(e))throw Error(we(418));e.flags=e.flags&-4097|2,ct=!1,Xt=e}}}function Wc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Xt=e}function Gi(e){if(e!==Xt)return!1;if(!ct)return Wc(e),ct=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Cl(e.type,e.memoizedProps)),t&&(t=Yt)){if(Il(e))throw _f(),Error(we(418));for(;t;)Sf(e,t),t=tn(t.nextSibling)}if(Wc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(we(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Yt=tn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Yt=null}}else Yt=Xt?tn(e.stateNode.nextSibling):null;return!0}function _f(){for(var e=Yt;e;)e=tn(e.nextSibling)}function vs(){Yt=Xt=null,ct=!1}function $d(e){mr===null?mr=[e]:mr.push(e)}var t0=Ur.ReactCurrentBatchConfig;function Os(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(we(309));var n=r.stateNode}if(!n)throw Error(we(147,e));var s=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=s.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(we(284));if(!r._owner)throw Error(we(290,e))}return e}function Qi(e,t){throw e=Object.prototype.toString.call(t),Error(we(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Kc(e){var t=e._init;return t(e._payload)}function Cf(e){function t(p,g){if(e){var b=p.deletions;b===null?(p.deletions=[g],p.flags|=16):b.push(g)}}function r(p,g){if(!e)return null;for(;g!==null;)t(p,g),g=g.sibling;return null}function n(p,g){for(p=new Map;g!==null;)g.key!==null?p.set(g.key,g):p.set(g.index,g),g=g.sibling;return p}function s(p,g){return p=an(p,g),p.index=0,p.sibling=null,p}function a(p,g,b){return p.index=b,e?(b=p.alternate,b!==null?(b=b.index,b<g?(p.flags|=2,g):b):(p.flags|=2,g)):(p.flags|=1048576,g)}function o(p){return e&&p.alternate===null&&(p.flags|=2),p}function l(p,g,b,E){return g===null||g.tag!==6?(g=Ho(b,p.mode,E),g.return=p,g):(g=s(g,b),g.return=p,g)}function d(p,g,b,E){var R=b.type;return R===Jn?u(p,g,b.props.children,E,b.key):g!==null&&(g.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Vr&&Kc(R)===g.type)?(E=s(g,b.props),E.ref=Os(p,g,b),E.return=p,E):(E=ka(b.type,b.key,b.props,null,p.mode,E),E.ref=Os(p,g,b),E.return=p,E)}function c(p,g,b,E){return g===null||g.tag!==4||g.stateNode.containerInfo!==b.containerInfo||g.stateNode.implementation!==b.implementation?(g=Wo(b,p.mode,E),g.return=p,g):(g=s(g,b.children||[]),g.return=p,g)}function u(p,g,b,E,R){return g===null||g.tag!==7?(g=_n(b,p.mode,E,R),g.return=p,g):(g=s(g,b),g.return=p,g)}function h(p,g,b){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Ho(""+g,p.mode,b),g.return=p,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Fi:return b=ka(g.type,g.key,g.props,null,p.mode,b),b.ref=Os(p,null,g),b.return=p,b;case Qn:return g=Wo(g,p.mode,b),g.return=p,g;case Vr:var E=g._init;return h(p,E(g._payload),b)}if(zs(g)||Is(g))return g=_n(g,p.mode,b,null),g.return=p,g;Qi(p,g)}return null}function x(p,g,b,E){var R=g!==null?g.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return R!==null?null:l(p,g,""+b,E);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Fi:return b.key===R?d(p,g,b,E):null;case Qn:return b.key===R?c(p,g,b,E):null;case Vr:return R=b._init,x(p,g,R(b._payload),E)}if(zs(b)||Is(b))return R!==null?null:u(p,g,b,E,null);Qi(p,b)}return null}function v(p,g,b,E,R){if(typeof E=="string"&&E!==""||typeof E=="number")return p=p.get(b)||null,l(g,p,""+E,R);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Fi:return p=p.get(E.key===null?b:E.key)||null,d(g,p,E,R);case Qn:return p=p.get(E.key===null?b:E.key)||null,c(g,p,E,R);case Vr:var Y=E._init;return v(p,g,b,Y(E._payload),R)}if(zs(E)||Is(E))return p=p.get(b)||null,u(g,p,E,R,null);Qi(g,E)}return null}function k(p,g,b,E){for(var R=null,Y=null,P=g,X=g=0,Ne=null;P!==null&&X<b.length;X++){P.index>X?(Ne=P,P=null):Ne=P.sibling;var ye=x(p,P,b[X],E);if(ye===null){P===null&&(P=Ne);break}e&&P&&ye.alternate===null&&t(p,P),g=a(ye,g,X),Y===null?R=ye:Y.sibling=ye,Y=ye,P=Ne}if(X===b.length)return r(p,P),ct&&mn(p,X),R;if(P===null){for(;X<b.length;X++)P=h(p,b[X],E),P!==null&&(g=a(P,g,X),Y===null?R=P:Y.sibling=P,Y=P);return ct&&mn(p,X),R}for(P=n(p,P);X<b.length;X++)Ne=v(P,p,X,b[X],E),Ne!==null&&(e&&Ne.alternate!==null&&P.delete(Ne.key===null?X:Ne.key),g=a(Ne,g,X),Y===null?R=Ne:Y.sibling=Ne,Y=Ne);return e&&P.forEach(function(Me){return t(p,Me)}),ct&&mn(p,X),R}function N(p,g,b,E){var R=Is(b);if(typeof R!="function")throw Error(we(150));if(b=R.call(b),b==null)throw Error(we(151));for(var Y=R=null,P=g,X=g=0,Ne=null,ye=b.next();P!==null&&!ye.done;X++,ye=b.next()){P.index>X?(Ne=P,P=null):Ne=P.sibling;var Me=x(p,P,ye.value,E);if(Me===null){P===null&&(P=Ne);break}e&&P&&Me.alternate===null&&t(p,P),g=a(Me,g,X),Y===null?R=Me:Y.sibling=Me,Y=Me,P=Ne}if(ye.done)return r(p,P),ct&&mn(p,X),R;if(P===null){for(;!ye.done;X++,ye=b.next())ye=h(p,ye.value,E),ye!==null&&(g=a(ye,g,X),Y===null?R=ye:Y.sibling=ye,Y=ye);return ct&&mn(p,X),R}for(P=n(p,P);!ye.done;X++,ye=b.next())ye=v(P,p,X,ye.value,E),ye!==null&&(e&&ye.alternate!==null&&P.delete(ye.key===null?X:ye.key),g=a(ye,g,X),Y===null?R=ye:Y.sibling=ye,Y=ye);return e&&P.forEach(function(Ie){return t(p,Ie)}),ct&&mn(p,X),R}function _(p,g,b,E){if(typeof b=="object"&&b!==null&&b.type===Jn&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Fi:e:{for(var R=b.key,Y=g;Y!==null;){if(Y.key===R){if(R=b.type,R===Jn){if(Y.tag===7){r(p,Y.sibling),g=s(Y,b.props.children),g.return=p,p=g;break e}}else if(Y.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Vr&&Kc(R)===Y.type){r(p,Y.sibling),g=s(Y,b.props),g.ref=Os(p,Y,b),g.return=p,p=g;break e}r(p,Y);break}else t(p,Y);Y=Y.sibling}b.type===Jn?(g=_n(b.props.children,p.mode,E,b.key),g.return=p,p=g):(E=ka(b.type,b.key,b.props,null,p.mode,E),E.ref=Os(p,g,b),E.return=p,p=E)}return o(p);case Qn:e:{for(Y=b.key;g!==null;){if(g.key===Y)if(g.tag===4&&g.stateNode.containerInfo===b.containerInfo&&g.stateNode.implementation===b.implementation){r(p,g.sibling),g=s(g,b.children||[]),g.return=p,p=g;break e}else{r(p,g);break}else t(p,g);g=g.sibling}g=Wo(b,p.mode,E),g.return=p,p=g}return o(p);case Vr:return Y=b._init,_(p,g,Y(b._payload),E)}if(zs(b))return k(p,g,b,E);if(Is(b))return N(p,g,b,E);Qi(p,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,g!==null&&g.tag===6?(r(p,g.sibling),g=s(g,b),g.return=p,p=g):(r(p,g),g=Ho(b,p.mode,E),g.return=p,p=g),o(p)):r(p,g)}return _}var ys=Cf(!0),Ef=Cf(!1),Oa=un(null),Da=null,ss=null,Rd=null;function Pd(){Rd=ss=Da=null}function Ad(e){var t=Oa.current;dt(Oa),e._currentValue=t}function Rl(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function fs(e,t){Da=e,Rd=ss=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Vt=!0),e.firstContext=null)}function ar(e){var t=e._currentValue;if(Rd!==e)if(e={context:e,memoizedValue:t,next:null},ss===null){if(Da===null)throw Error(we(308));ss=e,Da.dependencies={lanes:0,firstContext:e}}else ss=ss.next=e;return t}var kn=null;function Od(e){kn===null?kn=[e]:kn.push(e)}function Lf(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Od(t)):(r.next=s.next,s.next=r),t.interleaved=r,Dr(e,n)}function Dr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var qr=!1;function Dd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Tf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Pr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function rn(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,tt&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Dr(e,r)}return s=n.interleaved,s===null?(t.next=t,Od(n)):(t.next=s.next,s.next=t),n.interleaved=t,Dr(e,r)}function ma(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,kd(e,r)}}function Gc(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?s=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?s=a=t:a=a.next=t}else s=a=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Fa(e,t,r,n){var s=e.updateQueue;qr=!1;var a=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var d=l,c=d.next;d.next=null,o===null?a=c:o.next=c,o=d;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=c:l.next=c,u.lastBaseUpdate=d))}if(a!==null){var h=s.baseState;o=0,u=c=d=null,l=a;do{var x=l.lane,v=l.eventTime;if((n&x)===x){u!==null&&(u=u.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var k=e,N=l;switch(x=t,v=r,N.tag){case 1:if(k=N.payload,typeof k=="function"){h=k.call(v,h,x);break e}h=k;break e;case 3:k.flags=k.flags&-65537|128;case 0:if(k=N.payload,x=typeof k=="function"?k.call(v,h,x):k,x==null)break e;h=ft({},h,x);break e;case 2:qr=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,x=s.effects,x===null?s.effects=[l]:x.push(l))}else v={eventTime:v,lane:x,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(c=u=v,d=h):u=u.next=v,o|=x;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;x=l,l=x.next,x.next=null,s.lastBaseUpdate=x,s.shared.pending=null}}while(!0);if(u===null&&(d=h),s.baseState=d,s.firstBaseUpdate=c,s.lastBaseUpdate=u,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);Tn|=o,e.lanes=o,e.memoizedState=h}}function Qc(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(we(191,s));s.call(n)}}}var $i={},_r=un($i),fi=un($i),pi=un($i);function Nn(e){if(e===$i)throw Error(we(174));return e}function Fd(e,t){switch(ot(pi,t),ot(fi,e),ot(_r,$i),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:fl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=fl(t,e)}dt(_r),ot(_r,t)}function bs(){dt(_r),dt(fi),dt(pi)}function If(e){Nn(pi.current);var t=Nn(_r.current),r=fl(t,e.type);t!==r&&(ot(fi,e),ot(_r,r))}function Md(e){fi.current===e&&(dt(_r),dt(fi))}var ut=un(0);function Ma(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Mo=[];function Ud(){for(var e=0;e<Mo.length;e++)Mo[e]._workInProgressVersionPrimary=null;Mo.length=0}var xa=Ur.ReactCurrentDispatcher,Uo=Ur.ReactCurrentBatchConfig,Ln=0,ht=null,wt=null,jt=null,Ua=!1,Js=!1,gi=0,r0=0;function It(){throw Error(we(321))}function zd(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!yr(e[r],t[r]))return!1;return!0}function Bd(e,t,r,n,s,a){if(Ln=a,ht=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,xa.current=e===null||e.memoizedState===null?a0:o0,e=r(n,s),Js){a=0;do{if(Js=!1,gi=0,25<=a)throw Error(we(301));a+=1,jt=wt=null,t.updateQueue=null,xa.current=l0,e=r(n,s)}while(Js)}if(xa.current=za,t=wt!==null&&wt.next!==null,Ln=0,jt=wt=ht=null,Ua=!1,t)throw Error(we(300));return e}function Vd(){var e=gi!==0;return gi=0,e}function Nr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?ht.memoizedState=jt=e:jt=jt.next=e,jt}function or(){if(wt===null){var e=ht.alternate;e=e!==null?e.memoizedState:null}else e=wt.next;var t=jt===null?ht.memoizedState:jt.next;if(t!==null)jt=t,wt=e;else{if(e===null)throw Error(we(310));wt=e,e={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},jt===null?ht.memoizedState=jt=e:jt=jt.next=e}return jt}function mi(e,t){return typeof t=="function"?t(e):t}function zo(e){var t=or(),r=t.queue;if(r===null)throw Error(we(311));r.lastRenderedReducer=e;var n=wt,s=n.baseQueue,a=r.pending;if(a!==null){if(s!==null){var o=s.next;s.next=a.next,a.next=o}n.baseQueue=s=a,r.pending=null}if(s!==null){a=s.next,n=n.baseState;var l=o=null,d=null,c=a;do{var u=c.lane;if((Ln&u)===u)d!==null&&(d=d.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};d===null?(l=d=h,o=n):d=d.next=h,ht.lanes|=u,Tn|=u}c=c.next}while(c!==null&&c!==a);d===null?o=n:d.next=l,yr(n,t.memoizedState)||(Vt=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=d,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do a=s.lane,ht.lanes|=a,Tn|=a,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Bo(e){var t=or(),r=t.queue;if(r===null)throw Error(we(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,a=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do a=e(a,o.action),o=o.next;while(o!==s);yr(a,t.memoizedState)||(Vt=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function $f(){}function Rf(e,t){var r=ht,n=or(),s=t(),a=!yr(n.memoizedState,s);if(a&&(n.memoizedState=s,Vt=!0),n=n.queue,qd(Of.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||jt!==null&&jt.memoizedState.tag&1){if(r.flags|=2048,xi(9,Af.bind(null,r,n,s,t),void 0,null),St===null)throw Error(we(349));Ln&30||Pf(r,t,s)}return s}function Pf(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ht.updateQueue,t===null?(t={lastEffect:null,stores:null},ht.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Af(e,t,r,n){t.value=r,t.getSnapshot=n,Df(t)&&Ff(e)}function Of(e,t,r){return r(function(){Df(t)&&Ff(e)})}function Df(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!yr(e,r)}catch{return!0}}function Ff(e){var t=Dr(e,1);t!==null&&vr(t,e,1,-1)}function Jc(e){var t=Nr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:mi,lastRenderedState:e},t.queue=e,e=e.dispatch=i0.bind(null,ht,e),[t.memoizedState,e]}function xi(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ht.updateQueue,t===null?(t={lastEffect:null,stores:null},ht.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Mf(){return or().memoizedState}function va(e,t,r,n){var s=Nr();ht.flags|=e,s.memoizedState=xi(1|t,r,void 0,n===void 0?null:n)}function io(e,t,r,n){var s=or();n=n===void 0?null:n;var a=void 0;if(wt!==null){var o=wt.memoizedState;if(a=o.destroy,n!==null&&zd(n,o.deps)){s.memoizedState=xi(t,r,a,n);return}}ht.flags|=e,s.memoizedState=xi(1|t,r,a,n)}function Yc(e,t){return va(8390656,8,e,t)}function qd(e,t){return io(2048,8,e,t)}function Uf(e,t){return io(4,2,e,t)}function zf(e,t){return io(4,4,e,t)}function Bf(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Vf(e,t,r){return r=r!=null?r.concat([e]):null,io(4,4,Bf.bind(null,t,e),r)}function Hd(){}function qf(e,t){var r=or();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&zd(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Hf(e,t){var r=or();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&zd(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Wf(e,t,r){return Ln&21?(yr(r,t)||(r=Jh(),ht.lanes|=r,Tn|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Vt=!0),e.memoizedState=r)}function n0(e,t){var r=it;it=r!==0&&4>r?r:4,e(!0);var n=Uo.transition;Uo.transition={};try{e(!1),t()}finally{it=r,Uo.transition=n}}function Kf(){return or().memoizedState}function s0(e,t,r){var n=sn(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Gf(e))Qf(t,r);else if(r=Lf(e,t,r,n),r!==null){var s=Dt();vr(r,e,n,s),Jf(r,t,n)}}function i0(e,t,r){var n=sn(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Gf(e))Qf(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,r);if(s.hasEagerState=!0,s.eagerState=l,yr(l,o)){var d=t.interleaved;d===null?(s.next=s,Od(t)):(s.next=d.next,d.next=s),t.interleaved=s;return}}catch{}finally{}r=Lf(e,t,s,n),r!==null&&(s=Dt(),vr(r,e,n,s),Jf(r,t,n))}}function Gf(e){var t=e.alternate;return e===ht||t!==null&&t===ht}function Qf(e,t){Js=Ua=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Jf(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,kd(e,r)}}var za={readContext:ar,useCallback:It,useContext:It,useEffect:It,useImperativeHandle:It,useInsertionEffect:It,useLayoutEffect:It,useMemo:It,useReducer:It,useRef:It,useState:It,useDebugValue:It,useDeferredValue:It,useTransition:It,useMutableSource:It,useSyncExternalStore:It,useId:It,unstable_isNewReconciler:!1},a0={readContext:ar,useCallback:function(e,t){return Nr().memoizedState=[e,t===void 0?null:t],e},useContext:ar,useEffect:Yc,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,va(4194308,4,Bf.bind(null,t,e),r)},useLayoutEffect:function(e,t){return va(4194308,4,e,t)},useInsertionEffect:function(e,t){return va(4,2,e,t)},useMemo:function(e,t){var r=Nr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Nr();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=s0.bind(null,ht,e),[n.memoizedState,e]},useRef:function(e){var t=Nr();return e={current:e},t.memoizedState=e},useState:Jc,useDebugValue:Hd,useDeferredValue:function(e){return Nr().memoizedState=e},useTransition:function(){var e=Jc(!1),t=e[0];return e=n0.bind(null,e[1]),Nr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ht,s=Nr();if(ct){if(r===void 0)throw Error(we(407));r=r()}else{if(r=t(),St===null)throw Error(we(349));Ln&30||Pf(n,t,r)}s.memoizedState=r;var a={value:r,getSnapshot:t};return s.queue=a,Yc(Of.bind(null,n,a,e),[e]),n.flags|=2048,xi(9,Af.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=Nr(),t=St.identifierPrefix;if(ct){var r=Rr,n=$r;r=(n&~(1<<32-xr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=gi++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=r0++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},o0={readContext:ar,useCallback:qf,useContext:ar,useEffect:qd,useImperativeHandle:Vf,useInsertionEffect:Uf,useLayoutEffect:zf,useMemo:Hf,useReducer:zo,useRef:Mf,useState:function(){return zo(mi)},useDebugValue:Hd,useDeferredValue:function(e){var t=or();return Wf(t,wt.memoizedState,e)},useTransition:function(){var e=zo(mi)[0],t=or().memoizedState;return[e,t]},useMutableSource:$f,useSyncExternalStore:Rf,useId:Kf,unstable_isNewReconciler:!1},l0={readContext:ar,useCallback:qf,useContext:ar,useEffect:qd,useImperativeHandle:Vf,useInsertionEffect:Uf,useLayoutEffect:zf,useMemo:Hf,useReducer:Bo,useRef:Mf,useState:function(){return Bo(mi)},useDebugValue:Hd,useDeferredValue:function(e){var t=or();return wt===null?t.memoizedState=e:Wf(t,wt.memoizedState,e)},useTransition:function(){var e=Bo(mi)[0],t=or().memoizedState;return[e,t]},useMutableSource:$f,useSyncExternalStore:Rf,useId:Kf,unstable_isNewReconciler:!1};function hr(e,t){if(e&&e.defaultProps){t=ft({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Pl(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ft({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var ao={isMounted:function(e){return(e=e._reactInternals)?Rn(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Dt(),s=sn(e),a=Pr(n,s);a.payload=t,r!=null&&(a.callback=r),t=rn(e,a,s),t!==null&&(vr(t,e,s,n),ma(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Dt(),s=sn(e),a=Pr(n,s);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=rn(e,a,s),t!==null&&(vr(t,e,s,n),ma(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Dt(),n=sn(e),s=Pr(r,n);s.tag=2,t!=null&&(s.callback=t),t=rn(e,s,n),t!==null&&(vr(t,e,n,r),ma(t,e,n))}};function Xc(e,t,r,n,s,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,o):t.prototype&&t.prototype.isPureReactComponent?!di(r,n)||!di(s,a):!0}function Yf(e,t,r){var n=!1,s=dn,a=t.contextType;return typeof a=="object"&&a!==null?a=ar(a):(s=Ht(t)?Cn:Pt.current,n=t.contextTypes,a=(n=n!=null)?xs(e,s):dn),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ao,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function Zc(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&ao.enqueueReplaceState(t,t.state,null)}function Al(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Dd(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=ar(a):(a=Ht(t)?Cn:Pt.current,s.context=xs(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Pl(e,t,a,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&ao.enqueueReplaceState(s,s.state,null),Fa(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function ws(e,t){try{var r="",n=t;do r+=Og(n),n=n.return;while(n);var s=r}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function Vo(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Ol(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var d0=typeof WeakMap=="function"?WeakMap:Map;function Xf(e,t,r){r=Pr(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Va||(Va=!0,Wl=n),Ol(e,t)},r}function Zf(e,t,r){r=Pr(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Ol(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){Ol(e,t),typeof n!="function"&&(nn===null?nn=new Set([this]):nn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function eu(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new d0;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=N0.bind(null,e,t,r),t.then(e,e))}function tu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ru(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Pr(-1,1),t.tag=2,rn(r,t,1))),r.lanes|=1),e)}var c0=Ur.ReactCurrentOwner,Vt=!1;function Ot(e,t,r,n){t.child=e===null?Ef(t,null,r,n):ys(t,e.child,r,n)}function nu(e,t,r,n,s){r=r.render;var a=t.ref;return fs(t,s),n=Bd(e,t,r,n,a,s),r=Vd(),e!==null&&!Vt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Fr(e,t,s)):(ct&&r&&Td(t),t.flags|=1,Ot(e,t,n,s),t.child)}function su(e,t,r,n,s){if(e===null){var a=r.type;return typeof a=="function"&&!Zd(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,ep(e,t,a,n,s)):(e=ka(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:di,r(o,n)&&e.ref===t.ref)return Fr(e,t,s)}return t.flags|=1,e=an(a,n),e.ref=t.ref,e.return=t,t.child=e}function ep(e,t,r,n,s){if(e!==null){var a=e.memoizedProps;if(di(a,n)&&e.ref===t.ref)if(Vt=!1,t.pendingProps=n=a,(e.lanes&s)!==0)e.flags&131072&&(Vt=!0);else return t.lanes=e.lanes,Fr(e,t,s)}return Dl(e,t,r,n,s)}function tp(e,t,r){var n=t.pendingProps,s=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ot(as,Qt),Qt|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ot(as,Qt),Qt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,ot(as,Qt),Qt|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,ot(as,Qt),Qt|=n;return Ot(e,t,s,r),t.child}function rp(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Dl(e,t,r,n,s){var a=Ht(r)?Cn:Pt.current;return a=xs(t,a),fs(t,s),r=Bd(e,t,r,n,a,s),n=Vd(),e!==null&&!Vt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Fr(e,t,s)):(ct&&n&&Td(t),t.flags|=1,Ot(e,t,r,s),t.child)}function iu(e,t,r,n,s){if(Ht(r)){var a=!0;Ra(t)}else a=!1;if(fs(t,s),t.stateNode===null)ya(e,t),Yf(t,r,n),Al(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var d=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=ar(c):(c=Ht(r)?Cn:Pt.current,c=xs(t,c));var u=r.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||d!==c)&&Zc(t,o,n,c),qr=!1;var x=t.memoizedState;o.state=x,Fa(t,n,o,s),d=t.memoizedState,l!==n||x!==d||qt.current||qr?(typeof u=="function"&&(Pl(t,r,u,n),d=t.memoizedState),(l=qr||Xc(t,r,l,n,x,d,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=d),o.props=n,o.state=d,o.context=c,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,Tf(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:hr(t.type,l),o.props=c,h=t.pendingProps,x=o.context,d=r.contextType,typeof d=="object"&&d!==null?d=ar(d):(d=Ht(r)?Cn:Pt.current,d=xs(t,d));var v=r.getDerivedStateFromProps;(u=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||x!==d)&&Zc(t,o,n,d),qr=!1,x=t.memoizedState,o.state=x,Fa(t,n,o,s);var k=t.memoizedState;l!==h||x!==k||qt.current||qr?(typeof v=="function"&&(Pl(t,r,v,n),k=t.memoizedState),(c=qr||Xc(t,r,c,n,x,k,d)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,k,d),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,k,d)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=k),o.props=n,o.state=k,o.context=d,n=c):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),n=!1)}return Fl(e,t,r,n,a,s)}function Fl(e,t,r,n,s,a){rp(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&qc(t,r,!1),Fr(e,t,a);n=t.stateNode,c0.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=ys(t,e.child,null,a),t.child=ys(t,null,l,a)):Ot(e,t,l,a),t.memoizedState=n.state,s&&qc(t,r,!0),t.child}function np(e){var t=e.stateNode;t.pendingContext?Vc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Vc(e,t.context,!1),Fd(e,t.containerInfo)}function au(e,t,r,n,s){return vs(),$d(s),t.flags|=256,Ot(e,t,r,n),t.child}var Ml={dehydrated:null,treeContext:null,retryLane:0};function Ul(e){return{baseLanes:e,cachePool:null,transitions:null}}function sp(e,t,r){var n=t.pendingProps,s=ut.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ot(ut,s&1),e===null)return $l(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,a?(n=t.mode,a=t.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=co(o,n,0,null),e=_n(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ul(r),t.memoizedState=Ml,e):Wd(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return u0(e,t,o,n,l,s,r);if(a){a=n.fallback,o=t.mode,s=e.child,l=s.sibling;var d={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=d,t.deletions=null):(n=an(s,d),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?a=an(l,a):(a=_n(a,o,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,o=e.child.memoizedState,o=o===null?Ul(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~r,t.memoizedState=Ml,n}return a=e.child,e=a.sibling,n=an(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Wd(e,t){return t=co({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ji(e,t,r,n){return n!==null&&$d(n),ys(t,e.child,null,r),e=Wd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function u0(e,t,r,n,s,a,o){if(r)return t.flags&256?(t.flags&=-257,n=Vo(Error(we(422))),Ji(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,s=t.mode,n=co({mode:"visible",children:n.children},s,0,null),a=_n(a,s,o,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&ys(t,e.child,null,o),t.child.memoizedState=Ul(o),t.memoizedState=Ml,a);if(!(t.mode&1))return Ji(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(we(419)),n=Vo(a,n,void 0),Ji(e,t,o,n)}if(l=(o&e.childLanes)!==0,Vt||l){if(n=St,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,Dr(e,s),vr(n,e,s,-1))}return Xd(),n=Vo(Error(we(421))),Ji(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=j0.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,Yt=tn(s.nextSibling),Xt=t,ct=!0,mr=null,e!==null&&(rr[nr++]=$r,rr[nr++]=Rr,rr[nr++]=En,$r=e.id,Rr=e.overflow,En=t),t=Wd(t,n.children),t.flags|=4096,t)}function ou(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Rl(e.return,t,r)}function qo(e,t,r,n,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=s)}function ip(e,t,r){var n=t.pendingProps,s=n.revealOrder,a=n.tail;if(Ot(e,t,n.children,r),n=ut.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ou(e,r,t);else if(e.tag===19)ou(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ot(ut,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Ma(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),qo(t,!1,s,r,a);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ma(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}qo(t,!0,r,null,a);break;case"together":qo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ya(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Fr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Tn|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(we(153));if(t.child!==null){for(e=t.child,r=an(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=an(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function h0(e,t,r){switch(t.tag){case 3:np(t),vs();break;case 5:If(t);break;case 1:Ht(t.type)&&Ra(t);break;case 4:Fd(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;ot(Oa,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(ot(ut,ut.current&1),t.flags|=128,null):r&t.child.childLanes?sp(e,t,r):(ot(ut,ut.current&1),e=Fr(e,t,r),e!==null?e.sibling:null);ot(ut,ut.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return ip(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ot(ut,ut.current),n)break;return null;case 22:case 23:return t.lanes=0,tp(e,t,r)}return Fr(e,t,r)}var ap,zl,op,lp;ap=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};zl=function(){};op=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Nn(_r.current);var a=null;switch(r){case"input":s=dl(e,s),n=dl(e,n),a=[];break;case"select":s=ft({},s,{value:void 0}),n=ft({},n,{value:void 0}),a=[];break;case"textarea":s=hl(e,s),n=hl(e,n),a=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Ia)}pl(r,n);var o;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var l=s[c];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ri.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in n){var d=n[c];if(l=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&d!==l&&(d!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||d&&d.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in d)d.hasOwnProperty(o)&&l[o]!==d[o]&&(r||(r={}),r[o]=d[o])}else r||(a||(a=[]),a.push(c,r)),r=d;else c==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,l=l?l.__html:void 0,d!=null&&l!==d&&(a=a||[]).push(c,d)):c==="children"?typeof d!="string"&&typeof d!="number"||(a=a||[]).push(c,""+d):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ri.hasOwnProperty(c)?(d!=null&&c==="onScroll"&&lt("scroll",e),a||l===d||(a=[])):(a=a||[]).push(c,d))}r&&(a=a||[]).push("style",r);var c=a;(t.updateQueue=c)&&(t.flags|=4)}};lp=function(e,t,r,n){r!==n&&(t.flags|=4)};function Ds(e,t){if(!ct)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function $t(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function f0(e,t,r){var n=t.pendingProps;switch(Id(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(t),null;case 1:return Ht(t.type)&&$a(),$t(t),null;case 3:return n=t.stateNode,bs(),dt(qt),dt(Pt),Ud(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Gi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,mr!==null&&(Ql(mr),mr=null))),zl(e,t),$t(t),null;case 5:Md(t);var s=Nn(pi.current);if(r=t.type,e!==null&&t.stateNode!=null)op(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(we(166));return $t(t),null}if(e=Nn(_r.current),Gi(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[jr]=t,n[hi]=a,e=(t.mode&1)!==0,r){case"dialog":lt("cancel",n),lt("close",n);break;case"iframe":case"object":case"embed":lt("load",n);break;case"video":case"audio":for(s=0;s<Vs.length;s++)lt(Vs[s],n);break;case"source":lt("error",n);break;case"img":case"image":case"link":lt("error",n),lt("load",n);break;case"details":lt("toggle",n);break;case"input":mc(n,a),lt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},lt("invalid",n);break;case"textarea":vc(n,a),lt("invalid",n)}pl(r,a),s=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&Ki(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Ki(n.textContent,l,e),s=["children",""+l]):ri.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&lt("scroll",n)}switch(r){case"input":Mi(n),xc(n,a,!0);break;case"textarea":Mi(n),yc(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Ia)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ah(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[jr]=t,e[hi]=n,ap(e,t,!1,!1),t.stateNode=e;e:{switch(o=gl(r,n),r){case"dialog":lt("cancel",e),lt("close",e),s=n;break;case"iframe":case"object":case"embed":lt("load",e),s=n;break;case"video":case"audio":for(s=0;s<Vs.length;s++)lt(Vs[s],e);s=n;break;case"source":lt("error",e),s=n;break;case"img":case"image":case"link":lt("error",e),lt("load",e),s=n;break;case"details":lt("toggle",e),s=n;break;case"input":mc(e,n),s=dl(e,n),lt("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=ft({},n,{value:void 0}),lt("invalid",e);break;case"textarea":vc(e,n),s=hl(e,n),lt("invalid",e);break;default:s=n}pl(r,s),l=s;for(a in l)if(l.hasOwnProperty(a)){var d=l[a];a==="style"?Fh(e,d):a==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&Oh(e,d)):a==="children"?typeof d=="string"?(r!=="textarea"||d!=="")&&ni(e,d):typeof d=="number"&&ni(e,""+d):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(ri.hasOwnProperty(a)?d!=null&&a==="onScroll"&&lt("scroll",e):d!=null&&md(e,a,d,o))}switch(r){case"input":Mi(e),xc(e,n,!1);break;case"textarea":Mi(e),yc(e);break;case"option":n.value!=null&&e.setAttribute("value",""+ln(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?ds(e,!!n.multiple,a,!1):n.defaultValue!=null&&ds(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ia)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return $t(t),null;case 6:if(e&&t.stateNode!=null)lp(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(we(166));if(r=Nn(pi.current),Nn(_r.current),Gi(t)){if(n=t.stateNode,r=t.memoizedProps,n[jr]=t,(a=n.nodeValue!==r)&&(e=Xt,e!==null))switch(e.tag){case 3:Ki(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ki(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[jr]=t,t.stateNode=n}return $t(t),null;case 13:if(dt(ut),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ct&&Yt!==null&&t.mode&1&&!(t.flags&128))_f(),vs(),t.flags|=98560,a=!1;else if(a=Gi(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(we(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(we(317));a[jr]=t}else vs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;$t(t),a=!1}else mr!==null&&(Ql(mr),mr=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ut.current&1?kt===0&&(kt=3):Xd())),t.updateQueue!==null&&(t.flags|=4),$t(t),null);case 4:return bs(),zl(e,t),e===null&&ci(t.stateNode.containerInfo),$t(t),null;case 10:return Ad(t.type._context),$t(t),null;case 17:return Ht(t.type)&&$a(),$t(t),null;case 19:if(dt(ut),a=t.memoizedState,a===null)return $t(t),null;if(n=(t.flags&128)!==0,o=a.rendering,o===null)if(n)Ds(a,!1);else{if(kt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ma(e),o!==null){for(t.flags|=128,Ds(a,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ot(ut,ut.current&1|2),t.child}e=e.sibling}a.tail!==null&&mt()>ks&&(t.flags|=128,n=!0,Ds(a,!1),t.lanes=4194304)}else{if(!n)if(e=Ma(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Ds(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!ct)return $t(t),null}else 2*mt()-a.renderingStartTime>ks&&r!==1073741824&&(t.flags|=128,n=!0,Ds(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(r=a.last,r!==null?r.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=mt(),t.sibling=null,r=ut.current,ot(ut,n?r&1|2:r&1),t):($t(t),null);case 22:case 23:return Yd(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Qt&1073741824&&($t(t),t.subtreeFlags&6&&(t.flags|=8192)):$t(t),null;case 24:return null;case 25:return null}throw Error(we(156,t.tag))}function p0(e,t){switch(Id(t),t.tag){case 1:return Ht(t.type)&&$a(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return bs(),dt(qt),dt(Pt),Ud(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Md(t),null;case 13:if(dt(ut),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(we(340));vs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return dt(ut),null;case 4:return bs(),null;case 10:return Ad(t.type._context),null;case 22:case 23:return Yd(),null;case 24:return null;default:return null}}var Yi=!1,Rt=!1,g0=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function is(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){gt(e,t,n)}else r.current=null}function Bl(e,t,r){try{r()}catch(n){gt(e,t,n)}}var lu=!1;function m0(e,t){if(Sl=Ea,e=ff(),Ld(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,l=-1,d=-1,c=0,u=0,h=e,x=null;t:for(;;){for(var v;h!==r||s!==0&&h.nodeType!==3||(l=o+s),h!==a||n!==0&&h.nodeType!==3||(d=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(v=h.firstChild)!==null;)x=h,h=v;for(;;){if(h===e)break t;if(x===r&&++c===s&&(l=o),x===a&&++u===n&&(d=o),(v=h.nextSibling)!==null)break;h=x,x=h.parentNode}h=v}r=l===-1||d===-1?null:{start:l,end:d}}else r=null}r=r||{start:0,end:0}}else r=null;for(_l={focusedElem:e,selectionRange:r},Ea=!1,Pe=t;Pe!==null;)if(t=Pe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Pe=e;else for(;Pe!==null;){t=Pe;try{var k=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(k!==null){var N=k.memoizedProps,_=k.memoizedState,p=t.stateNode,g=p.getSnapshotBeforeUpdate(t.elementType===t.type?N:hr(t.type,N),_);p.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(we(163))}}catch(E){gt(t,t.return,E)}if(e=t.sibling,e!==null){e.return=t.return,Pe=e;break}Pe=t.return}return k=lu,lu=!1,k}function Ys(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&Bl(t,r,a)}s=s.next}while(s!==n)}}function oo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Vl(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function dp(e){var t=e.alternate;t!==null&&(e.alternate=null,dp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[jr],delete t[hi],delete t[Ll],delete t[Xm],delete t[Zm])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function cp(e){return e.tag===5||e.tag===3||e.tag===4}function du(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||cp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ql(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ia));else if(n!==4&&(e=e.child,e!==null))for(ql(e,t,r),e=e.sibling;e!==null;)ql(e,t,r),e=e.sibling}function Hl(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Hl(e,t,r),e=e.sibling;e!==null;)Hl(e,t,r),e=e.sibling}var Et=null,pr=!1;function Br(e,t,r){for(r=r.child;r!==null;)up(e,t,r),r=r.sibling}function up(e,t,r){if(Sr&&typeof Sr.onCommitFiberUnmount=="function")try{Sr.onCommitFiberUnmount(Za,r)}catch{}switch(r.tag){case 5:Rt||is(r,t);case 6:var n=Et,s=pr;Et=null,Br(e,t,r),Et=n,pr=s,Et!==null&&(pr?(e=Et,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Et.removeChild(r.stateNode));break;case 18:Et!==null&&(pr?(e=Et,r=r.stateNode,e.nodeType===8?Do(e.parentNode,r):e.nodeType===1&&Do(e,r),oi(e)):Do(Et,r.stateNode));break;case 4:n=Et,s=pr,Et=r.stateNode.containerInfo,pr=!0,Br(e,t,r),Et=n,pr=s;break;case 0:case 11:case 14:case 15:if(!Rt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var a=s,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&Bl(r,t,o),s=s.next}while(s!==n)}Br(e,t,r);break;case 1:if(!Rt&&(is(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){gt(r,t,l)}Br(e,t,r);break;case 21:Br(e,t,r);break;case 22:r.mode&1?(Rt=(n=Rt)||r.memoizedState!==null,Br(e,t,r),Rt=n):Br(e,t,r);break;default:Br(e,t,r)}}function cu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new g0),t.forEach(function(n){var s=S0.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function lr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Et=l.stateNode,pr=!1;break e;case 3:Et=l.stateNode.containerInfo,pr=!0;break e;case 4:Et=l.stateNode.containerInfo,pr=!0;break e}l=l.return}if(Et===null)throw Error(we(160));up(a,o,s),Et=null,pr=!1;var d=s.alternate;d!==null&&(d.return=null),s.return=null}catch(c){gt(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)hp(t,e),t=t.sibling}function hp(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(lr(t,e),wr(e),n&4){try{Ys(3,e,e.return),oo(3,e)}catch(N){gt(e,e.return,N)}try{Ys(5,e,e.return)}catch(N){gt(e,e.return,N)}}break;case 1:lr(t,e),wr(e),n&512&&r!==null&&is(r,r.return);break;case 5:if(lr(t,e),wr(e),n&512&&r!==null&&is(r,r.return),e.flags&32){var s=e.stateNode;try{ni(s,"")}catch(N){gt(e,e.return,N)}}if(n&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,o=r!==null?r.memoizedProps:a,l=e.type,d=e.updateQueue;if(e.updateQueue=null,d!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&Rh(s,a),gl(l,o);var c=gl(l,a);for(o=0;o<d.length;o+=2){var u=d[o],h=d[o+1];u==="style"?Fh(s,h):u==="dangerouslySetInnerHTML"?Oh(s,h):u==="children"?ni(s,h):md(s,u,h,c)}switch(l){case"input":cl(s,a);break;case"textarea":Ph(s,a);break;case"select":var x=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var v=a.value;v!=null?ds(s,!!a.multiple,v,!1):x!==!!a.multiple&&(a.defaultValue!=null?ds(s,!!a.multiple,a.defaultValue,!0):ds(s,!!a.multiple,a.multiple?[]:"",!1))}s[hi]=a}catch(N){gt(e,e.return,N)}}break;case 6:if(lr(t,e),wr(e),n&4){if(e.stateNode===null)throw Error(we(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(N){gt(e,e.return,N)}}break;case 3:if(lr(t,e),wr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{oi(t.containerInfo)}catch(N){gt(e,e.return,N)}break;case 4:lr(t,e),wr(e);break;case 13:lr(t,e),wr(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(Qd=mt())),n&4&&cu(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(Rt=(c=Rt)||u,lr(t,e),Rt=c):lr(t,e),wr(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(Pe=e,u=e.child;u!==null;){for(h=Pe=u;Pe!==null;){switch(x=Pe,v=x.child,x.tag){case 0:case 11:case 14:case 15:Ys(4,x,x.return);break;case 1:is(x,x.return);var k=x.stateNode;if(typeof k.componentWillUnmount=="function"){n=x,r=x.return;try{t=n,k.props=t.memoizedProps,k.state=t.memoizedState,k.componentWillUnmount()}catch(N){gt(n,r,N)}}break;case 5:is(x,x.return);break;case 22:if(x.memoizedState!==null){hu(h);continue}}v!==null?(v.return=x,Pe=v):hu(h)}u=u.sibling}e:for(u=null,h=e;;){if(h.tag===5){if(u===null){u=h;try{s=h.stateNode,c?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=h.stateNode,d=h.memoizedProps.style,o=d!=null&&d.hasOwnProperty("display")?d.display:null,l.style.display=Dh("display",o))}catch(N){gt(e,e.return,N)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(N){gt(e,e.return,N)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:lr(t,e),wr(e),n&4&&cu(e);break;case 21:break;default:lr(t,e),wr(e)}}function wr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(cp(r)){var n=r;break e}r=r.return}throw Error(we(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(ni(s,""),n.flags&=-33);var a=du(e);Hl(e,a,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=du(e);ql(e,l,o);break;default:throw Error(we(161))}}catch(d){gt(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function x0(e,t,r){Pe=e,fp(e)}function fp(e,t,r){for(var n=(e.mode&1)!==0;Pe!==null;){var s=Pe,a=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Yi;if(!o){var l=s.alternate,d=l!==null&&l.memoizedState!==null||Rt;l=Yi;var c=Rt;if(Yi=o,(Rt=d)&&!c)for(Pe=s;Pe!==null;)o=Pe,d=o.child,o.tag===22&&o.memoizedState!==null?fu(s):d!==null?(d.return=o,Pe=d):fu(s);for(;a!==null;)Pe=a,fp(a),a=a.sibling;Pe=s,Yi=l,Rt=c}uu(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,Pe=a):uu(e)}}function uu(e){for(;Pe!==null;){var t=Pe;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Rt||oo(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Rt)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:hr(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Qc(t,a,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Qc(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var d=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&r.focus();break;case"img":d.src&&(r.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&oi(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(we(163))}Rt||t.flags&512&&Vl(t)}catch(x){gt(t,t.return,x)}}if(t===e){Pe=null;break}if(r=t.sibling,r!==null){r.return=t.return,Pe=r;break}Pe=t.return}}function hu(e){for(;Pe!==null;){var t=Pe;if(t===e){Pe=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Pe=r;break}Pe=t.return}}function fu(e){for(;Pe!==null;){var t=Pe;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{oo(4,t)}catch(d){gt(t,r,d)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(d){gt(t,s,d)}}var a=t.return;try{Vl(t)}catch(d){gt(t,a,d)}break;case 5:var o=t.return;try{Vl(t)}catch(d){gt(t,o,d)}}}catch(d){gt(t,t.return,d)}if(t===e){Pe=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Pe=l;break}Pe=t.return}}var v0=Math.ceil,Ba=Ur.ReactCurrentDispatcher,Kd=Ur.ReactCurrentOwner,ir=Ur.ReactCurrentBatchConfig,tt=0,St=null,vt=null,Lt=0,Qt=0,as=un(0),kt=0,vi=null,Tn=0,lo=0,Gd=0,Xs=null,zt=null,Qd=0,ks=1/0,Lr=null,Va=!1,Wl=null,nn=null,Xi=!1,Jr=null,qa=0,Zs=0,Kl=null,ba=-1,wa=0;function Dt(){return tt&6?mt():ba!==-1?ba:ba=mt()}function sn(e){return e.mode&1?tt&2&&Lt!==0?Lt&-Lt:t0.transition!==null?(wa===0&&(wa=Jh()),wa):(e=it,e!==0||(e=window.event,e=e===void 0?16:nf(e.type)),e):1}function vr(e,t,r,n){if(50<Zs)throw Zs=0,Kl=null,Error(we(185));Li(e,r,n),(!(tt&2)||e!==St)&&(e===St&&(!(tt&2)&&(lo|=r),kt===4&&Kr(e,Lt)),Wt(e,n),r===1&&tt===0&&!(t.mode&1)&&(ks=mt()+500,so&&hn()))}function Wt(e,t){var r=e.callbackNode;tm(e,t);var n=Ca(e,e===St?Lt:0);if(n===0)r!==null&&kc(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&kc(r),t===1)e.tag===0?e0(pu.bind(null,e)):Nf(pu.bind(null,e)),Jm(function(){!(tt&6)&&hn()}),r=null;else{switch(Yh(n)){case 1:r=wd;break;case 4:r=Gh;break;case 16:r=_a;break;case 536870912:r=Qh;break;default:r=_a}r=wp(r,pp.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function pp(e,t){if(ba=-1,wa=0,tt&6)throw Error(we(327));var r=e.callbackNode;if(ps()&&e.callbackNode!==r)return null;var n=Ca(e,e===St?Lt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Ha(e,n);else{t=n;var s=tt;tt|=2;var a=mp();(St!==e||Lt!==t)&&(Lr=null,ks=mt()+500,Sn(e,t));do try{w0();break}catch(l){gp(e,l)}while(!0);Pd(),Ba.current=a,tt=s,vt!==null?t=0:(St=null,Lt=0,t=kt)}if(t!==0){if(t===2&&(s=bl(e),s!==0&&(n=s,t=Gl(e,s))),t===1)throw r=vi,Sn(e,0),Kr(e,n),Wt(e,mt()),r;if(t===6)Kr(e,n);else{if(s=e.current.alternate,!(n&30)&&!y0(s)&&(t=Ha(e,n),t===2&&(a=bl(e),a!==0&&(n=a,t=Gl(e,a))),t===1))throw r=vi,Sn(e,0),Kr(e,n),Wt(e,mt()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(we(345));case 2:xn(e,zt,Lr);break;case 3:if(Kr(e,n),(n&130023424)===n&&(t=Qd+500-mt(),10<t)){if(Ca(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Dt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=El(xn.bind(null,e,zt,Lr),t);break}xn(e,zt,Lr);break;case 4:if(Kr(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-xr(n);a=1<<o,o=t[o],o>s&&(s=o),n&=~a}if(n=s,n=mt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*v0(n/1960))-n,10<n){e.timeoutHandle=El(xn.bind(null,e,zt,Lr),n);break}xn(e,zt,Lr);break;case 5:xn(e,zt,Lr);break;default:throw Error(we(329))}}}return Wt(e,mt()),e.callbackNode===r?pp.bind(null,e):null}function Gl(e,t){var r=Xs;return e.current.memoizedState.isDehydrated&&(Sn(e,t).flags|=256),e=Ha(e,t),e!==2&&(t=zt,zt=r,t!==null&&Ql(t)),e}function Ql(e){zt===null?zt=e:zt.push.apply(zt,e)}function y0(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],a=s.getSnapshot;s=s.value;try{if(!yr(a(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Kr(e,t){for(t&=~Gd,t&=~lo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-xr(t),n=1<<r;e[r]=-1,t&=~n}}function pu(e){if(tt&6)throw Error(we(327));ps();var t=Ca(e,0);if(!(t&1))return Wt(e,mt()),null;var r=Ha(e,t);if(e.tag!==0&&r===2){var n=bl(e);n!==0&&(t=n,r=Gl(e,n))}if(r===1)throw r=vi,Sn(e,0),Kr(e,t),Wt(e,mt()),r;if(r===6)throw Error(we(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xn(e,zt,Lr),Wt(e,mt()),null}function Jd(e,t){var r=tt;tt|=1;try{return e(t)}finally{tt=r,tt===0&&(ks=mt()+500,so&&hn())}}function In(e){Jr!==null&&Jr.tag===0&&!(tt&6)&&ps();var t=tt;tt|=1;var r=ir.transition,n=it;try{if(ir.transition=null,it=1,e)return e()}finally{it=n,ir.transition=r,tt=t,!(tt&6)&&hn()}}function Yd(){Qt=as.current,dt(as)}function Sn(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Qm(r)),vt!==null)for(r=vt.return;r!==null;){var n=r;switch(Id(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&$a();break;case 3:bs(),dt(qt),dt(Pt),Ud();break;case 5:Md(n);break;case 4:bs();break;case 13:dt(ut);break;case 19:dt(ut);break;case 10:Ad(n.type._context);break;case 22:case 23:Yd()}r=r.return}if(St=e,vt=e=an(e.current,null),Lt=Qt=t,kt=0,vi=null,Gd=lo=Tn=0,zt=Xs=null,kn!==null){for(t=0;t<kn.length;t++)if(r=kn[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=s,n.next=o}r.pending=n}kn=null}return e}function gp(e,t){do{var r=vt;try{if(Pd(),xa.current=za,Ua){for(var n=ht.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Ua=!1}if(Ln=0,jt=wt=ht=null,Js=!1,gi=0,Kd.current=null,r===null||r.return===null){kt=1,vi=t,vt=null;break}e:{var a=e,o=r.return,l=r,d=t;if(t=Lt,l.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var c=d,u=l,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var x=u.alternate;x?(u.updateQueue=x.updateQueue,u.memoizedState=x.memoizedState,u.lanes=x.lanes):(u.updateQueue=null,u.memoizedState=null)}var v=tu(o);if(v!==null){v.flags&=-257,ru(v,o,l,a,t),v.mode&1&&eu(a,c,t),t=v,d=c;var k=t.updateQueue;if(k===null){var N=new Set;N.add(d),t.updateQueue=N}else k.add(d);break e}else{if(!(t&1)){eu(a,c,t),Xd();break e}d=Error(we(426))}}else if(ct&&l.mode&1){var _=tu(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),ru(_,o,l,a,t),$d(ws(d,l));break e}}a=d=ws(d,l),kt!==4&&(kt=2),Xs===null?Xs=[a]:Xs.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var p=Xf(a,d,t);Gc(a,p);break e;case 1:l=d;var g=a.type,b=a.stateNode;if(!(a.flags&128)&&(typeof g.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(nn===null||!nn.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t;var E=Zf(a,l,t);Gc(a,E);break e}}a=a.return}while(a!==null)}vp(r)}catch(R){t=R,vt===r&&r!==null&&(vt=r=r.return);continue}break}while(!0)}function mp(){var e=Ba.current;return Ba.current=za,e===null?za:e}function Xd(){(kt===0||kt===3||kt===2)&&(kt=4),St===null||!(Tn&268435455)&&!(lo&268435455)||Kr(St,Lt)}function Ha(e,t){var r=tt;tt|=2;var n=mp();(St!==e||Lt!==t)&&(Lr=null,Sn(e,t));do try{b0();break}catch(s){gp(e,s)}while(!0);if(Pd(),tt=r,Ba.current=n,vt!==null)throw Error(we(261));return St=null,Lt=0,kt}function b0(){for(;vt!==null;)xp(vt)}function w0(){for(;vt!==null&&!Wg();)xp(vt)}function xp(e){var t=bp(e.alternate,e,Qt);e.memoizedProps=e.pendingProps,t===null?vp(e):vt=t,Kd.current=null}function vp(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=p0(r,t),r!==null){r.flags&=32767,vt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{kt=6,vt=null;return}}else if(r=f0(r,t,Qt),r!==null){vt=r;return}if(t=t.sibling,t!==null){vt=t;return}vt=t=e}while(t!==null);kt===0&&(kt=5)}function xn(e,t,r){var n=it,s=ir.transition;try{ir.transition=null,it=1,k0(e,t,r,n)}finally{ir.transition=s,it=n}return null}function k0(e,t,r,n){do ps();while(Jr!==null);if(tt&6)throw Error(we(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(we(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(rm(e,a),e===St&&(vt=St=null,Lt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Xi||(Xi=!0,wp(_a,function(){return ps(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=ir.transition,ir.transition=null;var o=it;it=1;var l=tt;tt|=4,Kd.current=null,m0(e,r),hp(r,e),Bm(_l),Ea=!!Sl,_l=Sl=null,e.current=r,x0(r),Kg(),tt=l,it=o,ir.transition=a}else e.current=r;if(Xi&&(Xi=!1,Jr=e,qa=s),a=e.pendingLanes,a===0&&(nn=null),Jg(r.stateNode),Wt(e,mt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Va)throw Va=!1,e=Wl,Wl=null,e;return qa&1&&e.tag!==0&&ps(),a=e.pendingLanes,a&1?e===Kl?Zs++:(Zs=0,Kl=e):Zs=0,hn(),null}function ps(){if(Jr!==null){var e=Yh(qa),t=ir.transition,r=it;try{if(ir.transition=null,it=16>e?16:e,Jr===null)var n=!1;else{if(e=Jr,Jr=null,qa=0,tt&6)throw Error(we(331));var s=tt;for(tt|=4,Pe=e.current;Pe!==null;){var a=Pe,o=a.child;if(Pe.flags&16){var l=a.deletions;if(l!==null){for(var d=0;d<l.length;d++){var c=l[d];for(Pe=c;Pe!==null;){var u=Pe;switch(u.tag){case 0:case 11:case 15:Ys(8,u,a)}var h=u.child;if(h!==null)h.return=u,Pe=h;else for(;Pe!==null;){u=Pe;var x=u.sibling,v=u.return;if(dp(u),u===c){Pe=null;break}if(x!==null){x.return=v,Pe=x;break}Pe=v}}}var k=a.alternate;if(k!==null){var N=k.child;if(N!==null){k.child=null;do{var _=N.sibling;N.sibling=null,N=_}while(N!==null)}}Pe=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,Pe=o;else e:for(;Pe!==null;){if(a=Pe,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Ys(9,a,a.return)}var p=a.sibling;if(p!==null){p.return=a.return,Pe=p;break e}Pe=a.return}}var g=e.current;for(Pe=g;Pe!==null;){o=Pe;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,Pe=b;else e:for(o=g;Pe!==null;){if(l=Pe,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:oo(9,l)}}catch(R){gt(l,l.return,R)}if(l===o){Pe=null;break e}var E=l.sibling;if(E!==null){E.return=l.return,Pe=E;break e}Pe=l.return}}if(tt=s,hn(),Sr&&typeof Sr.onPostCommitFiberRoot=="function")try{Sr.onPostCommitFiberRoot(Za,e)}catch{}n=!0}return n}finally{it=r,ir.transition=t}}return!1}function gu(e,t,r){t=ws(r,t),t=Xf(e,t,1),e=rn(e,t,1),t=Dt(),e!==null&&(Li(e,1,t),Wt(e,t))}function gt(e,t,r){if(e.tag===3)gu(e,e,r);else for(;t!==null;){if(t.tag===3){gu(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(nn===null||!nn.has(n))){e=ws(r,e),e=Zf(t,e,1),t=rn(t,e,1),e=Dt(),t!==null&&(Li(t,1,e),Wt(t,e));break}}t=t.return}}function N0(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Dt(),e.pingedLanes|=e.suspendedLanes&r,St===e&&(Lt&r)===r&&(kt===4||kt===3&&(Lt&130023424)===Lt&&500>mt()-Qd?Sn(e,0):Gd|=r),Wt(e,t)}function yp(e,t){t===0&&(e.mode&1?(t=Bi,Bi<<=1,!(Bi&130023424)&&(Bi=4194304)):t=1);var r=Dt();e=Dr(e,t),e!==null&&(Li(e,t,r),Wt(e,r))}function j0(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),yp(e,r)}function S0(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(we(314))}n!==null&&n.delete(t),yp(e,r)}var bp;bp=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||qt.current)Vt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Vt=!1,h0(e,t,r);Vt=!!(e.flags&131072)}else Vt=!1,ct&&t.flags&1048576&&jf(t,Aa,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;ya(e,t),e=t.pendingProps;var s=xs(t,Pt.current);fs(t,r),s=Bd(null,t,n,e,s,r);var a=Vd();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ht(n)?(a=!0,Ra(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Dd(t),s.updater=ao,t.stateNode=s,s._reactInternals=t,Al(t,n,e,r),t=Fl(null,t,n,!0,a,r)):(t.tag=0,ct&&a&&Td(t),Ot(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(ya(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=C0(n),e=hr(n,e),s){case 0:t=Dl(null,t,n,e,r);break e;case 1:t=iu(null,t,n,e,r);break e;case 11:t=nu(null,t,n,e,r);break e;case 14:t=su(null,t,n,hr(n.type,e),r);break e}throw Error(we(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:hr(n,s),Dl(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:hr(n,s),iu(e,t,n,s,r);case 3:e:{if(np(t),e===null)throw Error(we(387));n=t.pendingProps,a=t.memoizedState,s=a.element,Tf(e,t),Fa(t,n,null,r);var o=t.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=ws(Error(we(423)),t),t=au(e,t,n,r,s);break e}else if(n!==s){s=ws(Error(we(424)),t),t=au(e,t,n,r,s);break e}else for(Yt=tn(t.stateNode.containerInfo.firstChild),Xt=t,ct=!0,mr=null,r=Ef(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(vs(),n===s){t=Fr(e,t,r);break e}Ot(e,t,n,r)}t=t.child}return t;case 5:return If(t),e===null&&$l(t),n=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,o=s.children,Cl(n,s)?o=null:a!==null&&Cl(n,a)&&(t.flags|=32),rp(e,t),Ot(e,t,o,r),t.child;case 6:return e===null&&$l(t),null;case 13:return sp(e,t,r);case 4:return Fd(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=ys(t,null,n,r):Ot(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:hr(n,s),nu(e,t,n,s,r);case 7:return Ot(e,t,t.pendingProps,r),t.child;case 8:return Ot(e,t,t.pendingProps.children,r),t.child;case 12:return Ot(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,a=t.memoizedProps,o=s.value,ot(Oa,n._currentValue),n._currentValue=o,a!==null)if(yr(a.value,o)){if(a.children===s.children&&!qt.current){t=Fr(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var d=l.firstContext;d!==null;){if(d.context===n){if(a.tag===1){d=Pr(-1,r&-r),d.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?d.next=d:(d.next=u.next,u.next=d),c.pending=d}}a.lanes|=r,d=a.alternate,d!==null&&(d.lanes|=r),Rl(a.return,r,t),l.lanes|=r;break}d=d.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(we(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Rl(o,r,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Ot(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,fs(t,r),s=ar(s),n=n(s),t.flags|=1,Ot(e,t,n,r),t.child;case 14:return n=t.type,s=hr(n,t.pendingProps),s=hr(n.type,s),su(e,t,n,s,r);case 15:return ep(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:hr(n,s),ya(e,t),t.tag=1,Ht(n)?(e=!0,Ra(t)):e=!1,fs(t,r),Yf(t,n,s),Al(t,n,s,r),Fl(null,t,n,!0,e,r);case 19:return ip(e,t,r);case 22:return tp(e,t,r)}throw Error(we(156,t.tag))};function wp(e,t){return Kh(e,t)}function _0(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sr(e,t,r,n){return new _0(e,t,r,n)}function Zd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function C0(e){if(typeof e=="function")return Zd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===vd)return 11;if(e===yd)return 14}return 2}function an(e,t){var r=e.alternate;return r===null?(r=sr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ka(e,t,r,n,s,a){var o=2;if(n=e,typeof e=="function")Zd(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Jn:return _n(r.children,s,a,t);case xd:o=8,s|=8;break;case il:return e=sr(12,r,t,s|2),e.elementType=il,e.lanes=a,e;case al:return e=sr(13,r,t,s),e.elementType=al,e.lanes=a,e;case ol:return e=sr(19,r,t,s),e.elementType=ol,e.lanes=a,e;case Th:return co(r,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Eh:o=10;break e;case Lh:o=9;break e;case vd:o=11;break e;case yd:o=14;break e;case Vr:o=16,n=null;break e}throw Error(we(130,e==null?e:typeof e,""))}return t=sr(o,r,t,s),t.elementType=e,t.type=n,t.lanes=a,t}function _n(e,t,r,n){return e=sr(7,e,n,t),e.lanes=r,e}function co(e,t,r,n){return e=sr(22,e,n,t),e.elementType=Th,e.lanes=r,e.stateNode={isHidden:!1},e}function Ho(e,t,r){return e=sr(6,e,null,t),e.lanes=r,e}function Wo(e,t,r){return t=sr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function E0(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_o(0),this.expirationTimes=_o(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_o(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ec(e,t,r,n,s,a,o,l,d){return e=new E0(e,t,r,l,d),t===1?(t=1,a===!0&&(t|=8)):t=0,a=sr(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Dd(a),e}function L0(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Qn,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function kp(e){if(!e)return dn;e=e._reactInternals;e:{if(Rn(e)!==e||e.tag!==1)throw Error(we(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ht(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(we(171))}if(e.tag===1){var r=e.type;if(Ht(r))return kf(e,r,t)}return t}function Np(e,t,r,n,s,a,o,l,d){return e=ec(r,n,!0,e,s,a,o,l,d),e.context=kp(null),r=e.current,n=Dt(),s=sn(r),a=Pr(n,s),a.callback=t??null,rn(r,a,s),e.current.lanes=s,Li(e,s,n),Wt(e,n),e}function uo(e,t,r,n){var s=t.current,a=Dt(),o=sn(s);return r=kp(r),t.context===null?t.context=r:t.pendingContext=r,t=Pr(a,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=rn(s,t,o),e!==null&&(vr(e,s,o,a),ma(e,s,o)),o}function Wa(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function mu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function tc(e,t){mu(e,t),(e=e.alternate)&&mu(e,t)}function T0(){return null}var jp=typeof reportError=="function"?reportError:function(e){console.error(e)};function rc(e){this._internalRoot=e}ho.prototype.render=rc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(we(409));uo(e,t,null,null)};ho.prototype.unmount=rc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;In(function(){uo(null,e,null,null)}),t[Or]=null}};function ho(e){this._internalRoot=e}ho.prototype.unstable_scheduleHydration=function(e){if(e){var t=ef();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Wr.length&&t!==0&&t<Wr[r].priority;r++);Wr.splice(r,0,e),r===0&&rf(e)}};function nc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function fo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function xu(){}function I0(e,t,r,n,s){if(s){if(typeof n=="function"){var a=n;n=function(){var c=Wa(o);a.call(c)}}var o=Np(t,n,e,0,null,!1,!1,"",xu);return e._reactRootContainer=o,e[Or]=o.current,ci(e.nodeType===8?e.parentNode:e),In(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var c=Wa(d);l.call(c)}}var d=ec(e,0,!1,null,null,!1,!1,"",xu);return e._reactRootContainer=d,e[Or]=d.current,ci(e.nodeType===8?e.parentNode:e),In(function(){uo(t,d,r,n)}),d}function po(e,t,r,n,s){var a=r._reactRootContainer;if(a){var o=a;if(typeof s=="function"){var l=s;s=function(){var d=Wa(o);l.call(d)}}uo(t,o,e,s)}else o=I0(r,t,e,s,n);return Wa(o)}Xh=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Bs(t.pendingLanes);r!==0&&(kd(t,r|1),Wt(t,mt()),!(tt&6)&&(ks=mt()+500,hn()))}break;case 13:In(function(){var n=Dr(e,1);if(n!==null){var s=Dt();vr(n,e,1,s)}}),tc(e,1)}};Nd=function(e){if(e.tag===13){var t=Dr(e,134217728);if(t!==null){var r=Dt();vr(t,e,134217728,r)}tc(e,134217728)}};Zh=function(e){if(e.tag===13){var t=sn(e),r=Dr(e,t);if(r!==null){var n=Dt();vr(r,e,t,n)}tc(e,t)}};ef=function(){return it};tf=function(e,t){var r=it;try{return it=e,t()}finally{it=r}};xl=function(e,t,r){switch(t){case"input":if(cl(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=no(n);if(!s)throw Error(we(90));$h(n),cl(n,s)}}}break;case"textarea":Ph(e,r);break;case"select":t=r.value,t!=null&&ds(e,!!r.multiple,t,!1)}};zh=Jd;Bh=In;var $0={usingClientEntryPoint:!1,Events:[Ii,es,no,Mh,Uh,Jd]},Fs={findFiberByHostInstance:wn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},R0={bundleType:Fs.bundleType,version:Fs.version,rendererPackageName:Fs.rendererPackageName,rendererConfig:Fs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ur.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Hh(e),e===null?null:e.stateNode},findFiberByHostInstance:Fs.findFiberByHostInstance||T0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zi.isDisabled&&Zi.supportsFiber)try{Za=Zi.inject(R0),Sr=Zi}catch{}}er.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$0;er.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nc(t))throw Error(we(200));return L0(e,t,null,r)};er.createRoot=function(e,t){if(!nc(e))throw Error(we(299));var r=!1,n="",s=jp;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=ec(e,1,!1,null,null,r,!1,n,s),e[Or]=t.current,ci(e.nodeType===8?e.parentNode:e),new rc(t)};er.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(we(188)):(e=Object.keys(e).join(","),Error(we(268,e)));return e=Hh(t),e=e===null?null:e.stateNode,e};er.flushSync=function(e){return In(e)};er.hydrate=function(e,t,r){if(!fo(t))throw Error(we(200));return po(null,e,t,!0,r)};er.hydrateRoot=function(e,t,r){if(!nc(e))throw Error(we(405));var n=r!=null&&r.hydratedSources||null,s=!1,a="",o=jp;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=Np(t,null,e,1,r??null,s,!1,a,o),e[Or]=t.current,ci(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new ho(t)};er.render=function(e,t,r){if(!fo(t))throw Error(we(200));return po(null,e,t,!1,r)};er.unmountComponentAtNode=function(e){if(!fo(e))throw Error(we(40));return e._reactRootContainer?(In(function(){po(null,null,e,!1,function(){e._reactRootContainer=null,e[Or]=null})}),!0):!1};er.unstable_batchedUpdates=Jd;er.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!fo(r))throw Error(we(200));if(e==null||e._reactInternals===void 0)throw Error(we(38));return po(e,t,r,!1,n)};er.version="18.3.1-next-f1338f8080-20240426";function Sp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Sp)}catch(e){console.error(e)}}Sp(),jh.exports=er;var P0=jh.exports,vu=P0;nl.createRoot=vu.createRoot,nl.hydrateRoot=vu.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yi(){return yi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yi.apply(this,arguments)}var Yr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Yr||(Yr={}));const yu="popstate";function A0(e){e===void 0&&(e={});function t(n,s){let{pathname:a,search:o,hash:l}=n.location;return Jl("",{pathname:a,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Ka(s)}return D0(t,r,null,e)}function yt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function sc(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function O0(){return Math.random().toString(36).substr(2,8)}function bu(e,t){return{usr:e.state,key:e.key,idx:t}}function Jl(e,t,r,n){return r===void 0&&(r=null),yi({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?_s(t):t,{state:r,key:t&&t.key||n||O0()})}function Ka(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function _s(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function D0(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:a=!1}=n,o=s.history,l=Yr.Pop,d=null,c=u();c==null&&(c=0,o.replaceState(yi({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function h(){l=Yr.Pop;let _=u(),p=_==null?null:_-c;c=_,d&&d({action:l,location:N.location,delta:p})}function x(_,p){l=Yr.Push;let g=Jl(N.location,_,p);c=u()+1;let b=bu(g,c),E=N.createHref(g);try{o.pushState(b,"",E)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;s.location.assign(E)}a&&d&&d({action:l,location:N.location,delta:1})}function v(_,p){l=Yr.Replace;let g=Jl(N.location,_,p);c=u();let b=bu(g,c),E=N.createHref(g);o.replaceState(b,"",E),a&&d&&d({action:l,location:N.location,delta:0})}function k(_){let p=s.location.origin!=="null"?s.location.origin:s.location.href,g=typeof _=="string"?_:Ka(_);return g=g.replace(/ $/,"%20"),yt(p,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,p)}let N={get action(){return l},get location(){return e(s,o)},listen(_){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(yu,h),d=_,()=>{s.removeEventListener(yu,h),d=null}},createHref(_){return t(s,_)},createURL:k,encodeLocation(_){let p=k(_);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:x,replace:v,go(_){return o.go(_)}};return N}var wu;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(wu||(wu={}));function F0(e,t,r){return r===void 0&&(r="/"),M0(e,t,r)}function M0(e,t,r,n){let s=typeof t=="string"?_s(t):t,a=ic(s.pathname||"/",r);if(a==null)return null;let o=_p(e);U0(o);let l=null;for(let d=0;l==null&&d<o.length;++d){let c=X0(a);l=Q0(o[d],c)}return l}function _p(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(a,o,l)=>{let d={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};d.relativePath.startsWith("/")&&(yt(d.relativePath.startsWith(n),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(n.length));let c=on([n,d.relativePath]),u=r.concat(d);a.children&&a.children.length>0&&(yt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),_p(a.children,t,u,c)),!(a.path==null&&!a.index)&&t.push({path:c,score:K0(c,a.index),routesMeta:u})};return e.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))s(a,o);else for(let d of Cp(a.path))s(a,o,d)}),t}function Cp(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return s?[a,""]:[a];let o=Cp(n.join("/")),l=[];return l.push(...o.map(d=>d===""?a:[a,d].join("/"))),s&&l.push(...o),l.map(d=>e.startsWith("/")&&d===""?"/":d)}function U0(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:G0(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const z0=/^:[\w-]+$/,B0=3,V0=2,q0=1,H0=10,W0=-2,ku=e=>e==="*";function K0(e,t){let r=e.split("/"),n=r.length;return r.some(ku)&&(n+=W0),t&&(n+=V0),r.filter(s=>!ku(s)).reduce((s,a)=>s+(z0.test(a)?B0:a===""?q0:H0),n)}function G0(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function Q0(e,t,r){let{routesMeta:n}=e,s={},a="/",o=[];for(let l=0;l<n.length;++l){let d=n[l],c=l===n.length-1,u=a==="/"?t:t.slice(a.length)||"/",h=J0({path:d.relativePath,caseSensitive:d.caseSensitive,end:c},u),x=d.route;if(!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:on([a,h.pathname]),pathnameBase:nx(on([a,h.pathnameBase])),route:x}),h.pathnameBase!=="/"&&(a=on([a,h.pathnameBase]))}return o}function J0(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Y0(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let a=s[0],o=a.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((c,u,h)=>{let{paramName:x,isOptional:v}=u;if(x==="*"){let N=l[h]||"";o=a.slice(0,a.length-N.length).replace(/(.)\/+$/,"$1")}const k=l[h];return v&&!k?c[x]=void 0:c[x]=(k||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:o,pattern:e}}function Y0(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),sc(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,d)=>(n.push({paramName:l,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function X0(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return sc(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function ic(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const Z0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ex=e=>Z0.test(e);function tx(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?_s(e):e,a;if(r)if(ex(r))a=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),sc(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?a=Nu(r.substring(1),"/"):a=Nu(r,t)}else a=t;return{pathname:a,search:sx(n),hash:ix(s)}}function Nu(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Ko(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function rx(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Ep(e,t){let r=rx(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Lp(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=_s(e):(s=yi({},e),yt(!s.pathname||!s.pathname.includes("?"),Ko("?","pathname","search",s)),yt(!s.pathname||!s.pathname.includes("#"),Ko("#","pathname","hash",s)),yt(!s.search||!s.search.includes("#"),Ko("#","search","hash",s)));let a=e===""||s.pathname==="",o=a?"/":s.pathname,l;if(o==null)l=r;else{let h=t.length-1;if(!n&&o.startsWith("..")){let x=o.split("/");for(;x[0]==="..";)x.shift(),h-=1;s.pathname=x.join("/")}l=h>=0?t[h]:"/"}let d=tx(s,l),c=o&&o!=="/"&&o.endsWith("/"),u=(a||o===".")&&r.endsWith("/");return!d.pathname.endsWith("/")&&(c||u)&&(d.pathname+="/"),d}const on=e=>e.join("/").replace(/\/\/+/g,"/"),nx=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),sx=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,ix=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function ax(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Tp=["post","put","patch","delete"];new Set(Tp);const ox=["get",...Tp];new Set(ox);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bi(){return bi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bi.apply(this,arguments)}const ac=y.createContext(null),lx=y.createContext(null),Pn=y.createContext(null),go=y.createContext(null),An=y.createContext({outlet:null,matches:[],isDataRoute:!1}),Ip=y.createContext(null);function dx(e,t){let{relative:r}=t===void 0?{}:t;Ri()||yt(!1);let{basename:n,navigator:s}=y.useContext(Pn),{hash:a,pathname:o,search:l}=Rp(e,{relative:r}),d=o;return n!=="/"&&(d=o==="/"?n:on([n,o])),s.createHref({pathname:d,search:l,hash:a})}function Ri(){return y.useContext(go)!=null}function Cs(){return Ri()||yt(!1),y.useContext(go).location}function $p(e){y.useContext(Pn).static||y.useLayoutEffect(e)}function On(){let{isDataRoute:e}=y.useContext(An);return e?kx():cx()}function cx(){Ri()||yt(!1);let e=y.useContext(ac),{basename:t,future:r,navigator:n}=y.useContext(Pn),{matches:s}=y.useContext(An),{pathname:a}=Cs(),o=JSON.stringify(Ep(s,r.v7_relativeSplatPath)),l=y.useRef(!1);return $p(()=>{l.current=!0}),y.useCallback(function(c,u){if(u===void 0&&(u={}),!l.current)return;if(typeof c=="number"){n.go(c);return}let h=Lp(c,JSON.parse(o),a,u.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:on([t,h.pathname])),(u.replace?n.replace:n.push)(h,u.state,u)},[t,n,o,a,e])}function Rp(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=y.useContext(Pn),{matches:s}=y.useContext(An),{pathname:a}=Cs(),o=JSON.stringify(Ep(s,n.v7_relativeSplatPath));return y.useMemo(()=>Lp(e,JSON.parse(o),a,r==="path"),[e,o,a,r])}function ux(e,t){return hx(e,t)}function hx(e,t,r,n){Ri()||yt(!1);let{navigator:s}=y.useContext(Pn),{matches:a}=y.useContext(An),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let d=o?o.pathnameBase:"/";o&&o.route;let c=Cs(),u;if(t){var h;let _=typeof t=="string"?_s(t):t;d==="/"||(h=_.pathname)!=null&&h.startsWith(d)||yt(!1),u=_}else u=c;let x=u.pathname||"/",v=x;if(d!=="/"){let _=d.replace(/^\//,"").split("/");v="/"+x.replace(/^\//,"").split("/").slice(_.length).join("/")}let k=F0(e,{pathname:v}),N=xx(k&&k.map(_=>Object.assign({},_,{params:Object.assign({},l,_.params),pathname:on([d,s.encodeLocation?s.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?d:on([d,s.encodeLocation?s.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),a,r,n);return t&&N?y.createElement(go.Provider,{value:{location:bi({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Yr.Pop}},N):N}function fx(){let e=wx(),t=ax(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},t),r?y.createElement("pre",{style:s},r):null,null)}const px=y.createElement(fx,null);class gx extends y.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?y.createElement(An.Provider,{value:this.props.routeContext},y.createElement(Ip.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function mx(e){let{routeContext:t,match:r,children:n}=e,s=y.useContext(ac);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),y.createElement(An.Provider,{value:t},n)}function xx(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let u=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);u>=0||yt(!1),o=o.slice(0,Math.min(o.length,u+1))}let d=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<o.length;u++){let h=o[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=u),h.route.id){let{loaderData:x,errors:v}=r,k=h.route.loader&&x[h.route.id]===void 0&&(!v||v[h.route.id]===void 0);if(h.route.lazy||k){d=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,h,x)=>{let v,k=!1,N=null,_=null;r&&(v=l&&h.route.id?l[h.route.id]:void 0,N=h.route.errorElement||px,d&&(c<0&&x===0?(Nx("route-fallback"),k=!0,_=null):c===x&&(k=!0,_=h.route.hydrateFallbackElement||null)));let p=t.concat(o.slice(0,x+1)),g=()=>{let b;return v?b=N:k?b=_:h.route.Component?b=y.createElement(h.route.Component,null):h.route.element?b=h.route.element:b=u,y.createElement(mx,{match:h,routeContext:{outlet:u,matches:p,isDataRoute:r!=null},children:b})};return r&&(h.route.ErrorBoundary||h.route.errorElement||x===0)?y.createElement(gx,{location:r.location,revalidation:r.revalidation,component:N,error:v,children:g(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):g()},null)}var Pp=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Pp||{}),Ap=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Ap||{});function vx(e){let t=y.useContext(ac);return t||yt(!1),t}function yx(e){let t=y.useContext(lx);return t||yt(!1),t}function bx(e){let t=y.useContext(An);return t||yt(!1),t}function Op(e){let t=bx(),r=t.matches[t.matches.length-1];return r.route.id||yt(!1),r.route.id}function wx(){var e;let t=y.useContext(Ip),r=yx(),n=Op();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function kx(){let{router:e}=vx(Pp.UseNavigateStable),t=Op(Ap.UseNavigateStable),r=y.useRef(!1);return $p(()=>{r.current=!0}),y.useCallback(function(s,a){a===void 0&&(a={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,bi({fromRouteId:t},a)))},[e,t])}const ju={};function Nx(e,t,r){ju[e]||(ju[e]=!0)}function jx(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Nt(e){yt(!1)}function Sx(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Yr.Pop,navigator:a,static:o=!1,future:l}=e;Ri()&&yt(!1);let d=t.replace(/^\/*/,"/"),c=y.useMemo(()=>({basename:d,navigator:a,static:o,future:bi({v7_relativeSplatPath:!1},l)}),[d,l,a,o]);typeof n=="string"&&(n=_s(n));let{pathname:u="/",search:h="",hash:x="",state:v=null,key:k="default"}=n,N=y.useMemo(()=>{let _=ic(u,d);return _==null?null:{location:{pathname:_,search:h,hash:x,state:v,key:k},navigationType:s}},[d,u,h,x,v,k,s]);return N==null?null:y.createElement(Pn.Provider,{value:c},y.createElement(go.Provider,{children:r,value:N}))}function _x(e){let{children:t,location:r}=e;return ux(Yl(t),r)}new Promise(()=>{});function Yl(e,t){t===void 0&&(t=[]);let r=[];return y.Children.forEach(e,(n,s)=>{if(!y.isValidElement(n))return;let a=[...t,s];if(n.type===y.Fragment){r.push.apply(r,Yl(n.props.children,a));return}n.type!==Nt&&yt(!1),!n.props.index||!n.props.children||yt(!1);let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Yl(n.props.children,a)),r.push(o)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xl(){return Xl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xl.apply(this,arguments)}function Cx(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,a;for(a=0;a<n.length;a++)s=n[a],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function Ex(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Lx(e,t){return e.button===0&&(!t||t==="_self")&&!Ex(e)}function Zl(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function Tx(e,t){let r=Zl(e);return t&&t.forEach((n,s)=>{r.has(s)||t.getAll(s).forEach(a=>{r.append(s,a)})}),r}const Ix=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],$x="6";try{window.__reactRouterVersion=$x}catch{}const Rx="startTransition",Su=Ng[Rx];function Px(e){let{basename:t,children:r,future:n,window:s}=e,a=y.useRef();a.current==null&&(a.current=A0({window:s,v5Compat:!0}));let o=a.current,[l,d]=y.useState({action:o.action,location:o.location}),{v7_startTransition:c}=n||{},u=y.useCallback(h=>{c&&Su?Su(()=>d(h)):d(h)},[d,c]);return y.useLayoutEffect(()=>o.listen(u),[o,u]),y.useEffect(()=>jx(n),[n]),y.createElement(Sx,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const Ax=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ox=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Bt=y.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:a,replace:o,state:l,target:d,to:c,preventScrollReset:u,viewTransition:h}=t,x=Cx(t,Ix),{basename:v}=y.useContext(Pn),k,N=!1;if(typeof c=="string"&&Ox.test(c)&&(k=c,Ax))try{let b=new URL(window.location.href),E=c.startsWith("//")?new URL(b.protocol+c):new URL(c),R=ic(E.pathname,v);E.origin===b.origin&&R!=null?c=R+E.search+E.hash:N=!0}catch{}let _=dx(c,{relative:s}),p=Dx(c,{replace:o,state:l,target:d,preventScrollReset:u,relative:s,viewTransition:h});function g(b){n&&n(b),b.defaultPrevented||p(b)}return y.createElement("a",Xl({},x,{href:k||_,onClick:N||a?n:g,ref:r,target:d}))});var _u;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(_u||(_u={}));var Cu;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Cu||(Cu={}));function Dx(e,t){let{target:r,replace:n,state:s,preventScrollReset:a,relative:o,viewTransition:l}=t===void 0?{}:t,d=On(),c=Cs(),u=Rp(e,{relative:o});return y.useCallback(h=>{if(Lx(h,r)){h.preventDefault();let x=n!==void 0?n:Ka(c)===Ka(u);d(e,{replace:x,state:s,preventScrollReset:a,relative:o,viewTransition:l})}},[c,d,u,n,s,r,e,a,o,l])}function Fx(e){let t=y.useRef(Zl(e)),r=y.useRef(!1),n=Cs(),s=y.useMemo(()=>Tx(n.search,r.current?null:t.current),[n.search]),a=On(),o=y.useCallback((l,d)=>{const c=Zl(typeof l=="function"?l(s):l);r.current=!0,a("?"+c,d)},[a,s]);return[s,o]}const Dp=y.createContext(void 0),Mx=({children:e})=>{const[t,r]=y.useState(()=>{const s=localStorage.getItem("theme");return s==="light"||s==="dark"?s:"light"});y.useEffect(()=>{const s=window.document.documentElement;s.classList.remove("light","dark"),s.classList.add(t),localStorage.setItem("theme",t)},[t]);const n=()=>{r(s=>s==="light"?"dark":"light")};return i.jsx(Dp.Provider,{value:{theme:t,toggleTheme:n},children:e})},Ux=()=>{const e=y.useContext(Dp);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e};function mo(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function zx(e,t,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(u){try{c(n.next(u))}catch(h){o(h)}}function d(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?a(u.value):s(u.value).then(l,d)}c((n=n.apply(e,t||[])).next())})}const Bx=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class oc extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class Vx extends oc{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Eu extends oc{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Lu extends oc{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var ed;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(ed||(ed={}));class qx{constructor(t,{headers:r={},customFetch:n,region:s=ed.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=Bx(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return zx(this,arguments,void 0,function*(r,n={}){var s;let a,o;try{const{headers:l,method:d,body:c,signal:u,timeout:h}=n;let x={},{region:v}=n;v||(v=this.region);const k=new URL(`${this.url}/${r}`);v&&v!=="any"&&(x["x-region"]=v,k.searchParams.set("forceFunctionRegion",v));let N;c&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(x["Content-Type"]="application/octet-stream",N=c):typeof c=="string"?(x["Content-Type"]="text/plain",N=c):typeof FormData<"u"&&c instanceof FormData?N=c:(x["Content-Type"]="application/json",N=JSON.stringify(c)):c&&typeof c!="string"&&!(typeof Blob<"u"&&c instanceof Blob)&&!(c instanceof ArrayBuffer)&&!(typeof FormData<"u"&&c instanceof FormData)?N=JSON.stringify(c):N=c;let _=u;h&&(o=new AbortController,a=setTimeout(()=>o.abort(),h),u?(_=o.signal,u.addEventListener("abort",()=>o.abort())):_=o.signal);const p=yield this.fetch(k.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},x),this.headers),l),body:N,signal:_}).catch(R=>{throw new Vx(R)}),g=p.headers.get("x-relay-error");if(g&&g==="true")throw new Eu(p);if(!p.ok)throw new Lu(p);let b=((s=p.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),E;return b==="application/json"?E=yield p.json():b==="application/octet-stream"||b==="application/pdf"?E=yield p.blob():b==="text/event-stream"?E=p:b==="multipart/form-data"?E=yield p.formData():E=yield p.text(),{data:E,error:null,response:p}}catch(l){return{data:null,error:l,response:l instanceof Lu||l instanceof Eu?l.context:void 0}}finally{a&&clearTimeout(a)}})}}var Hx=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},Wx=class{constructor(e){var t,r,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,this.urlLengthLimit=(n=e.urlLengthLimit)!==null&&n!==void 0?n:8e3,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{let o=null,l=null,d=null,c=a.status,u=a.statusText;if(a.ok){var h,x;if(r.method!=="HEAD"){var v;const p=await a.text();p===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((v=r.headers.get("Accept"))===null||v===void 0)&&v.includes("application/vnd.pgrst.plan+text"))?l=p:l=JSON.parse(p))}const N=(h=r.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),_=(x=a.headers.get("content-range"))===null||x===void 0?void 0:x.split("/");N&&_&&_.length>1&&(d=parseInt(_[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(l)&&(l.length>1?(o={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,d=null,c=406,u="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var k;const N=await a.text();try{o=JSON.parse(N),Array.isArray(o)&&a.status===404&&(l=[],o=null,c=200,u="OK")}catch{a.status===404&&N===""?(c=204,u="No Content"):o={message:N}}if(o&&r.isMaybeSingle&&(!(o==null||(k=o.details)===null||k===void 0)&&k.includes("0 rows"))&&(o=null,c=200,u="OK"),o&&r.shouldThrowOnError)throw new Hx(o)}return{error:o,data:l,count:d,status:c,statusText:u}});return this.shouldThrowOnError||(s=s.catch(a=>{var o;let l="",d="",c="";const u=a==null?void 0:a.cause;if(u){var h,x,v,k;const p=(h=u==null?void 0:u.message)!==null&&h!==void 0?h:"",g=(x=u==null?void 0:u.code)!==null&&x!==void 0?x:"";l=`${(v=a==null?void 0:a.name)!==null&&v!==void 0?v:"FetchError"}: ${a==null?void 0:a.message}`,l+=`

Caused by: ${(k=u==null?void 0:u.name)!==null&&k!==void 0?k:"Error"}: ${p}`,g&&(l+=` (${g})`),u!=null&&u.stack&&(l+=`
${u.stack}`)}else{var N;l=(N=a==null?void 0:a.stack)!==null&&N!==void 0?N:""}const _=this.url.toString().length;return(a==null?void 0:a.name)==="AbortError"||(a==null?void 0:a.code)==="ABORT_ERR"?(c="",d="Request was aborted (timeout or manual cancellation)",_>this.urlLengthLimit&&(d+=`. Note: Your request URL is ${_} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((u==null?void 0:u.name)==="HeadersOverflowError"||(u==null?void 0:u.code)==="UND_ERR_HEADERS_OVERFLOW")&&(c="",d="HTTP headers exceeded server limits (typically 16KB)",_>this.urlLengthLimit&&(d+=`. Your request URL is ${_} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(o=a==null?void 0:a.name)!==null&&o!==void 0?o:"FetchError"}: ${a==null?void 0:a.message}`,details:l,hint:d,code:c},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},Kx=class extends Wx{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:s=n}={}){const a=s?`${s}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"offset":`${n}.offset`,a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(a,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:s=!1,format:a="text"}={}){var o;const l=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,s?"wal":null].filter(Boolean).join("|"),d=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${d}"; options=${l};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const Tu=new RegExp("[,()]");var Wn=class extends Kx{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&Tu.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&Tu.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let s="";n==="plain"?s="pl":n==="phrase"?s="ph":n==="websearch"&&(s="w");const a=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${a}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},Gx=class{constructor(e,{headers:t={},schema:r,fetch:n,urlLengthLimit:s=8e3}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n,this.urlLengthLimit=s}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:n}=t??{},s=r?"HEAD":"GET";let a=!1;const o=(e??"*").split("").map(c=>/\s/.test(c)&&!a?"":(c==='"'&&(a=!a),c)).join(""),{url:l,headers:d}=this.cloneRequestState();return l.searchParams.set("select",o),n&&d.append("Prefer",`count=${n}`),new Wn({method:s,url:l,headers:d,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const s="POST",{url:a,headers:o}=this.cloneRequestState();if(t&&o.append("Prefer",`count=${t}`),r||o.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((d,c)=>d.concat(Object.keys(c)),[]);if(l.length>0){const d=[...new Set(l)].map(c=>`"${c}"`);a.searchParams.set("columns",d.join(","))}}return new Wn({method:s,url:a,headers:o,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:s=!0}={}){var a;const o="POST",{url:l,headers:d}=this.cloneRequestState();if(d.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&l.searchParams.set("on_conflict",t),n&&d.append("Prefer",`count=${n}`),s||d.append("Prefer","missing=default"),Array.isArray(e)){const c=e.reduce((u,h)=>u.concat(Object.keys(h)),[]);if(c.length>0){const u=[...new Set(c)].map(h=>`"${h}"`);l.searchParams.set("columns",u.join(","))}}return new Wn({method:o,url:l,headers:d,schema:this.schema,body:e,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch,urlLengthLimit:this.urlLengthLimit})}update(e,{count:t}={}){var r;const n="PATCH",{url:s,headers:a}=this.cloneRequestState();return t&&a.append("Prefer",`count=${t}`),new Wn({method:n,url:s,headers:a,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:e}={}){var t;const r="DELETE",{url:n,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new Wn({method:r,url:n,headers:s,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function wi(e){"@babel/helpers - typeof";return wi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wi(e)}function Qx(e,t){if(wi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jx(e){var t=Qx(e,"string");return wi(t)=="symbol"?t:t+""}function Yx(e,t,r){return(t=Jx(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Iu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ea(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Iu(Object(r),!0).forEach(function(n){Yx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Iu(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var Xx=class Fp{constructor(t,{headers:r={},schema:n,fetch:s,timeout:a,urlLengthLimit:o=8e3}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.urlLengthLimit=o;const l=s??globalThis.fetch;a!==void 0&&a>0?this.fetch=(d,c)=>{const u=new AbortController,h=setTimeout(()=>u.abort(),a),x=c==null?void 0:c.signal;if(x){if(x.aborted)return clearTimeout(h),l(d,c);const v=()=>{clearTimeout(h),u.abort()};return x.addEventListener("abort",v,{once:!0}),l(d,ea(ea({},c),{},{signal:u.signal})).finally(()=>{clearTimeout(h),x.removeEventListener("abort",v)})}return l(d,ea(ea({},c),{},{signal:u.signal})).finally(()=>clearTimeout(h))}:this.fetch=l}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Gx(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new Fp(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(t,r={},{head:n=!1,get:s=!1,count:a}={}){var o;let l;const d=new URL(`${this.url}/rpc/${t}`);let c;const u=v=>v!==null&&typeof v=="object"&&(!Array.isArray(v)||v.some(u)),h=n&&Object.values(r).some(u);h?(l="POST",c=r):n||s?(l=n?"HEAD":"GET",Object.entries(r).filter(([v,k])=>k!==void 0).map(([v,k])=>[v,Array.isArray(k)?`{${k.join(",")}}`:`${k}`]).forEach(([v,k])=>{d.searchParams.append(v,k)})):(l="POST",c=r);const x=new Headers(this.headers);return h?x.set("Prefer",a?`count=${a},return=minimal`:"return=minimal"):a&&x.set("Prefer",`count=${a}`),new Wn({method:l,url:d,headers:x,schema:this.schemaName,body:c,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch,urlLengthLimit:this.urlLengthLimit})}};class Zx{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const s=n.node,a=parseInt(s.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const ev="2.97.0",tv=`realtime-js/${ev}`,rv="1.0.0",Mp="2.0.0",$u=Mp,td=1e4,nv=1e3,sv=100;var Hr;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Hr||(Hr={}));var bt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(bt||(bt={}));var gr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(gr||(gr={}));var rd;(function(e){e.websocket="websocket"})(rd||(rd={}));var yn;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(yn||(yn={}));class iv{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,r,n){var s,a;const o=t.topic,l=(s=t.ref)!==null&&s!==void 0?s:"",d=(a=t.join_ref)!==null&&a!==void 0?a:"",c=t.payload.event,u=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},h=Object.keys(u).length===0?"":JSON.stringify(u);if(d.length>255)throw new Error(`joinRef length ${d.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`userEvent length ${c.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const x=this.USER_BROADCAST_PUSH_META_LENGTH+d.length+l.length+o.length+c.length+h.length,v=new ArrayBuffer(this.HEADER_LENGTH+x);let k=new DataView(v),N=0;k.setUint8(N++,this.KINDS.userBroadcastPush),k.setUint8(N++,d.length),k.setUint8(N++,l.length),k.setUint8(N++,o.length),k.setUint8(N++,c.length),k.setUint8(N++,h.length),k.setUint8(N++,r),Array.from(d,p=>k.setUint8(N++,p.charCodeAt(0))),Array.from(l,p=>k.setUint8(N++,p.charCodeAt(0))),Array.from(o,p=>k.setUint8(N++,p.charCodeAt(0))),Array.from(c,p=>k.setUint8(N++,p.charCodeAt(0))),Array.from(h,p=>k.setUint8(N++,p.charCodeAt(0)));var _=new Uint8Array(v.byteLength+n.byteLength);return _.set(new Uint8Array(v),0),_.set(new Uint8Array(n),v.byteLength),_.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[s,a,o,l,d]=n;return r({join_ref:s,ref:a,topic:o,event:l,payload:d})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,s)}}_decodeUserBroadcast(t,r,n){const s=r.getUint8(1),a=r.getUint8(2),o=r.getUint8(3),l=r.getUint8(4);let d=this.HEADER_LENGTH+4;const c=n.decode(t.slice(d,d+s));d=d+s;const u=n.decode(t.slice(d,d+a));d=d+a;const h=n.decode(t.slice(d,d+o));d=d+o;const x=t.slice(d,t.byteLength),v=l===this.JSON_ENCODING?JSON.parse(n.decode(x)):x,k={type:this.BROADCAST_EVENT,event:u,payload:v};return o>0&&(k.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:k}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class Up{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var at;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(at||(at={}));const Ru=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((a,o)=>(a[o]=av(o,e,t,s),a),{}):{}},av=(e,t,r,n)=>{const s=t.find(l=>l.name===e),a=s==null?void 0:s.type,o=r[e];return a&&!n.includes(a)?zp(a,o):nd(o)},zp=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return cv(t,r)}switch(e){case at.bool:return ov(t);case at.float4:case at.float8:case at.int2:case at.int4:case at.int8:case at.numeric:case at.oid:return lv(t);case at.json:case at.jsonb:return dv(t);case at.timestamp:return uv(t);case at.abstime:case at.date:case at.daterange:case at.int4range:case at.int8range:case at.money:case at.reltime:case at.text:case at.time:case at.timestamptz:case at.timetz:case at.tsrange:case at.tstzrange:return nd(t);default:return nd(t)}},nd=e=>e,ov=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},lv=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},dv=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},cv=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const o=e.slice(1,r);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(l=>zp(t,l))}return e},uv=e=>typeof e=="string"?e.replace(" ","T"):e,Bp=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Go{constructor(t,r,n={},s=td){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Pu;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Pu||(Pu={}));class ei{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ei.syncState(this.state,s,a,o),this.pendingDiffs.forEach(d=>{this.state=ei.syncDiff(this.state,d,a,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=ei.syncDiff(this.state,s,a,o),l())}),this.onJoin((s,a,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:a,newPresences:o})}),this.onLeave((s,a,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const a=this.cloneDeep(t),o=this.transformState(r),l={},d={};return this.map(a,(c,u)=>{o[c]||(d[c]=u)}),this.map(o,(c,u)=>{const h=a[c];if(h){const x=u.map(_=>_.presence_ref),v=h.map(_=>_.presence_ref),k=u.filter(_=>v.indexOf(_.presence_ref)<0),N=h.filter(_=>x.indexOf(_.presence_ref)<0);k.length>0&&(l[c]=k),N.length>0&&(d[c]=N)}else l[c]=u}),this.syncDiff(a,{joins:l,leaves:d},n,s)}static syncDiff(t,r,n,s){const{joins:a,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(a,(l,d)=>{var c;const u=(c=t[l])!==null&&c!==void 0?c:[];if(t[l]=this.cloneDeep(d),u.length>0){const h=t[l].map(v=>v.presence_ref),x=u.filter(v=>h.indexOf(v.presence_ref)<0);t[l].unshift(...x)}n(l,u,d)}),this.map(o,(l,d)=>{let c=t[l];if(!c)return;const u=d.map(h=>h.presence_ref);c=c.filter(h=>u.indexOf(h.presence_ref)<0),t[l]=c,s(l,c,d),c.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Au;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Au||(Au={}));var ti;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(ti||(ti={}));var Tr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Tr||(Tr={}));class os{constructor(t,r={config:{}},n){var s,a;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=bt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Go(this,gr.join,this.params,this.timeout),this.rejoinTimer=new Up(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=bt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=bt.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=bt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=bt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=bt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(gr.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new ei(this),this.broadcastEndpointURL=Bp(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,s,a;if(this.socket.isConnected()||this.socket.connect(),this.state==bt.closed){const{config:{broadcast:o,presence:l,private:d}}=this.params,c=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(v=>v.filter))!==null&&s!==void 0?s:[],u=!!this.bindings[ti.PRESENCE]&&this.bindings[ti.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,h={},x={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:u}),postgres_changes:c,private:d};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(v=>t==null?void 0:t(Tr.CHANNEL_ERROR,v)),this._onClose(()=>t==null?void 0:t(Tr.CLOSED)),this.updateJoinPayload(Object.assign({config:x},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:v})=>{var k;if(this.socket._isManualToken()||this.socket.setAuth(),v===void 0){t==null||t(Tr.SUBSCRIBED);return}else{const N=this.bindings.postgres_changes,_=(k=N==null?void 0:N.length)!==null&&k!==void 0?k:0,p=[];for(let g=0;g<_;g++){const b=N[g],{filter:{event:E,schema:R,table:Y,filter:P}}=b,X=v&&v[g];if(X&&X.event===E&&os.isFilterValueEqual(X.schema,R)&&os.isFilterValueEqual(X.table,Y)&&os.isFilterValueEqual(X.filter,P))p.push(Object.assign(Object.assign({},b),{id:X.id}));else{this.unsubscribe(),this.state=bt.errored,t==null||t(Tr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,t&&t(Tr.SUBSCRIBED);return}}).receive("error",v=>{this.state=bt.errored,t==null||t(Tr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Tr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===bt.joined&&t===ti.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var s;if(r==null)return Promise.reject("Payload is required for httpSend()");const a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let d=l.statusText;try{const c=await l.json();d=c.error||c.message||d}catch{}return Promise.reject(new Error(d))}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:o}=t,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const d={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,l,d;const c=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((d=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||d===void 0)&&d.ack)&&a("ok"),c.receive("ok",()=>a("ok")),c.receive("error",()=>a("error")),c.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=bt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(gr.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Go(this,gr.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=bt.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,a=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(a),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Go(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>sv){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,a;const o=t.toLocaleLowerCase(),{close:l,error:d,leave:c,join:u}=gr;if(n&&[l,d,c,u].indexOf(o)>=0&&n!==this._joinRef())return;let x=this._onMessage(o,r,n);if(r&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var k,N,_;return((k=v.filter)===null||k===void 0?void 0:k.event)==="*"||((_=(N=v.filter)===null||N===void 0?void 0:N.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===o}).map(v=>v.callback(x,n)):(a=this.bindings[o])===null||a===void 0||a.filter(v=>{var k,N,_,p,g,b;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in v){const E=v.id,R=(k=v.filter)===null||k===void 0?void 0:k.event;return E&&((N=r.ids)===null||N===void 0?void 0:N.includes(E))&&(R==="*"||(R==null?void 0:R.toLocaleLowerCase())===((_=r.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const E=(g=(p=v==null?void 0:v.filter)===null||p===void 0?void 0:p.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return E==="*"||E===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===o}).map(v=>{if(typeof x=="object"&&"ids"in x){const k=x.data,{schema:N,table:_,commit_timestamp:p,type:g,errors:b}=k;x=Object.assign(Object.assign({},{schema:N,table:_,commit_timestamp:p,eventType:g,new:{},old:{},errors:b}),this._getPayloadRecords(k))}v.callback(x,n)})}_isClosed(){return this.state===bt.closed}_isJoined(){return this.state===bt.joined}_isJoining(){return this.state===bt.joining}_isLeaving(){return this.state===bt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),a={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(a):this.bindings[s]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var a;return!(((a=s.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&os.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(gr.close,{},t)}_onError(t){this._on(gr.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=bt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Ru(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Ru(t.columns,t.old_record)),r}}const Qo=()=>{},ta={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},hv=[1e3,2e3,5e3,1e4],fv=1e4,pv=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class gv{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=td,this.transport=null,this.heartbeatIntervalMs=ta.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Qo,this.ref=0,this.reconnectTimer=null,this.vsn=$u,this.logger=Qo,this.conn=null,this.sendBuffer=[],this.serializer=new iv,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...a)=>s(...a):(...a)=>fetch(...a),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${rd.websocket}`,this.httpEndpoint=Bp(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Zx.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Hr.connecting:return yn.Connecting;case Hr.open:return yn.Open;case Hr.closing:return yn.Closing;default:return yn.Closed}}isConnected(){return this.connectionState()===yn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(a=>a.topic===n);if(s)return s;{const a=new os(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:s,ref:a}=t,o=()=>{this.encode(t,l=>{var d;(d=this.conn)===null||d===void 0||d.send(l)})};this.log("push",`${r} ${n} (${a})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(nv,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},ta.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const c=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",c)}catch(u){this.log("error","error in heartbeat callback",u)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:s,payload:a,ref:o}=r,l=o?`(${o})`:"",d=a.status||"";this.log("receive",`${d} ${n} ${s} ${l}`.trim(),a),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(s,a,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Hr.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Hr.open||this.conn.readyState===Hr.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(gr.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([pv],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const a={access_token:r,version:tv};r&&s.updateJoinPayload(a),s.joinedOnce&&s._isJoined()&&s._push(gr.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Up(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ta.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,a,o,l,d,c,u,h,x,v;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:td,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:ta.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:Qo,this.vsn=(d=t==null?void 0:t.vsn)!==null&&d!==void 0?d:$u,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:k=>hv[k-1]||fv,this.vsn){case rv:this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(k,N)=>N(JSON.stringify(k)),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:(k,N)=>N(JSON.parse(k));break;case Mp:this.encode=(x=t==null?void 0:t.encode)!==null&&x!==void 0?x:this.serializer.encode.bind(this.serializer),this.decode=(v=t==null?void 0:t.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var ki=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function mv(e,t,r){const n=new URL(t,e);if(r)for(const[s,a]of Object.entries(r))a!==void 0&&n.searchParams.set(s,a);return n.toString()}async function xv(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function vv(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:a,headers:o}){const l=mv(e.baseUrl,n,s),d=await xv(e.auth),c=await t(l,{method:r,headers:{...a?{"Content-Type":"application/json"}:{},...d,...o},body:a?JSON.stringify(a):void 0}),u=await c.text(),h=(c.headers.get("content-type")||"").includes("application/json"),x=h&&u?JSON.parse(u):u;if(!c.ok){const v=h?x:void 0,k=v==null?void 0:v.error;throw new ki((k==null?void 0:k.message)??`Request failed with status ${c.status}`,{status:c.status,icebergType:k==null?void 0:k.type,icebergCode:k==null?void 0:k.code,details:v})}return{status:c.status,headers:c.headers,data:x}}}}function ra(e){return e.join("")}var yv=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:ra(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ra(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ra(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ra(e.namespace)}`}),!0}catch(t){if(t instanceof ki&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof ki&&r.status===409)return;throw r}}};function Un(e){return e.join("")}var bv=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Un(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Un(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Un(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Un(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Un(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Un(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof ki&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof ki&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},wv=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=vv({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new yv(this.client,t),this.tableOps=new bv(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},xo=class extends Error{constructor(e,t="storage",r,n){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=n}};function vo(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var na=class extends xo{constructor(e,t,r,n="storage"){super(e,n,t,r),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Vp=class extends xo{constructor(e,t,r="storage"){super(e,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const kv=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Nv=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},sd=e=>{if(Array.isArray(e))return e.map(r=>sd(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[s]=sd(n)}),t},jv=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Ni(e){"@babel/helpers - typeof";return Ni=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ni(e)}function Sv(e,t){if(Ni(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ni(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _v(e){var t=Sv(e,"string");return Ni(t)=="symbol"?t:t+""}function Cv(e,t,r){return(t=_v(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ou(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function He(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ou(Object(r),!0).forEach(function(n){Cv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ou(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const Du=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},Ev=async(e,t,r,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const s=e,a=s.status||500;if(typeof s.json=="function")s.json().then(o=>{const l=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||a+"";t(new na(Du(o),a,l,n))}).catch(()=>{if(n==="vectors"){const o=a+"";t(new na(s.statusText||`HTTP ${a} error`,a,o,n))}else{const o=a+"";t(new na(s.statusText||`HTTP ${a} error`,a,o,n))}});else{const o=a+"";t(new na(s.statusText||`HTTP ${a} error`,a,o,n))}}else t(new Vp(Du(e),e,n))},Lv=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!n?He(He({},s),r):(Nv(n)?(s.headers=He({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),He(He({},s),r))};async function Ms(e,t,r,n,s,a,o){return new Promise((l,d)=>{e(r,Lv(t,n,s,a)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;if(o==="vectors"){const u=c.headers.get("content-type");if(c.headers.get("content-length")==="0"||c.status===204)return{};if(!u||!u.includes("application/json"))return{}}return c.json()}).then(c=>l(c)).catch(c=>Ev(c,d,n,o))})}function qp(e="storage"){return{get:async(t,r,n,s)=>Ms(t,"GET",r,n,s,void 0,e),post:async(t,r,n,s,a)=>Ms(t,"POST",r,s,a,n,e),put:async(t,r,n,s,a)=>Ms(t,"PUT",r,s,a,n,e),head:async(t,r,n,s)=>Ms(t,"HEAD",r,He(He({},n),{},{noResolveJson:!0}),s,void 0,e),remove:async(t,r,n,s,a)=>Ms(t,"DELETE",r,s,a,n,e)}}const Tv=qp("storage"),{get:ji,post:fr,put:id,head:Iv,remove:lc}=Tv,Jt=qp("vectors");var Es=class{constructor(e,t={},r,n="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=kv(r),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=He(He({},this.headers),{},{[e]:t}),this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(vo(r))return{data:null,error:r};throw r}}},$v=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(vo(t))return{data:null,error:t};throw t}}};let Hp;Hp=Symbol.toStringTag;var Rv=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[Hp]="BlobDownloadBuilder",this.promise=null}asStream(){return new $v(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(vo(t))return{data:null,error:t};throw t}}};const Pv={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Fu={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Av=class extends Es{constructor(e,t={},r,n){super(e,t,n,"storage"),this.bucketId=r}async uploadOrUpdate(e,t,r,n){var s=this;return s.handleOperation(async()=>{let a;const o=He(He({},Fu),n);let l=He(He({},s.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const d=o.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),d&&a.append("metadata",s.encodeMetadata(d)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.has("cacheControl")||a.append("cacheControl",o.cacheControl),d&&!a.has("metadata")&&a.append("metadata",s.encodeMetadata(d))):(a=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,d&&(l["x-metadata"]=s.toBase64(s.encodeMetadata(d))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!o.duplex&&(o.duplex="half")),n!=null&&n.headers&&(l=He(He({},l),n.headers));const c=s._removeEmptyFolders(t),u=s._getFinalPath(c),h=await(e=="PUT"?id:fr)(s.fetch,`${s.url}/object/${u}`,a,He({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{path:c,id:h.Id,fullPath:h.Key}})}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var s=this;const a=s._removeEmptyFolders(e),o=s._getFinalPath(a),l=new URL(s.url+`/object/upload/sign/${o}`);return l.searchParams.set("token",t),s.handleOperation(async()=>{let d;const c=He({upsert:Fu.upsert},n),u=He(He({},s.headers),{"x-upsert":String(c.upsert)});return typeof Blob<"u"&&r instanceof Blob?(d=new FormData,d.append("cacheControl",c.cacheControl),d.append("",r)):typeof FormData<"u"&&r instanceof FormData?(d=r,d.append("cacheControl",c.cacheControl)):(d=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType),{path:a,fullPath:(await id(s.fetch,l.toString(),d,{headers:u})).Key}})}async createSignedUploadUrl(e,t){var r=this;return r.handleOperation(async()=>{let n=r._getFinalPath(e);const s=He({},r.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const a=await fr(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(r.url+a.url),l=o.searchParams.get("token");if(!l)throw new xo("No token returned by API");return{signedUrl:o.toString(),path:e,token:l}})}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;return n.handleOperation(async()=>await fr(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}))}async copy(e,t,r){var n=this;return n.handleOperation(async()=>({path:(await fr(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(e,t,r){var n=this;return n.handleOperation(async()=>{let s=n._getFinalPath(e),a=await fr(n.fetch,`${n.url}/object/sign/${s}`,He({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${n.url}${a.signedURL}${o}`)}})}async createSignedUrls(e,t,r){var n=this;return n.handleOperation(async()=>{const s=await fr(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s.map(o=>He(He({},o),{},{signedUrl:o.signedURL?encodeURI(`${n.url}${o.signedURL}${a}`):null}))})}download(e,t,r){const n=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),a=s?`?${s}`:"",o=this._getFinalPath(e),l=()=>ji(this.fetch,`${this.url}/${n}/${o}${a}`,{headers:this.headers,noResolveJson:!0},r);return new Rv(l,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);return t.handleOperation(async()=>sd(await ji(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})))}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await Iv(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(vo(n)&&n instanceof Vp){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&n.push(s);const a=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});o!==""&&n.push(o);let l=n.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${l}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await lc(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,r){var n=this;return n.handleOperation(async()=>{const s=He(He(He({},Pv),t),{},{prefix:e||""});return await fr(n.fetch,`${n.url}/object/list/${n.bucketId}`,s,{headers:n.headers},r)})}async listV2(e,t){var r=this;return r.handleOperation(async()=>{const n=He({},e);return await fr(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const Ov="2.97.0",Pi={"X-Client-Info":`storage-js/${Ov}`};var Dv=class extends Es{constructor(e,t={},r,n){const s=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase."));const a=s.href.replace(/\/$/,""),o=He(He({},Pi),t);super(a,o,r,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=t.listBucketOptionsToQueryString(e);return await ji(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await ji(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var r=this;return r.handleOperation(async()=>await fr(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async updateBucket(e,t){var r=this;return r.handleOperation(async()=>await id(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await fr(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await lc(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},Fv=class extends Es{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=He(He({},Pi),t);super(n,s,r,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await fr(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),s=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return await ji(t.fetch,s,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await lc(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!jv(e))throw new xo("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new wv({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(s,a){const o=s[a];return typeof o!="function"?o:async(...l)=>{try{return{data:await o.apply(s,l),error:null}}catch(d){if(n)throw d;return{data:null,error:d}}}}})}},Mv=class extends Es{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=He(He({},Pi),{},{"Content-Type":"application/json"},t);super(n,s,r,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await Jt.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var r=this;return r.handleOperation(async()=>await Jt.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await Jt.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var r=this;return r.handleOperation(async()=>await Jt.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{})}},Uv=class extends Es{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=He(He({},Pi),{},{"Content-Type":"application/json"},t);super(n,s,r,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Jt.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await Jt.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await Jt.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await Jt.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Jt.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},zv=class extends Es{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=He(He({},Pi),{},{"Content-Type":"application/json"},t);super(n,s,r,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Jt.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Jt.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await Jt.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Jt.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},Bv=class extends zv{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new Vv(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},Vv=class extends Mv{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,He(He({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,He(He({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new qv(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},qv=class extends Uv{constructor(e,t,r,n,s){super(e,t,s),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,He(He({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,He(He({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,He(He({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,He(He({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,He(He({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},Hv=class extends Dv{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new Av(this.url,this.headers,e,this.fetch)}get vectors(){return new Bv(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Fv(this.url+"/iceberg",this.headers,this.fetch)}};const Wp="2.97.0",Kn=30*1e3,ad=3,Jo=ad*Kn,Wv="http://localhost:9999",Kv="supabase.auth.token",Gv={"X-Client-Info":`gotrue-js/${Wp}`},od="X-Supabase-Api-Version",Kp={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Qv=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Jv=10*60*1e3;class Si extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Ue(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Yv extends Si{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Xv(e){return Ue(e)&&e.name==="AuthApiError"}class bn extends Si{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class zr extends Si{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Kt extends zr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Yo(e){return Ue(e)&&e.name==="AuthSessionMissingError"}class zn extends zr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class sa extends zr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ia extends zr{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Zv(e){return Ue(e)&&e.name==="AuthImplicitGrantRedirectError"}class Mu extends zr{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ey extends zr{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class ld extends zr{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Xo(e){return Ue(e)&&e.name==="AuthRetryableFetchError"}class Uu extends zr{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class dd extends zr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ga="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),zu=` 	
\r=`.split(""),ty=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<zu.length;t+=1)e[zu[t].charCodeAt(0)]=-2;for(let t=0;t<Ga.length;t+=1)e[Ga[t].charCodeAt(0)]=t;return e})();function Bu(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Ga[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Ga[n]),t.queuedBits-=6}}function Gp(e,t,r){const n=ty[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Vu(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},a=o=>{sy(o,n,r)};for(let o=0;o<e.length;o+=1)Gp(e.charCodeAt(o),s,a);return t.join("")}function ry(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function ny(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}ry(n,t)}}function sy(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function gs(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Gp(e.charCodeAt(s),r,n);return new Uint8Array(t)}function iy(e){const t=[];return ny(e,r=>t.push(r)),new Uint8Array(t)}function jn(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>Bu(s,r,n)),Bu(null,r,n),t.join("")}function ay(e){return Math.round(Date.now()/1e3)+e}function oy(){return Symbol("auth-callback")}const Ct=()=>typeof window<"u"&&typeof document<"u",pn={tested:!1,writable:!1},Qp=()=>{if(!Ct())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(pn.tested)return pn.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),pn.tested=!0,pn.writable=!0}catch{pn.tested=!0,pn.writable=!1}return pn.writable};function ly(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,a)=>{t[a]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const Jp=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),dy=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Gn=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},gn=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},_t=async(e,t)=>{await e.removeItem(t)};class yo{constructor(){this.promise=new yo.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}yo.promiseConstructor=Promise;function aa(e){const t=e.split(".");if(t.length!==3)throw new dd("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Qv.test(t[n]))throw new dd("JWT not in base64url format");return{header:JSON.parse(Vu(t[0])),payload:JSON.parse(Vu(t[1])),signature:gs(t[2]),raw:{header:t[0],payload:t[1]}}}async function cy(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function uy(e,t){return new Promise((n,s)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){n(o);return}}catch(o){if(!t(a,o)){s(o);return}}})()})}function hy(e){return("0"+e.toString(16)).substr(-2)}function fy(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let a=0;a<56;a++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,hy).join("")}async function py(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(a=>String.fromCharCode(a)).join("")}async function gy(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await py(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Bn(e,t,r=!1){const n=fy();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Gn(e,`${t}-code-verifier`,s);const a=await gy(n);return[a,n===a?"plain":"s256"]}const my=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function xy(e){const t=e.headers.get(od);if(!t||!t.match(my))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function vy(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function yy(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const by=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Vn(e){if(!by.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Zo(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function wy(e,t){return new Proxy(e,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,s)}})}function qu(e){return JSON.parse(JSON.stringify(e))}const vn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ky=[502,503,504];async function Hu(e){var t;if(!dy(e))throw new ld(vn(e),0);if(ky.includes(e.status))throw new ld(vn(e),e.status);let r;try{r=await e.json()}catch(a){throw new bn(vn(a),a)}let n;const s=xy(e);if(s&&s.getTime()>=Kp["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Uu(vn(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Kt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new Uu(vn(r),e.status,r.weak_password.reasons);throw new Yv(vn(r),e.status||500,n)}const Ny=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function We(e,t,r,n){var s;const a=Object.assign({},n==null?void 0:n.headers);a[od]||(a[od]=Kp["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",d=await jy(e,t,r+l,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(d):{data:Object.assign({},d),error:null}}async function jy(e,t,r,n,s,a){const o=Ny(t,n,s,a);let l;try{l=await e(r,Object.assign({},o))}catch(d){throw console.error(d),new ld(vn(d),0)}if(l.ok||await Hu(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(d){await Hu(d)}}function cr(e){var t;let r=null;Cy(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=ay(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Wu(e){const t=cr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Gr(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Sy(e){return{data:e,error:null}}function _y(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a}=e,o=mo(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a},d=Object.assign({},o);return{data:{properties:l,user:d},error:null}}function Ku(e){return e}function Cy(e){return e.access_token&&e.refresh_token&&e.expires_in}const el=["global","local","others"];class Ey{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Jp(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=el[0]){if(el.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${el.join(", ")}`);try{return await We(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await We(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Gr})}catch(n){if(Ue(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=mo(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await We(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:_y,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Ue(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await We(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Gr})}catch(r){if(Ue(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,a,o,l,d;try{const c={nextPage:null,lastPage:0,total:0},u=await We(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:Ku});if(u.error)throw u.error;const h=await u.json(),x=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(d=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&d!==void 0?d:[];return v.length>0&&(v.forEach(k=>{const N=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(k.split(";")[1].split("=")[1]);c[`${_}Page`]=N}),c.total=parseInt(x)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(Ue(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){Vn(t);try{return await We(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Gr})}catch(r){if(Ue(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Vn(t);try{return await We(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Gr})}catch(n){if(Ue(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Vn(t);try{return await We(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Gr})}catch(n){if(Ue(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Vn(t.userId);try{const{data:r,error:n}=await We(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(Ue(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Vn(t.userId),Vn(t.id);try{return{data:await We(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Ue(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,s,a,o,l,d;try{const c={nextPage:null,lastPage:0,total:0},u=await We(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:Ku});if(u.error)throw u.error;const h=await u.json(),x=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(d=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&d!==void 0?d:[];return v.length>0&&(v.forEach(k=>{const N=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(k.split(";")[1].split("=")[1]);c[`${_}Page`]=N}),c.total=parseInt(x)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(Ue(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(t){try{return await We(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ue(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await We(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ue(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await We(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await We(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ue(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await We(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ue(r))return{data:null,error:r};throw r}}}function Gu(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const qn={debug:!!(globalThis&&Qp()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Yp extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Qu extends Yp{}async function Ly(e,t,r){qn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;t>0&&setTimeout(()=>{n.abort(),qn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve();try{return await globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){qn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{qn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw qn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Qu(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(qn.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}})}catch(s){throw(s==null?void 0:s.name)==="AbortError"?new Qu(`Acquiring an exclusive Navigator LockManager lock "${e}" timed out waiting ${t}ms`):s}}function Ty(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Xp(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function Iy(e){return parseInt(e,16)}function $y(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function Ry(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:a=new Date,nonce:o,notBefore:l,requestId:d,resources:c,scheme:u,uri:h,version:x}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(x!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${x}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const v=Xp(e.address),k=u?`${u}://${n}`:n,N=e.statement?`${e.statement}
`:"",_=`${k} wants you to sign in with your Ethereum account:
${v}

${N}`;let p=`URI: ${h}
Version: ${x}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${a.toISOString()}`;if(s&&(p+=`
Expiration Time: ${s.toISOString()}`),l&&(p+=`
Not Before: ${l.toISOString()}`),d&&(p+=`
Request ID: ${d}`),c){let g=`
Resources:`;for(const b of c){if(!b||typeof b!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${b}`);g+=`
- ${b}`}p+=g}return`${_}
${p}`}class xt extends Error{constructor({message:t,code:r,cause:n,name:s}){var a;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(a=s??(n instanceof Error?n.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=r}}class Qa extends xt{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function Py({error:e,options:t}){var r,n,s;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new xt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=a.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new xt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=a.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new xt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=a.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new xt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new xt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new xt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new xt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new xt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(Zp(o)){if(a.rp.id!==o)return new xt({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new xt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new xt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new xt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new xt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function Ay({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new xt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new xt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(Zp(n)){if(r.rpId!==n)return new xt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new xt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new xt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new xt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class Oy{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const Dy=new Oy;function Fy(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,s=mo(e,["challenge","user","excludeCredentials"]),a=gs(t).buffer,o=Object.assign(Object.assign({},r),{id:gs(r.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:a,user:o});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let d=0;d<n.length;d++){const c=n[d];l.excludeCredentials[d]=Object.assign(Object.assign({},c),{id:gs(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return l}function My(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=mo(e,["challenge","allowCredentials"]),s=gs(t).buffer,a=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){a.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const l=r[o];a.allowCredentials[o]=Object.assign(Object.assign({},l),{id:gs(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return a}function Uy(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:jn(new Uint8Array(e.response.attestationObject)),clientDataJSON:jn(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function zy(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:jn(new Uint8Array(s.authenticatorData)),clientDataJSON:jn(new Uint8Array(s.clientDataJSON)),signature:jn(new Uint8Array(s.signature)),userHandle:s.userHandle?jn(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Zp(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Ju(){var e,t;return!!(Ct()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function By(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Qa("Browser returned unexpected credential type",t)}:{data:null,error:new Qa("Empty credential response",t)}}catch(t){return{data:null,error:Py({error:t,options:e})}}}async function Vy(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Qa("Browser returned unexpected credential type",t)}:{data:null,error:new Qa("Empty credential response",t)}}catch(t){return{data:null,error:Ay({error:t,options:e})}}}const qy={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Hy={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Ja(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of e)if(s)for(const a in s){const o=s[a];if(o!==void 0)if(Array.isArray(o))n[a]=o;else if(r(o))n[a]=o;else if(t(o)){const l=n[a];t(l)?n[a]=Ja(l,o):n[a]=Ja(o)}else n[a]=o}return n}function Wy(e,t){return Ja(qy,e,t||{})}function Ky(e,t){return Ja(Hy,e,t||{})}class Gy{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:s},a){var o;try{const{data:l,error:d}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!l)return{data:null,error:d};const c=s??Dy.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:u}=l.webauthn.credential_options.publicKey;if(!u.name){const h=n;if(h)u.name=`${u.id}:${h}`;else{const v=(await this.client.getUser()).data.user,k=((o=v==null?void 0:v.user_metadata)===null||o===void 0?void 0:o.name)||(v==null?void 0:v.email)||(v==null?void 0:v.id)||"User";u.name=`${u.id}:${k}`}}u.displayName||(u.displayName=u.name)}switch(l.webauthn.type){case"create":{const u=Wy(l.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:h,error:x}=await By({publicKey:u,signal:c});return h?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:h}},error:null}:{data:null,error:x}}case"request":{const u=Ky(l.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:h,error:x}=await Vy(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:u,signal:c}));return h?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:h}},error:null}:{data:null,error:x}}}}catch(l){return Ue(l)?{data:null,error:l}:{data:null,error:new bn("Unexpected error in challenge",l)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},a){if(!r)return{data:null,error:new Si("rpId is required for WebAuthn authentication")};try{if(!Ju())return{data:null,error:new bn("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:a});if(!o)return{data:null,error:l};const{webauthn:d}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:d.type,rpId:r,rpOrigins:n,credential_response:d.credential_response}})}catch(o){return Ue(o)?{data:null,error:o}:{data:null,error:new bn("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},a){if(!r)return{data:null,error:new Si("rpId is required for WebAuthn registration")};try{if(!Ju())return{data:null,error:new bn("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(u=>{var h;return(h=u.data)===null||h===void 0?void 0:h.all.find(x=>x.factor_type==="webauthn"&&x.friendly_name===t&&x.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u==null?void 0:u.id}):void 0),{data:null,error:l};const{data:d,error:c}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:a});return d?this._verify({factorId:o.id,challengeId:d.challengeId,webauthn:{rpId:r,rpOrigins:n,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:c}}catch(o){return Ue(o)?{data:null,error:o}:{data:null,error:new bn("Unexpected error in register",o)}}}}Ty();const Qy={url:Wv,storageKey:Kv,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Gv,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4,skipAutoInitialize:!1};async function Yu(e,t,r){return await r()}const Hn={};class _i{get jwks(){var t,r;return(r=(t=Hn[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Hn[this.storageKey]=Object.assign(Object.assign({},Hn[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Hn[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Hn[this.storageKey]=Object.assign(Object.assign({},Hn[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},Qy),t);if(this.storageKey=a.storageKey,this.instanceID=(r=_i.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,_i.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&Ct()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Ey({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=Jp(a.fetch),this.lock=a.lock||Yu,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,this.lockAcquireTimeout=a.lockAcquireTimeout,a.lock?this.lock=a.lock:this.persistSession&&Ct()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Ly:this.lock=Yu,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Gy(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:Qp()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Gu(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=Gu(this.memoryStorage)),Ct()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o);try{await this._notifyAllSubscribers(o.data.event,o.data.session,!1)}catch(l){this._debug("#broadcastChannel","error",l)}})}a.skipAutoInitialize||this.initialize().catch(o=>{this._debug("#initialize()","error",o)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Wp}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(Ct()&&(r=ly(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Ct()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),Zv(a)){const d=(t=a.details)===null||t===void 0?void 0:t.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:a}}return{error:a}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Ue(r)?this._returnResult({error:r}):this._returnResult({error:new bn("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const a=await We(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:cr}),{data:o,error:l}=a;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const d=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:c,session:d},error:null})}catch(a){if(Ue(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var r,n,s;try{let a;if("email"in t){const{email:u,password:h,options:x}=t;let v=null,k=null;this.flowType==="pkce"&&([v,k]=await Bn(this.storage,this.storageKey)),a=await We(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x==null?void 0:x.emailRedirectTo,body:{email:u,password:h,data:(r=x==null?void 0:x.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken},code_challenge:v,code_challenge_method:k},xform:cr})}else if("phone"in t){const{phone:u,password:h,options:x}=t;a=await We(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(n=x==null?void 0:x.data)!==null&&n!==void 0?n:{},channel:(s=x==null?void 0:x.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken}},xform:cr})}else throw new sa("You must provide either an email or phone number and a password");const{data:o,error:l}=a;if(l||!o)return await _t(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const d=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:c,session:d},error:null})}catch(a){if(await _t(this.storage,`${this.storageKey}-code-verifier`),Ue(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:o,options:l}=t;r=await We(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Wu})}else if("phone"in t){const{phone:a,password:o,options:l}=t;r=await We(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Wu})}else throw new sa("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const a=new zn;return this._returnResult({data:{user:null,session:null},error:a})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(Ue(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,s,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,a,o,l,d,c,u,h,x;let v,k;if("message"in t)v=t.message,k=t.signature;else{const{chain:N,wallet:_,statement:p,options:g}=t;let b;if(Ct())if(typeof _=="object")b=_;else{const Ne=window;if("ethereum"in Ne&&typeof Ne.ethereum=="object"&&"request"in Ne.ethereum&&typeof Ne.ethereum.request=="function")b=Ne.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=_}const E=new URL((r=g==null?void 0:g.url)!==null&&r!==void 0?r:window.location.href),R=await b.request({method:"eth_requestAccounts"}).then(Ne=>Ne).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!R||R.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const Y=Xp(R[0]);let P=(n=g==null?void 0:g.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!P){const Ne=await b.request({method:"eth_chainId"});P=Iy(Ne)}const X={domain:E.host,address:Y,statement:p,uri:E.href,version:"1",chainId:P,nonce:(s=g==null?void 0:g.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(a=g==null?void 0:g.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=g==null?void 0:g.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(d=g==null?void 0:g.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(c=g==null?void 0:g.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(u=g==null?void 0:g.signInWithEthereum)===null||u===void 0?void 0:u.resources};v=Ry(X),k=await b.request({method:"personal_sign",params:[$y(v),Y]})}try{const{data:N,error:_}=await We(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:k},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(x=t.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:cr});if(_)throw _;if(!N||!N.session||!N.user){const p=new zn;return this._returnResult({data:{user:null,session:null},error:p})}return N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),this._returnResult({data:Object.assign({},N),error:_})}catch(N){if(Ue(N))return this._returnResult({data:{user:null,session:null},error:N});throw N}}async signInWithSolana(t){var r,n,s,a,o,l,d,c,u,h,x,v;let k,N;if("message"in t)k=t.message,N=t.signature;else{const{chain:_,wallet:p,statement:g,options:b}=t;let E;if(Ct())if(typeof p=="object")E=p;else{const Y=window;if("solana"in Y&&typeof Y.solana=="object"&&("signIn"in Y.solana&&typeof Y.solana.signIn=="function"||"signMessage"in Y.solana&&typeof Y.solana.signMessage=="function"))E=Y.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof p!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=p}const R=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in E&&E.signIn){const Y=await E.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:R.host,uri:R.href}),g?{statement:g}:null));let P;if(Array.isArray(Y)&&Y[0]&&typeof Y[0]=="object")P=Y[0];else if(Y&&typeof Y=="object"&&"signedMessage"in Y&&"signature"in Y)P=Y;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in P&&"signature"in P&&(typeof P.signedMessage=="string"||P.signedMessage instanceof Uint8Array)&&P.signature instanceof Uint8Array)k=typeof P.signedMessage=="string"?P.signedMessage:new TextDecoder().decode(P.signedMessage),N=P.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in E)||typeof E.signMessage!="function"||!("publicKey"in E)||typeof E!="object"||!E.publicKey||!("toBase58"in E.publicKey)||typeof E.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");k=[`${R.host} wants you to sign in with your Solana account:`,E.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${R.href}`,`Issued At: ${(s=(n=b==null?void 0:b.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((a=b==null?void 0:b.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((d=b==null?void 0:b.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((h=(u=b==null?void 0:b.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||h===void 0)&&h.length?["Resources",...b.signInWithSolana.resources.map(P=>`- ${P}`)]:[]].join(`
`);const Y=await E.signMessage(new TextEncoder().encode(k),"utf8");if(!Y||!(Y instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");N=Y}}try{const{data:_,error:p}=await We(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:k,signature:jn(N)},!((x=t.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:cr});if(p)throw p;if(!_||!_.session||!_.user){const g=new zn;return this._returnResult({data:{user:null,session:null},error:g})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:p})}catch(_){if(Ue(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async _exchangeCodeForSession(t){const r=await gn(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new ey;const{data:a,error:o}=await We(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:cr});if(await _t(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!a||!a.session||!a.user){const l=new zn;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:s??null}),error:o})}catch(a){if(await _t(this.storage,`${this.storageKey}-code-verifier`),Ue(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:a,nonce:o}=t,l=await We(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:cr}),{data:d,error:c}=l;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!d||!d.session||!d.user){const u=new zn;return this._returnResult({data:{user:null,session:null},error:u})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:c})}catch(r){if(Ue(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,s,a,o;try{if("email"in t){const{email:l,options:d}=t;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Bn(this.storage,this.storageKey));const{error:h}=await We(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=d==null?void 0:d.data)!==null&&r!==void 0?r:{},create_user:(n=d==null?void 0:d.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:d==null?void 0:d.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in t){const{phone:l,options:d}=t,{data:c,error:u}=await We(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=d==null?void 0:d.data)!==null&&s!==void 0?s:{},create_user:(a=d==null?void 0:d.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},channel:(o=d==null?void 0:d.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u})}throw new sa("You must provide either an email or phone number.")}catch(l){if(await _t(this.storage,`${this.storageKey}-code-verifier`),Ue(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var r,n;try{let s,a;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await We(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:s,xform:cr});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const d=o.session,c=o.user;return d!=null&&d.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:c,session:d},error:null})}catch(s){if(Ue(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var r,n,s,a,o;try{let l=null,d=null;this.flowType==="pkce"&&([l,d]=await Bn(this.storage,this.storageKey));const c=await We(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:d}),headers:this.headers,xform:Sy});return!((a=c.data)===null||a===void 0)&&a.url&&Ct()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(l){if(await _t(this.storage,`${this.storageKey}-code-verifier`),Ue(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Kt;const{error:s}=await We(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(Ue(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:a}=t,{error:o}=await We(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:n,type:s,options:a}=t,{data:o,error:l}=await We(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l})}throw new sa("You must provide either an email or phone number and a type")}catch(r){if(Ue(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await gn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Jo:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await gn(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=Zo()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=wy(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await We(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Gr}):await this._useSession(async r=>{var n,s,a;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Kt}:await We(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0,xform:Gr})})}catch(r){if(Ue(r))return Yo(r)&&(await this._removeSession(),await _t(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:a}=n;if(a)throw a;if(!s.session)throw new Kt;const o=s.session;let l=null,d=null;this.flowType==="pkce"&&t.email!=null&&([l,d]=await Bn(this.storage,this.storageKey));const{data:c,error:u}=await We(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:d}),jwt:o.access_token,xform:Gr});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await _t(this.storage,`${this.storageKey}-code-verifier`),Ue(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Kt;const r=Date.now()/1e3;let n=r,s=!0,a=null;const{payload:o}=aa(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{data:l,error:d}=await this._callRefreshToken(t.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:d}=await this._getUser(t.access_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(r){if(Ue(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Kt;const{data:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Ue(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!Ct())throw new ia("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ia(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Mu("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ia("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Mu("No code detected.");const{data:g,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const E=new URL(window.location.href);return E.searchParams.delete("code"),window.history.replaceState(window.history.state,"",E.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:a,refresh_token:o,expires_in:l,expires_at:d,token_type:c}=t;if(!a||!l||!o||!c)throw new ia("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(l);let x=u+h;d&&(x=parseInt(d));const v=x-u;v*1e3<=Kn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${h}s`);const k=x-h;u-k>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",k,x,u):u-k<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",k,x,u);const{data:N,error:_}=await this._getUser(a);if(_)throw _;const p={provider_token:n,provider_refresh_token:s,access_token:a,expires_in:h,expires_at:x,refresh_token:o,token_type:c,user:N.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:p,redirectType:t.type},error:null})}catch(n){if(Ue(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await gn(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a&&!Yo(a))return this._returnResult({error:a});const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(Xv(l)&&(l.status===404||l.status===401||l.status===403)||Yo(l)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await _t(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=oy(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:a},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Bn(this.storage,this.storageKey,!0));try{return await We(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(await _t(this.storage,`${this.storageKey}-code-verifier`),Ue(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(Ue(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:s}=await this._useSession(async a=>{var o,l,d,c,u;const{data:h,error:x}=a;if(x)throw x;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(d=t.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await We(this.fetch,"GET",v,{headers:this.headers,jwt:(u=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(s)throw s;return Ct()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(Ue(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:a}}=r;if(s)throw s;const{options:o,provider:l,token:d,access_token:c,nonce:u}=t,h=await We(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=a==null?void 0:a.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:d,access_token:c,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:cr}),{data:x,error:v}=h;return v?this._returnResult({data:{user:null,session:null},error:v}):!x||!x.session||!x.user?this._returnResult({data:{user:null,session:null},error:new zn}):(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("USER_UPDATED",x.session)),this._returnResult({data:x,error:v}))}catch(s){if(await _t(this.storage,`${this.storageKey}-code-verifier`),Ue(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:a,error:o}=r;if(o)throw o;return await We(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(Ue(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await uy(async s=>(s>0&&await cy(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await We(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:cr})),(s,a)=>{const o=200*Math.pow(2,s);return a&&Xo(a)&&Date.now()+o-n<Kn})}catch(n){if(this._debug(r,"error",n),Ue(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Ct()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await gn(this.storage,this.storageKey);if(s&&this.userStorage){let o=await gn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Gn(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:Zo()}else if(s&&!s.user&&!s.user){const o=await gn(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await _t(this.storage,this.storageKey+"-user"),await Gn(this.storage,this.storageKey,s)):s.user=Zo()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const a=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Jo;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${Jo}s`),a){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Xo(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Kt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new yo;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new Kt;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={data:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(s,"error",a),Ue(a)){const o={data:null,error:a};return Xo(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(d){a.push(d)}});if(await Promise.all(o),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await _t(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Gn(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const a=qu(s);await Gn(this.storage,this.storageKey,a)}else{const s=qu(r);await Gn(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await _t(this.storage,this.storageKey),await _t(this.storage,this.storageKey+"-code-verifier"),await _t(this.storage,this.storageKey+"-user"),this.userStorage&&await _t(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ct()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Kn);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Kn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Kn}ms, refresh threshold is ${ad} ticks`),s<=ad&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Yp)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ct()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,o]=await Bn(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);s.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;return a?this._returnResult({data:null,error:a}):await We(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ue(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:a,error:o}=r;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:d,error:c}=await We(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(t.factorType==="totp"&&d.type==="totp"&&(!((s=d==null?void 0:d.totp)===null||s===void 0)&&s.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))})}catch(r){if(Ue(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?Uy(t.webauthn.credential_response):zy(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:d}=await We(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return d?this._returnResult({data:null,error:d}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:d}))})}catch(r){if(Ue(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return this._returnResult({data:null,error:a});const o=await We(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:Fy(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:My(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Ue(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])s.all.push(a),a.status==="verified"&&s[a.factor_type].push(a);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(t){var r,n,s,a;if(t)try{const{payload:v}=aa(t);let k=null;v.aal&&(k=v.aal);let N=k;const{data:{user:_},error:p}=await this.getUser(t);if(p)return this._returnResult({data:null,error:p});((n=(r=_==null?void 0:_.factors)===null||r===void 0?void 0:r.filter(E=>E.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(N="aal2");const b=v.amr||[];return{data:{currentLevel:k,nextLevel:N,currentAuthenticationMethods:b},error:null}}catch(v){if(Ue(v))return this._returnResult({data:null,error:v});throw v}const{data:{session:o},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=aa(o.access_token);let c=null;d.aal&&(c=d.aal);let u=c;((a=(s=o.user.factors)===null||s===void 0?void 0:s.filter(v=>v.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(u="aal2");const x=d.amr||[];return{data:{currentLevel:c,nextLevel:u,currentAuthenticationMethods:x},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await We(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Kt})})}catch(r){if(Ue(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!s)return this._returnResult({data:null,error:new Kt});const o=await We(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Ct()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Ue(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!s)return this._returnResult({data:null,error:new Kt});const o=await We(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Ct()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Ue(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await We(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Kt})})}catch(t){if(Ue(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await We(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Kt})})}catch(r){if(Ue(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+Jv>s)return n;const{data:a,error:o}=await We(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=s,n=a.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:v,error:k}=await this.getSession();if(k||!v.session)return this._returnResult({data:null,error:k});n=v.session.access_token}const{header:s,payload:a,signature:o,raw:{header:l,payload:d}}=aa(n);r!=null&&r.allowExpired||vy(a.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:a,header:s,signature:o},error:null}}const u=yy(s.alg),h=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,iy(`${l}.${d}`)))throw new dd("Invalid JWT signature");return{data:{claims:a,header:s,signature:o},error:null}}catch(n){if(Ue(n))return this._returnResult({data:null,error:n});throw n}}}_i.nextInstanceID={};const Jy=_i,Yy="2.97.0";let qs="";typeof Deno<"u"?qs="deno":typeof document<"u"?qs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?qs="react-native":qs="node";const Xy={"X-Client-Info":`supabase-js-${qs}/${Yy}`},Zy={headers:Xy},eb={schema:"public"},tb={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},rb={};function Ci(e){"@babel/helpers - typeof";return Ci=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ci(e)}function nb(e,t){if(Ci(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ci(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sb(e){var t=nb(e,"string");return Ci(t)=="symbol"?t:t+""}function ib(e,t,r){return(t=sb(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function pt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xu(Object(r),!0).forEach(function(n){ib(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xu(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const ab=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),ob=()=>Headers,lb=(e,t,r)=>{const n=ab(r),s=ob();return async(a,o)=>{var l;const d=(l=await t())!==null&&l!==void 0?l:e;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${d}`),n(a,pt(pt({},o),{},{headers:c}))}};function db(e){return e.endsWith("/")?e:e+"/"}function cb(e,t){var r,n;const{db:s,auth:a,realtime:o,global:l}=e,{db:d,auth:c,realtime:u,global:h}=t,x={db:pt(pt({},d),s),auth:pt(pt({},c),a),realtime:pt(pt({},u),o),storage:{},global:pt(pt(pt({},h),l),{},{headers:pt(pt({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?x.accessToken=e.accessToken:delete x.accessToken,x}function ub(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(db(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var hb=class extends Jy{constructor(e){super(e)}},fb=class{constructor(e,t,r){var n,s;this.supabaseUrl=e,this.supabaseKey=t;const a=ub(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const o=`sb-${a.hostname.split(".")[0]}-auth-token`,l={db:eb,realtime:rb,auth:pt(pt({},tb),{},{storageKey:o}),global:Zy},d=cb(r??{},l);if(this.storageKey=(n=d.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(s=d.global.headers)!==null&&s!==void 0?s:{},d.accessToken)this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(u,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}});else{var c;this.auth=this._initSupabaseAuthClient((c=d.auth)!==null&&c!==void 0?c:{},this.headers,d.global.fetch)}this.fetch=lb(t,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(pt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(u=>this.realtime.setAuth(u)).catch(u=>console.warn("Failed to set initial Realtime auth token:",u)),this.rest=new Xx(new URL("rest/v1",a).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch,timeout:d.db.timeout,urlLengthLimit:d.db.urlLengthLimit}),this.storage=new Hv(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new qx(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,storageKey:a,flowType:o,lock:l,debug:d,throwOnError:c},u,h){const x={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new hb({url:this.authUrl.href,headers:pt(pt({},x),u),storageKey:a,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,flowType:o,lock:l,debug:d,throwOnError:c,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new gv(this.realtimeUrl.href,pt(pt({},e),{},{params:pt(pt({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const pb=(e,t,r)=>new fb(e,t,r);function gb(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}gb()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Gt=pb("https://invalid.supabase.co","invalid");class mb{async signup(t){var s,a;const{data:r,error:n}=await Gt.auth.signUp({email:t.email,password:t.password,options:{data:{full_name:t.name}}});if(n)throw n;if(!r.user)throw new Error("Signup failed: No user returned");if(((a=(s=r.user)==null?void 0:s.identities)==null?void 0:a.length)===0)throw new Error("Email address is already registered");return r.session?(await this.createProfile(r.user.id,t.name,t.email),{user:{id:r.user.id,email:r.user.email||"",name:t.name,avatar:void 0},token:r.session.access_token}):{user:{id:r.user.id,email:r.user.email||"",name:t.name},verifyNeeded:!0,email:t.email}}async verifyOtp(t,r){var o;const{data:n,error:s}=await Gt.auth.verifyOtp({email:t,token:r,type:"signup"});if(s)throw s;if(!n.user||!n.session)throw new Error("Verification failed");const a=((o=n.user.user_metadata)==null?void 0:o.full_name)||"User";return await this.createProfile(n.user.id,a,t),{user:{id:n.user.id,email:n.user.email||"",name:a},token:n.session.access_token}}async createProfile(t,r,n){const{error:s}=await Gt.from("profiles").upsert([{id:t,name:r,email:n}]);s&&console.error("Error creating profile:",s)}async login(t){const{data:r,error:n}=await Gt.auth.signInWithPassword({email:t.email,password:t.password});if(n)throw n;if(!r.user||!r.session)throw new Error("Authentication failed");const{data:s}=await Gt.from("profiles").select("*").eq("id",r.user.id).single();return{user:{id:r.user.id,email:r.user.email||"",name:(s==null?void 0:s.name)||"User",avatar:s==null?void 0:s.avatar_url},token:r.session.access_token}}async fetchCurrentUser(){const{data:{user:t},error:r}=await Gt.auth.getUser();if(r||!t)throw new Error("Unauthorized");const{data:n}=await Gt.from("profiles").select("*").eq("id",t.id).single();return{id:t.id,email:t.email||"",name:(n==null?void 0:n.name)||"User",avatar:n==null?void 0:n.avatar_url}}async updateProfile(t,r,n){const{error:s}=await Gt.from("profiles").update({name:r,avatar_url:n}).eq("id",t);if(s)throw s}async uploadAvatar(t,r){const n=t.name.split(".").pop(),a=`${`${r}-${Math.random()}.${n}`}`;console.log("Attempting upload to bucket: AVATAR with file path:",a);const{error:o}=await Gt.storage.from("avatar").upload(a,t,{upsert:!0});if(o)throw console.error("Supabase Storage Upload Error Full Object:",o),new Error(`Upload failed: ${o.message}`);console.log("Upload successful, getting public URL...");const{data:l}=Gt.storage.from("avatar").getPublicUrl(a);return l.publicUrl}async updatePassword(t){const{error:r}=await Gt.auth.updateUser({password:t});if(r)throw r}}const ls=new mb,eg=y.createContext(void 0),tl="supabase-auth-token",oa="app-user-data",xb=({children:e})=>{const[t,r]=y.useState(()=>{const u=localStorage.getItem(oa);if(u)try{return JSON.parse(u)}catch(h){console.error("Failed to parse stored user",h)}return null}),n=u=>({id:u.id,name:u.name,email:u.email,avatar:u.avatar??`https://api.dicebear.com/7.x/avataaars/svg?seed=${encodeURIComponent(u.name)}`}),s=u=>{const h=n(u.user);r(h),u.token&&localStorage.setItem(tl,u.token),localStorage.setItem(oa,JSON.stringify(h))};y.useEffect(()=>{const{data:{subscription:u}}=Gt.auth.onAuthStateChange((h,x)=>{h==="SIGNED_IN"&&(x!=null&&x.access_token)&&localStorage.setItem(tl,x.access_token)});return()=>u.unsubscribe()},[]);const a=async(u,h)=>{const x=await ls.login({email:u,password:h});s(x)},o=async(u,h,x)=>{try{const v=await ls.signup({name:u,email:h,password:x});return v.verifyNeeded||s(v),v}catch(v){throw console.error("AuthContext Signup Error:",v),v}},l=async(u,h)=>{const x=await ls.verifyOtp(u,h);s(x)},d=async(u,h)=>{if(!t)throw new Error("Not authenticated");await ls.updateProfile(t.id,u,h);const x=n({...t,name:u,avatar:h});r(x),localStorage.setItem(oa,JSON.stringify(x))},c=async()=>{console.log("AuthContext: Starting LocalStorage logout process..."),localStorage.removeItem(tl),localStorage.removeItem(oa),r(null);const{error:u}=await Gt.auth.signOut();u&&console.error("AuthContext: Error during Supabase remote sign out:",u)};return i.jsx(eg.Provider,{value:{user:t,isAuthenticated:!!t,login:a,signup:o,verifyOtp:l,updateUserProfile:d,logout:c},children:e})},Ai=()=>{const e=y.useContext(eg);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},tg=y.createContext(void 0),vb=({children:e})=>{const[t,r]=y.useState(null);return i.jsx(tg.Provider,{value:{headerContent:t,setHeaderContent:r},children:e})},yb=()=>{const e=y.useContext(tg);if(!e)throw new Error("useHeader must be used within a HeaderProvider");return e},rg=[{title:"Sorting",path:"/sorting",description:"Bubble, Merge, Quick, Heap, Radix Sort",category:["Algorithms","Sorting"],difficulty:"Easy",count:8,countLabel:"Algorithms",icon:"bar_chart",gradientFrom:"from-indigo-500",gradientTo:"to-purple-600",darkGradientFrom:"dark:from-indigo-900/50",darkGradientTo:"dark:to-purple-900/50",iconColor:"text-white",darkIconColor:"dark:text-indigo-400",pattern:"Abstract Sorting Bars Pattern",alt:"Abstract Sorting Bars Pattern",image:"/sorting.gif",imageBg:"bg-[#ffffff]"},{title:"Linked Lists",path:"/linked-list",description:"Singly, Doubly, Circular Lists",category:["Data Structures"],difficulty:"Easy",count:5,countLabel:"Structures",icon:"link",gradientFrom:"from-blue-500",gradientTo:"to-cyan-500",darkGradientFrom:"dark:from-blue-900/50",darkGradientTo:"dark:to-cyan-900/50",iconColor:"text-white",darkIconColor:"dark:text-cyan-400",pattern:"Abstract Chain Link Pattern",alt:"Abstract Chain Link Pattern",image:"/list.gif",imageBg:"bg-[#ffffff]"},{title:"Arrays",path:"/arrays",description:"Search, Insert, Delete, Kadane's",category:["Data Structures"],difficulty:"Easy",count:4,countLabel:"Concepts",icon:"data_array",gradientFrom:"from-pink-500",gradientTo:"to-rose-500",darkGradientFrom:"dark:from-pink-900/50",darkGradientTo:"dark:to-rose-900/50",iconColor:"text-white",darkIconColor:"dark:text-pink-400",pattern:"Abstract Key Value Grid Pattern",alt:"Abstract Key Value Grid Pattern",image:"/array.gif",imageBg:"bg-[#f0f0f0]"},{title:"Stack",path:"/stack",description:"LIFO Operations, Push, Pop, Peek",category:["Data Structures"],difficulty:"Easy",count:3,countLabel:"Operations",icon:"layers",gradientFrom:"from-amber-500",gradientTo:"to-orange-600",darkGradientFrom:"dark:from-amber-900/50",darkGradientTo:"dark:to-orange-900/50",iconColor:"text-white",darkIconColor:"dark:text-amber-400",pattern:"Abstract Stack Layers",alt:"Abstract Stack Layers",image:"/stack.gif",imageBg:"bg-[#ffffff]"},{title:"Queue",path:"/queue",description:"FIFO Operations, Enqueue, Dequeue",category:["Data Structures"],difficulty:"Easy",count:3,countLabel:"Operations",icon:"queue_segment",gradientFrom:"from-sky-500",gradientTo:"to-blue-600",darkGradientFrom:"dark:from-sky-900/50",darkGradientTo:"dark:to-blue-900/50",iconColor:"text-white",darkIconColor:"dark:text-sky-400",pattern:"Abstract Queue Line",alt:"Abstract Queue Line",image:"/queue.gif",imageBg:"bg-[#ffffff]"},{title:"Binary Tree",path:"/trees",description:"Insertion, Deletion, Traversal, AVL",category:["Data Structures","Trees"],difficulty:"Medium",count:4,countLabel:"Operations",icon:"account_tree",gradientFrom:"from-emerald-500",gradientTo:"to-teal-500",darkGradientFrom:"dark:from-emerald-900/50",darkGradientTo:"dark:to-teal-900/50",iconColor:"text-white",darkIconColor:"dark:text-emerald-400",pattern:"Abstract Tree Branching Pattern",alt:"Abstract Tree Branching Pattern",image:"/bst.gif",imageBg:"bg-[#ffffff]"},{title:"Graphs",path:"/graphs",description:"BFS, DFS, Dijkstra, Prim, Kruskal",category:["Algorithms","Graphs"],difficulty:"Hard",count:6,countLabel:"Algorithms",icon:"hub",gradientFrom:"from-orange-500",gradientTo:"to-red-500",darkGradientFrom:"dark:from-orange-900/50",darkGradientTo:"dark:to-red-900/50",iconColor:"text-white",darkIconColor:"dark:text-orange-400",pattern:"Abstract Network Nodes Pattern",alt:"Abstract Network Nodes Pattern",image:"/graphds.gif",imageBg:"bg-[#ffffff]"},{title:"Recursion",path:"/recursion",description:"Fibonacci, Tower of Hanoi, Factorial",category:["Algorithms"],difficulty:"Hard",count:3,countLabel:"Algorithms",icon:"all_inclusive",gradientFrom:"from-violet-500",gradientTo:"to-fuchsia-500",darkGradientFrom:"dark:from-violet-900/50",darkGradientTo:"dark:to-fuchsia-900/50",iconColor:"text-white",darkIconColor:"dark:text-fuchsia-400",pattern:"Abstract Infinite Loop Pattern",alt:"Abstract Infinite Loop Pattern",image:"/recursion.gif",isPlaceholder:!0,imageBg:"bg-[#c8df82]"},{title:"Backtracking",path:"/backtracking",description:"N-Queens, Knight's Tour, Sudoku",category:["Algorithms"],difficulty:"Hard",count:0,countLabel:"Coming Soon",icon:"undo",gradientFrom:"from-slate-800",gradientTo:"to-slate-900",darkGradientFrom:"",darkGradientTo:"",iconColor:"text-slate-400",darkIconColor:"",pattern:"Abstract Maze Path Pattern",alt:"Abstract Maze Path Pattern",isPlaceholder:!0},{title:"Dynamic Prog.",path:"/dp",description:"Knapsack, Coin Change, LCS",category:["Algorithms"],difficulty:"Hard",count:0,countLabel:"Coming Soon",icon:"memory",gradientFrom:"from-blue-600/20",gradientTo:"to-indigo-600/20",darkGradientFrom:"",darkGradientTo:"",iconColor:"text-blue-400",darkIconColor:"",pattern:"Abstract Optimized Path Pattern",alt:"Abstract Optimized Path Pattern",isPlaceholder:!0},{title:"Heap",path:"/heap",description:"Min Heap, Max Heap, Priority Queue",category:["Data Structures"],difficulty:"Medium",count:0,countLabel:"Coming Soon",icon:"storage",gradientFrom:"from-yellow-500",gradientTo:"to-amber-500",darkGradientFrom:"dark:from-yellow-900/50",darkGradientTo:"dark:to-amber-900/50",iconColor:"text-white",darkIconColor:"dark:text-amber-400",pattern:"Abstract Heap Structure",alt:"Abstract Heap Structure",image:"/heap.gif",isPlaceholder:!0,imageBg:"bg-[#6fc9cc]"},{title:"Hash Table",path:"/hashtable",description:"Collision Resolution, Hashing",category:["Data Structures"],difficulty:"Medium",count:0,countLabel:"Coming Soon",icon:"tag",gradientFrom:"from-cyan-500",gradientTo:"to-teal-500",darkGradientFrom:"dark:from-cyan-900/50",darkGradientTo:"dark:to-teal-900/50",iconColor:"text-white",darkIconColor:"dark:text-teal-400",pattern:"Abstract Hash Map",alt:"Abstract Hash Map",image:"/hashtable.gif",isPlaceholder:!0,imageBg:"bg-[#eba964]"}],bb=()=>{const{theme:e,toggleTheme:t}=Ux(),{user:r,logout:n}=Ai(),{headerContent:s}=yb(),[a,o]=y.useState(""),[l,d]=y.useState(!1),[c,u]=y.useState(!1),[h,x]=y.useState(!1),v=On(),k=y.useRef(null),N=y.useRef(null),_=y.useRef(null),p=y.useMemo(()=>rg.filter(E=>!E.isPlaceholder).map(E=>({title:E.title,description:E.description,path:E.path,icon:E.icon,gradientFrom:E.gradientFrom,gradientTo:E.gradientTo,darkGradientFrom:E.darkGradientFrom??"",darkGradientTo:E.darkGradientTo??""})),[]),g=y.useMemo(()=>{const E=a.trim().toLowerCase();return E?p.filter(R=>R.title.toLowerCase().includes(E)||R.description.toLowerCase().includes(E)).slice(0,5):[]},[p,a]);y.useEffect(()=>{const E=R=>{var Y;(R.metaKey||R.ctrlKey)&&R.key==="k"&&(R.preventDefault(),(Y=_.current)==null||Y.focus())};return window.addEventListener("keydown",E),()=>window.removeEventListener("keydown",E)},[]),y.useEffect(()=>{const E=R=>{const Y=R.target;k.current&&!k.current.contains(Y)&&d(!1),N.current&&!N.current.contains(Y)&&u(!1)};return document.addEventListener("mousedown",E),()=>document.removeEventListener("mousedown",E)},[]);const b=E=>{v(E),d(!1),o("")};return i.jsx("header",{className:"sticky top-0 z-50 border-b border-gray-200 dark:border-[#272546] bg-white/80 dark:bg-[#131221]/80 backdrop-blur-md px-6 py-4 transition-colors duration-300",children:i.jsxs("div",{className:"max-w-[1400px] mx-auto flex items-center justify-between gap-8",children:[i.jsx("div",{className:"flex items-center gap-3",children:i.jsxs(Bt,{to:"/",className:"flex items-center gap-3",children:[i.jsx("div",{className:"size-12 text-primary flex items-center justify-center",children:i.jsx("img",{src:"/Site_logo.png",alt:"Logo",className:"w-full h-full object-contain"})}),i.jsx("h1",{className:"text-xl font-bold tracking-tight text-gray-900 dark:text-white transition-colors",children:"Data Structure Visualizer"})]})}),i.jsx("div",{className:"hidden md:flex flex-1 max-w-lg",children:s?i.jsx("div",{className:"w-full",children:s}):i.jsxs("div",{className:"relative w-full group",ref:k,children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-gray-400 dark:text-[#9794c7] group-focus-within:text-primary transition-colors",children:i.jsx("span",{className:"material-symbols-outlined",children:"search"})}),i.jsx("input",{ref:_,className:"block w-full pl-10 pr-3 py-2.5 border-none rounded-xl bg-gray-100 dark:bg-[#272546] text-sm text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-[#9794c7] focus:ring-2 focus:ring-primary focus:bg-white dark:focus:bg-[#2d2a50] transition-all",placeholder:"Search algorithms, data structures...",type:"text",value:a,onChange:E=>{o(E.target.value),d(!0)},onFocus:()=>d(!0)}),i.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:i.jsx("span",{className:"text-xs text-gray-400 dark:text-[#9794c7] font-mono border border-gray-300 dark:border-[#9794c7]/30 rounded px-1.5 py-0.5",children:"K"})}),l&&a.length>0&&i.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white dark:bg-[#1e1d32] border border-gray-200 dark:border-[#272546] rounded-xl shadow-2xl overflow-hidden animate-in fade-in zoom-in-95 duration-200",children:g.length>0?i.jsxs("div",{className:"py-2",children:[i.jsx("div",{className:"px-3 py-1.5 text-xs font-bold text-gray-400 dark:text-[#9794c7] uppercase tracking-wider",children:"Learning Modules"}),g.map((E,R)=>i.jsxs("div",{onClick:()=>b(E.path),className:"px-4 py-3 flex items-center gap-3 hover:bg-gray-50 dark:hover:bg-white/5 cursor-pointer transition-colors",children:[i.jsx("div",{className:`size-8 rounded-lg flex items-center justify-center bg-gradient-to-br ${E.gradientFrom} ${E.gradientTo} ${E.darkGradientFrom} ${E.darkGradientTo}`,children:i.jsx("span",{className:"material-symbols-outlined text-white text-sm",children:E.icon})}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-bold text-gray-900 dark:text-white",children:E.title}),i.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 line-clamp-1",children:E.description})]})]},R))]}):i.jsxs("div",{className:"p-4 text-center text-sm text-gray-500 dark:text-gray-400",children:['No results found for "',a,'"']})})]})}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{className:"p-2 text-gray-500 dark:text-[#9794c7] hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-[#272546] rounded-lg transition-colors",children:i.jsx("span",{className:"material-symbols-outlined",children:"language"})}),i.jsx("button",{onClick:t,className:"p-2 text-gray-500 dark:text-[#9794c7] hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-[#272546] rounded-lg transition-colors",children:i.jsx("span",{className:"material-symbols-outlined",children:e==="dark"?"light_mode":"dark_mode"})}),i.jsx("div",{className:"h-6 w-px bg-gray-200 dark:bg-[#272546] mx-1"}),r?i.jsxs("div",{className:"relative animate-in fade-in duration-300",ref:N,children:[i.jsx("button",{onClick:()=>u(!c),className:"size-9 rounded-full bg-gradient-to-tr from-primary to-purple-500 p-0.5 cursor-pointer hover:scale-105 transition-transform focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 dark:focus:ring-offset-[#131221]",title:"Account Menu",children:i.jsx("div",{className:"size-full rounded-full bg-white dark:bg-[#131221] flex items-center justify-center overflow-hidden",children:i.jsx("img",{className:"size-full object-cover",alt:r.name,src:r.avatar||"https://api.dicebear.com/7.x/avataaars/svg?seed=fallback"})})}),c&&i.jsxs("div",{className:"absolute top-full right-0 mt-3 w-48 bg-white dark:bg-[#1e1d32] border border-gray-200 dark:border-[#272546] rounded-xl shadow-2xl overflow-hidden animate-in fade-in zoom-in-95 duration-200 py-1",children:[i.jsxs("div",{className:"px-4 py-2 text-sm border-b border-gray-100 dark:border-[#272546]/50",children:[i.jsx("p",{className:"font-bold text-gray-900 dark:text-white truncate",children:r.name}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-[#9794c7] font-medium truncate",children:r.email})]}),i.jsxs(Bt,{to:"/profile",onClick:()=>u(!1),className:"flex items-center gap-2 px-4 py-2.5 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-white/5 transition-colors",children:[i.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"person"}),"Profile"]}),i.jsxs("button",{onClick:async E=>{E.preventDefault(),E.stopPropagation(),x(!0);try{await n(),u(!1)}catch(R){console.error("Logout failed:",R)}finally{x(!1)}},disabled:h,className:"w-full flex items-center gap-2 px-4 py-2.5 text-sm font-medium text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-500/10 transition-colors text-left disabled:opacity-50",children:[i.jsx("span",{className:"material-symbols-outlined text-[18px]",children:h?"hourglass_empty":"logout"}),h?"Signing out...":"Sign out"]})]})]}):i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Bt,{to:"/login",className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-200 hover:text-primary dark:hover:text-white transition-colors",children:"Log in"}),i.jsx(Bt,{to:"/signup",className:"px-4 py-2 rounded-xl bg-primary text-white text-sm font-bold shadow-lg shadow-primary/25 hover:bg-indigo-600 hover:scale-105 active:scale-95 transition-all",children:"Sign up"})]})]})]})})},wb=()=>{const[e,t]=y.useState(!1);y.useEffect(()=>{const n=()=>{const s=window.innerWidth<1024,a=sessionStorage.getItem("mobileWarningDismissed");t(!!(s&&!a))};return n(),window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]);const r=()=>{t(!1),sessionStorage.setItem("mobileWarningDismissed","true")};return e?i.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-md animate-in fade-in duration-300",children:i.jsx("div",{className:"w-full max-w-sm bg-white dark:bg-[#1e1c33] rounded-3xl shadow-2xl border border-gray-200 dark:border-[#272546] overflow-hidden animate-in zoom-in-95 slide-in-from-bottom-4 duration-500",children:i.jsxs("div",{className:"p-8 text-center",children:[i.jsx("div",{className:"inline-flex size-20 rounded-full bg-indigo-50 dark:bg-indigo-900/20 items-center justify-center mb-6 animate-bounce",children:i.jsx("span",{className:"material-symbols-outlined text-indigo-600 dark:text-indigo-400 text-4xl",children:"desktop_windows"})}),i.jsx("h2",{className:"text-xl font-black text-slate-800 dark:text-white mb-2 tracking-tight",children:"Desktop Recommended"}),i.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 leading-relaxed mb-8 px-2",children:"This interactive visualizer is highly detailed and optimized for **Desktop View**. For the best learning experience, please switch to a larger screen."}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("button",{onClick:r,className:"w-full py-4 rounded-2xl bg-indigo-600 hover:bg-indigo-500 text-white font-bold text-sm transition-all shadow-lg shadow-indigo-600/20 active:scale-95",children:"Continue Anyway"}),i.jsx("p",{className:"text-[10px] text-slate-400 uppercase font-bold tracking-widest pt-2",children:"Standard Web Version 1.0"})]})]})})}):null},Oi=({isFixed:e=!0})=>{const t=y.useRef(null);return y.useEffect(()=>{const r=t.current;if(!r)return;const n=r.getContext("2d");if(!n)return;let s,a=[];const o={x:.5,y:.5,targetX:.5,targetY:.5},l=200,d=300,c=window.devicePixelRatio||1,u=["#4285F4","#EA4335","#FBBC05","#34A853","#818CF8","#A78BFA"];class h{constructor(){br(this,"x");br(this,"y");br(this,"z");br(this,"baseX");br(this,"baseY");br(this,"baseZ");br(this,"color");br(this,"size");br(this,"opacity");this.baseX=(Math.random()-.5)*800,this.baseY=(Math.random()-.5)*800,this.baseZ=(Math.random()-.5)*800,this.x=this.baseX,this.y=this.baseY,this.z=this.baseZ,this.color=u[Math.floor(Math.random()*u.length)],this.size=Math.random()*2+1,this.opacity=Math.random()*.5+.3}rotate(p,g){const b=Math.cos(g),E=Math.sin(g),R=this.baseX*b-this.baseZ*E,Y=this.baseZ*b+this.baseX*E,P=Math.cos(p),X=Math.sin(p),Ne=this.baseY*P-Y*X,ye=Y*P+this.baseY*X;this.x=R,this.y=Ne,this.z=ye}draw(p,g,b,E){const R=d/(d+this.z),Y=this.x*R+g/2,P=this.y*R+b/2;if(this.z>-d){const X=this.size*R,Ne=this.opacity*R*(E?.7:.9);p.beginPath(),p.arc(Y,P,X,0,Math.PI*2),p.fillStyle=this.color,p.globalAlpha=Ne,p.fill(),p.globalAlpha=1}}}const x=()=>{var g,b;const _=e?window.innerWidth:((g=r.parentElement)==null?void 0:g.clientWidth)||window.innerWidth,p=e?window.innerHeight:((b=r.parentElement)==null?void 0:b.clientHeight)||window.innerHeight;r.style.width=_+"px",r.style.height=p+"px",r.width=_*c,r.height=p*c,n.setTransform(1,0,0,1,0,0),n.scale(c,c)},v=()=>{a=[];for(let _=0;_<l;_++)a.push(new h)},k=_=>{o.targetX=_.clientX/window.innerWidth,o.targetY=_.clientY/window.innerHeight},N=()=>{if(document.hidden){s=requestAnimationFrame(N);return}o.x+=(o.targetX-o.x)*.05,o.y+=(o.targetY-o.y)*.05;const _=document.documentElement.classList.contains("dark"),p=r.width/c,g=r.height/c;n.clearRect(0,0,p,g);const b=(o.x-.5)*.5+Date.now()*1e-4,E=(o.y-.5)*.5;a.sort((R,Y)=>Y.z-R.z),a.forEach(R=>{R.rotate(E,b),R.draw(n,p,g,_)}),s=requestAnimationFrame(N)};return window.addEventListener("resize",x),window.addEventListener("mousemove",k),x(),v(),N(),()=>{window.removeEventListener("resize",x),window.removeEventListener("mousemove",k),cancelAnimationFrame(s)}},[e]),i.jsxs("div",{className:`${e?"fixed":"absolute"} inset-0 z-0 overflow-hidden pointer-events-none select-none`,style:{willChange:"transform"},children:[i.jsx("div",{className:"absolute top-[-20%] left-[-10%] w-[50%] h-[50%] bg-primary/10 dark:bg-primary/15 rounded-full blur-[120px] animate-pulse"}),i.jsx("div",{className:"absolute bottom-[-20%] right-[-10%] w-[50%] h-[50%] bg-indigo-600/10 dark:bg-indigo-600/15 rounded-full blur-[120px] animate-pulse",style:{animationDelay:"2s"}}),i.jsx("canvas",{ref:t,className:"absolute inset-0 opacity-70 dark:opacity-70",style:{transform:"translateZ(0)",willChange:"opacity"}}),i.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(to_right,#8881_1px,transparent_1px),linear-gradient(to_bottom,#8881_1px,transparent_1px)] bg-[size:60px_60px] opacity-20"})]})},kb=()=>{const[e,t]=y.useState("All"),[r,n]=y.useState("visualizer"),s=y.useRef(null),a=y.useMemo(()=>rg.map(c=>({title:c.title,path:c.path,description:c.description,tags:c.category,difficulty:c.difficulty,count:c.count,countLabel:c.countLabel,icon:c.icon,gradientFrom:c.gradientFrom,gradientTo:c.gradientTo,darkGradientFrom:c.darkGradientFrom,darkGradientTo:c.darkGradientTo,iconColor:c.iconColor,darkIconColor:c.darkIconColor,pattern:c.pattern,alt:c.alt,isPlaceholder:!!c.isPlaceholder,image:c.image,imageBg:c.imageBg})),[]),o=y.useMemo(()=>{const c=new Set;return c.add("All"),a.forEach(u=>{u.tags.forEach(h=>c.add(h))}),Array.from(c)},[a]),l=a.filter(c=>e==="All"||c.tags.includes(e)),d=()=>{var c;(c=s.current)==null||c.scrollIntoView({behavior:"smooth"})};return i.jsxs("div",{className:"flex-grow flex flex-col bg-background-light dark:bg-background-dark min-h-screen",children:[i.jsxs("section",{className:"relative py-16 px-6 overflow-hidden",children:[i.jsx(Oi,{isFixed:!1}),i.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-[1000px] h-[500px] bg-primary/10 blur-[120px] rounded-full pointer-events-none"}),i.jsxs("div",{className:"relative max-w-4xl mx-auto text-center space-y-8",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsx("h1",{className:"text-5xl md:text-6xl font-black tracking-tight leading-tight bg-clip-text text-transparent bg-gradient-to-b from-slate-900 to-slate-900/70 dark:from-white dark:to-white/70",children:"Visualize. Understand. Master."}),i.jsx("p",{className:"text-lg md:text-xl text-gray-500 dark:text-[#9794c7] max-w-2xl mx-auto font-light",children:"Master data structures and algorithms through interactive visualization. The modern way to learn computer science."})]}),i.jsxs("div",{className:"inline-flex bg-gray-100 dark:bg-[#272546] p-1.5 rounded-xl shadow-lg border border-gray-200 dark:border-white/5",children:[i.jsxs("label",{className:"cursor-pointer relative",children:[i.jsx("input",{className:"peer sr-only",name:"mode",type:"radio",checked:r==="visualizer",onChange:()=>n("visualizer")}),i.jsxs("div",{className:"px-6 py-2.5 rounded-lg text-sm font-medium text-gray-500 dark:text-[#9794c7] hover:text-gray-900 dark:hover:text-white peer-checked:bg-white dark:peer-checked:bg-primary peer-checked:text-primary dark:peer-checked:text-white peer-checked:shadow-md transition-all flex items-center gap-2",children:[i.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"visibility"}),"Visualizer Mode"]})]}),i.jsxs("label",{className:"cursor-pointer relative",children:[i.jsx("input",{className:"peer sr-only",name:"mode",type:"radio",checked:r==="training",onChange:()=>n("training")}),i.jsxs("div",{className:"px-6 py-2.5 rounded-lg text-sm font-medium text-gray-500 dark:text-[#9794c7] hover:text-gray-900 dark:hover:text-white peer-checked:bg-white dark:peer-checked:bg-primary peer-checked:text-primary dark:peer-checked:text-white peer-checked:shadow-md transition-all flex items-center gap-2",children:[i.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"school"}),"Training Mode"]})]})]}),i.jsxs("div",{className:"pt-8 flex flex-col sm:flex-row items-center justify-center gap-4",children:[i.jsxs("button",{onClick:d,className:"bg-white dark:bg-white text-gray-900 dark:text-[#131221] hover:bg-gray-50 dark:hover:bg-gray-100 px-8 py-3 rounded-xl font-bold transition-transform hover:scale-105 active:scale-95 shadow-xl dark:shadow-[0_0_20px_rgba(255,255,255,0.15)] flex items-center gap-2",children:[i.jsx("span",{children:"Start Learning Now"}),i.jsx("span",{className:"material-symbols-outlined",children:"arrow_forward"})]}),i.jsxs("a",{href:"https://github.com/shubhamkumarsharma03/Data-Structures-Visualizer",target:"_blank",rel:"noopener noreferrer",className:"bg-white dark:bg-[#1e1d32] text-gray-700 dark:text-white border border-gray-200 dark:border-white/10 hover:bg-gray-50 dark:hover:bg-[#272546] hover:border-gray-300 dark:hover:border-white/20 px-8 py-3 rounded-xl font-bold transition-all hover:scale-105 active:scale-95 flex items-center gap-2 shadow-lg dark:shadow-none",children:[i.jsx("svg",{className:"w-5 h-5 fill-current",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{d:"M12 0C5.37 0 0 5.37 0 12c0 5.31 3.435 9.795 8.205 11.385.6.105.825-.255.825-.57 0-.285-.015-1.23-.015-2.235-3.015.66-3.795-1.455-3.795-1.455-.54-1.38-1.335-1.755-1.335-1.755-1.095-.75.09-.735.09-.735 1.2.09 1.83 1.245 1.83 1.245 1.08 1.86 2.805 1.335 3.495 1.02.105-.78.42-1.335.765-1.65-2.67-.3-5.46-1.335-5.46-5.925 0-1.305.465-2.385 1.23-3.225-.12-.3-.54-1.53.12-3.225 0 0 1.005-.315 3.3 1.23.96-.27 1.98-.405 3-.405 1.02 0 2.04.135 3 .405 2.295-1.545 3.3-1.23 3.3-1.23.66 1.695.24 2.925.12 3.225.765.84 1.23 1.905 1.23 3.225 0 4.605-2.805 5.625-5.475 5.925.435.375.81 1.095.81 2.22 0 1.605-.015 2.895-.015 3.285 0 .315.225.69.825.57A12.02 12.02 0 0024 12c0-6.63-5.37-12-12-12z"})}),i.jsx("span",{children:"View Source"})]})]})]})]}),i.jsx("section",{className:"px-6 pb-12",children:i.jsx("div",{className:"max-w-[1400px] mx-auto",children:i.jsxs("div",{className:"relative overflow-hidden rounded-3xl bg-gradient-to-r from-gray-900 to-[#1e1d32] px-6 py-16 sm:px-16 sm:py-24 shadow-2xl",children:[i.jsxs("div",{className:"relative max-w-2xl mx-auto text-center space-y-6 z-10",children:[i.jsxs("h2",{className:"text-3xl font-bold tracking-tight text-white sm:text-4xl",children:["Real-Time Code Visualizer",i.jsx("br",{}),i.jsx("span",{className:"text-primary",children:"See your code run line by line."})]}),i.jsx("p",{className:"mx-auto mt-6 max-w-xl text-lg text-gray-300",children:"Visualize memory allocation, stack frames, and variable states in real-time for C, C++, Java, and Python."}),i.jsx("div",{className:"mt-10 flex justify-center gap-6",children:i.jsxs("button",{disabled:!0,className:"rounded-xl bg-gray-500/50 px-8 py-3.5 text-sm font-semibold text-white/50 shadow-sm cursor-not-allowed flex items-center gap-2 border border-white/10",children:[i.jsx("span",{className:"material-symbols-outlined",children:"terminal"}),"Code Visualizer (In Dev)"]})})]}),i.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[800px] h-[400px] bg-primary/20 blur-[100px] rounded-full pointer-events-none"}),i.jsxs("svg",{viewBox:"0 0 1024 1024",className:"absolute left-1/2 top-1/2 -z-10 h-[64rem] w-[64rem] -translate-x-1/2 [mask-image:radial-gradient(closest-side,white,transparent)]","aria-hidden":"true",children:[i.jsx("circle",{cx:"512",cy:"512",r:"512",fill:"url(#gradient)",fillOpacity:"0.7"}),i.jsx("defs",{children:i.jsxs("radialGradient",{id:"gradient",children:[i.jsx("stop",{stopColor:"#4f46e5"}),i.jsx("stop",{offset:"1",stopColor:"#80caff"})]})})]})]})})}),i.jsx("section",{ref:s,className:"flex-1 px-6 pb-20",children:i.jsxs("div",{className:"max-w-[1400px] mx-auto",children:[i.jsx("div",{className:"flex flex-wrap gap-3 mb-10 justify-center",children:o.map(c=>i.jsx("button",{onClick:()=>t(c),className:`px-5 py-2 rounded-lg text-sm font-medium transition-colors border shadow-sm active:scale-95 ${e===c?"bg-primary text-white border-primary shadow-lg shadow-primary/25 font-semibold":"bg-white dark:bg-[#272546] text-gray-500 dark:text-[#9794c7] hover:bg-gray-50 dark:hover:bg-[#323055] hover:text-gray-900 dark:hover:text-white border-gray-200 dark:border-transparent hover:border-gray-300 dark:hover:border-white/10"}`,children:c==="All"?"All Topics":c},c))}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:r==="training"?[{title:"Quizzes & Flashcards",description:"Test your knowledge with multiple-choice questions for each topic.",icon:"quiz",color:"text-yellow-500",bg:"bg-yellow-500/10"},{title:"Code Challenges",description:"Implement algorithms yourself in our built-in code editor.",icon:"code",color:"text-blue-500",bg:"bg-blue-500/10"},{title:"Guided Paths",description:'Follow a linear "Zero to Hero" curriculum for each data structure.',icon:"map",color:"text-green-500",bg:"bg-green-500/10"},{title:"Progress Tracking",description:"Track your completion status across all modules and quizzes.",icon:"analytics",color:"text-purple-500",bg:"bg-purple-500/10"}].map((c,u)=>i.jsx("div",{className:"flex flex-col bg-white dark:bg-[#1e1d32] border border-gray-200 dark:border-[#272546] rounded-2xl overflow-hidden cursor-not-allowed opacity-75 grayscale-[0.3]",children:i.jsxs("div",{className:"p-6 flex flex-col flex-1 relative",children:[i.jsx("div",{className:"absolute top-4 right-4",children:i.jsx("span",{className:"bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 text-xs font-bold px-2 py-1 rounded border border-gray-200 dark:border-gray-700",children:"IN DEV"})}),i.jsx("div",{className:`size-12 rounded-xl ${c.bg} flex items-center justify-center mb-4`,children:i.jsx("span",{className:`material-symbols-outlined text-2xl ${c.color}`,children:c.icon})}),i.jsx("h3",{className:"text-gray-900 dark:text-white text-lg font-bold mb-2",children:c.title}),i.jsx("p",{className:"text-gray-500 dark:text-[#9794c7] text-sm font-mono leading-relaxed mb-4",children:c.description}),i.jsx("div",{className:"mt-auto",children:i.jsx("button",{disabled:!0,className:"w-full py-2 bg-gray-50 dark:bg-[#272546] text-gray-400 dark:text-gray-500 rounded-lg text-sm font-medium cursor-not-allowed border border-gray-100 dark:border-[#323055]",children:"Coming Soon"})})]})},u)):l.map((c,u)=>c.isPlaceholder?i.jsxs("div",{className:"group relative flex flex-col bg-white dark:bg-[#1e1d32] border border-gray-200 dark:border-[#272546] rounded-2xl overflow-hidden hover:border-primary/50 hover:shadow-xl dark:hover:shadow-[0_0_30px_rgba(66,54,231,0.15)] transition-all duration-300 hover:-translate-y-1 cursor-not-allowed opacity-75",children:[i.jsx("div",{className:`h-52 ${c.imageBg||`bg-gradient-to-br ${c.gradientFrom} ${c.gradientTo}`} flex items-center justify-center relative overflow-hidden`,children:c.image?i.jsx("img",{src:c.image,alt:c.alt,className:"absolute inset-0 w-full h-full object-contain p-2 opacity-90 group-hover:scale-110 transition-transform duration-500"}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"absolute inset-0 bg-[url('https://placeholder.pics/svg/400')] bg-cover opacity-20","data-alt":c.alt}),i.jsx("span",{className:`material-symbols-outlined text-6xl ${c.iconColor} drop-shadow-lg group-hover:scale-110 transition-transform duration-300`,children:c.icon})]})}),i.jsxs("div",{className:"p-5 flex flex-col flex-1",children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsx("h3",{className:"text-gray-900 dark:text-white text-lg font-bold group-hover:text-primary transition-colors",children:c.title}),i.jsx("span",{className:"bg-red-500/10 text-red-400 text-xs font-mono px-2 py-1 rounded border border-red-500/20",children:c.difficulty})]}),i.jsx("p",{className:"text-gray-500 dark:text-[#9794c7] text-sm font-mono mb-4 line-clamp-2",children:c.description}),i.jsxs("div",{className:"mt-auto flex items-center text-xs text-gray-400 dark:text-white/50 font-medium",children:[i.jsx("span",{className:"material-symbols-outlined text-[16px] mr-1",children:"lock"}),"Coming Soon"]})]})]},u):i.jsxs(Bt,{to:c.path,className:"group relative flex flex-col bg-white dark:bg-[#1e1d32] border border-gray-200 dark:border-[#272546] rounded-2xl overflow-hidden hover:border-primary/50 hover:shadow-xl dark:hover:shadow-[0_0_30px_rgba(66,54,231,0.15)] transition-all duration-300 hover:-translate-y-1",children:[i.jsx("div",{className:`h-52 ${c.imageBg||`bg-gradient-to-br ${c.gradientFrom} ${c.gradientTo} ${c.darkGradientFrom} ${c.darkGradientTo}`} flex items-center justify-center relative overflow-hidden`,children:c.image?i.jsxs("div",{className:"absolute inset-0 w-full h-full",children:[i.jsx("img",{src:c.image,alt:c.alt,className:"w-full h-full object-contain p-2 opacity-90 group-hover:scale-110 transition-transform duration-500"}),i.jsx("div",{className:"absolute inset-0 bg-black/20 group-hover:bg-transparent transition-colors duration-300 pointer-events-none"})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"absolute inset-0 bg-[url('https://placeholder.pics/svg/400')] bg-cover opacity-20","data-alt":c.alt}),i.jsx("span",{className:`material-symbols-outlined text-6xl ${c.iconColor} ${c.darkIconColor} drop-shadow-lg group-hover:scale-110 transition-transform duration-300`,children:c.icon})]})}),i.jsxs("div",{className:"p-5 flex flex-col flex-1",children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsx("h3",{className:"text-gray-900 dark:text-white text-lg font-bold group-hover:text-primary transition-colors",children:c.title}),i.jsx("span",{className:`text-xs font-mono px-2 py-1 rounded border ${c.difficulty==="Easy"?"bg-green-500/10 text-green-400 border-green-500/20":c.difficulty==="Medium"?"bg-yellow-500/10 text-yellow-400 border-yellow-500/20":"bg-red-500/10 text-red-400 border-red-500/20"}`,children:c.difficulty})]}),i.jsx("p",{className:"text-gray-500 dark:text-[#9794c7] text-sm font-mono mb-4 line-clamp-2",children:c.description}),i.jsxs("div",{className:"mt-auto flex items-center text-xs text-gray-400 dark:text-white/50 font-medium",children:[i.jsx("span",{className:"material-symbols-outlined text-[16px] mr-1",children:"play_circle"}),c.count," ",c.countLabel]})]})]},u))})]})}),i.jsxs("footer",{className:"border-t border-gray-200 dark:border-[#272546] bg-gray-50 dark:bg-[#131221] py-8 px-6 text-center text-gray-500 dark:text-[#9794c7] text-sm",children:[i.jsxs("div",{className:"flex justify-center gap-6 mb-4",children:[i.jsx(Bt,{to:"/about",className:"hover:text-gray-900 dark:hover:text-white transition-colors",children:"About"}),i.jsx(Bt,{to:"/team",className:"hover:text-gray-900 dark:hover:text-white transition-colors",children:"Team"}),i.jsx(Bt,{to:"/terms",className:"hover:text-gray-900 dark:hover:text-white transition-colors",children:"Terms"}),i.jsx(Bt,{to:"/privacy",className:"hover:text-gray-900 dark:hover:text-white transition-colors",children:"Privacy"})]}),i.jsx("p",{children:" 2026 Data Structure Visualizer. Made for students, by students."})]})]})},ng=y.createContext(void 0),Nb=({children:e})=>{const[t,r]=y.useState(!0),[n,s]=y.useState(!0),a=()=>r(o=>!o);return i.jsx(ng.Provider,{value:{isSidebarOpen:t,toggleSidebar:a,setIsSidebarOpen:r,isNavbarVisible:n,setIsNavbarVisible:s},children:e})},Ls=()=>{const e=y.useContext(ng);if(e===void 0)throw new Error("useLayout must be used within a LayoutProvider");return e},Dn=({title:e,sidebar:t,leftSidebar:r,rightSidebar:n,children:s,controls:a,sidebarPosition:o="left",contentClassName:l,rightSidebarWidth:d,sidebarNoPadding:c=!1,sidebarNoScroll:u=!1})=>{const{isSidebarOpen:h,setIsSidebarOpen:x}=Ls(),v=r||(o==="left"?t:null),k=n||(o==="right"?t:null),N=ur.useCallback(()=>{if(typeof d=="number")return d;if(typeof d=="string"){const X=parseInt(d,10);return Number.isNaN(X)?400:X}return 400},[d]),[_,p]=ur.useState(N),[g,b]=ur.useState(!1),E=ur.useRef(null),R=ur.useCallback(()=>{b(!0)},[]),Y=ur.useCallback(()=>{b(!1)},[]),P=ur.useCallback(X=>{if(g){const Ne=document.body.clientWidth-X.clientX;Ne>200&&Ne<800&&p(Ne)}},[g]);return ur.useEffect(()=>(window.addEventListener("mousemove",P),window.addEventListener("mouseup",Y),()=>{window.removeEventListener("mousemove",P),window.removeEventListener("mouseup",Y)}),[P,Y]),ur.useEffect(()=>{p(N())},[N]),i.jsx("div",{className:`flex flex-col h-full overflow-hidden bg-background-light dark:bg-background-dark text-slate-900 dark:text-white font-display ${g?"cursor-col-resize select-none":""}`,children:i.jsxs("div",{className:"flex flex-1 overflow-hidden relative",children:[v&&i.jsxs(i.Fragment,{children:[i.jsxs("aside",{className:`flex flex-col border-r border-gray-200 dark:border-[#272546] bg-white dark:bg-[#1c1a32]/50 z-10 shrink-0 transition-all duration-300 ${h?"w-80 opacity-100":"w-0 opacity-0 overflow-hidden border-none"} ${u?"overflow-hidden":"overflow-y-auto"}`,children:[i.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-[#272546] flex justify-between items-center shrink-0",children:[i.jsxs("div",{className:"flex flex-wrap gap-2 items-center text-sm",children:[i.jsx(Bt,{to:"/",className:"text-gray-500 dark:text-[#9794c7] hover:text-primary",children:"Home"}),i.jsx("span",{className:"text-gray-400 dark:text-[#5a5875]",children:"/"}),i.jsx("span",{className:"text-gray-500 dark:text-[#9794c7] hover:text-primary cursor-pointer",children:e})]}),i.jsx("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-primary transition-colors",children:i.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"first_page"})})]}),i.jsx("div",{className:c?"flex flex-col h-full w-80":"p-4 flex flex-col gap-6 w-80",children:v})]}),!h&&i.jsx("div",{className:"absolute top-4 left-4 z-50",children:i.jsx("button",{onClick:()=>x(!0),className:"h-10 w-10 flex items-center justify-center rounded-full bg-white dark:bg-[#1c1a32] border border-gray-200 dark:border-[#383564] shadow-lg text-primary hover:scale-105 transition-transform",title:"Show Sidebar",children:i.jsx("span",{className:"material-symbols-outlined",children:"last_page"})})})]}),i.jsxs("main",{className:"flex-1 relative bg-gray-50 dark:bg-background-dark flex flex-col min-w-0",children:[i.jsx("div",{className:"absolute inset-0 z-0 opacity-[0.03] dark:opacity-[0.1]",style:{backgroundImage:"radial-gradient(#4236e7 1px, transparent 1px)",backgroundSize:"24px 24px"}}),i.jsx("div",{className:l||"flex-1 flex flex-col items-center justify-center p-10 overflow-x-auto relative z-10",children:s}),a]}),k&&i.jsxs("aside",{ref:E,className:`flex flex-col border-l border-gray-200 dark:border-[#272546] bg-white/90 dark:bg-[#1e1c33]/90 backdrop-blur-md z-10 shrink-0 shadow-xl transition-none relative group ${u?"overflow-hidden":"overflow-y-auto"}`,style:{width:`${_}px`},children:[i.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-transparent hover:bg-primary/50 cursor-col-resize z-50 transition-colors",onMouseDown:R}),k]})]})})},Mr=({value:e,options:t,onChange:r,placeholder:n="Select..."})=>{const[s,a]=y.useState(!1),o=y.useRef(null),l=t.find(d=>d.value===e);return y.useEffect(()=>{const d=c=>{o.current&&!o.current.contains(c.target)&&a(!1)};return document.addEventListener("mousedown",d),()=>document.removeEventListener("mousedown",d)},[]),i.jsxs("div",{className:"relative",ref:o,children:[i.jsxs("button",{type:"button",onClick:()=>a(!s),className:"w-full flex items-center justify-between bg-white dark:bg-[#121121] border border-gray-200 dark:border-[#272546] text-slate-700 dark:text-gray-300 text-sm rounded-lg pl-3 pr-3 py-2.5 outline-none focus:ring-2 focus:ring-indigo-600 transition-colors shadow-sm hover:border-indigo-400 dark:hover:border-indigo-500 group",children:[i.jsx("span",{className:"truncate font-medium",children:l?l.label:n}),i.jsx("span",{className:`material-symbols-outlined text-gray-400 group-hover:text-indigo-500 transition-all duration-200 ${s?"rotate-180":""}`,children:"expand_more"})]}),i.jsx("div",{className:`absolute z-50 w-full mt-1.5 bg-white dark:bg-[#1e1d32] border border-gray-200 dark:border-[#272546] rounded-xl shadow-2xl overflow-hidden transition-all duration-200 origin-top ${s?"opacity-100 scale-100 pointer-events-auto":"opacity-0 scale-95 pointer-events-none"}`,children:i.jsx("div",{className:"max-h-[240px] overflow-y-auto custom-scrollbar p-1.5 flex flex-col gap-0.5",children:t.map(d=>i.jsxs("button",{type:"button",className:`w-full text-left px-3 py-2.5 text-sm rounded-lg transition-all flex items-center justify-between ${d.value===e?"bg-indigo-50 dark:bg-indigo-500/15 text-indigo-700 dark:text-indigo-300 font-bold":"text-slate-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-[#272546] hover:text-slate-900 dark:hover:text-white"}`,onClick:()=>{r(d.value),a(!1)},children:[i.jsx("span",{className:"truncate",children:d.label}),d.value===e&&i.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"check"})]},d.value))})})]})},jb=({activeOp:e,setActiveOp:t,mode:r,setMode:n,searchType:s,setSearchType:a,searchInput:o,setSearchInput:l,handleSearch:d,insertIndex:c,setInsertIndex:u,insertValue:h,setInsertValue:x,handleInsert:v,removeIndex:k,setRemoveIndex:N,handleRemove:_,updateIndex:p,setUpdateIndex:g,updateValue:b,setUpdateValue:E,handleUpdate:R,twoSumTarget:Y,setTwoSumTarget:P,handleReverse:X,handleTwoSum:Ne,handleCycleDetection:ye,handleExample:Me,error:Ie})=>{const F=r==="standard"?[{id:"search",label:"Search Element"},{id:"insert",label:"Insert Element"},{id:"remove",label:"Remove Element"},{id:"update",label:"Update Element"}]:[{id:"reverse",label:"Array Reversal"},{id:"2sum",label:"Two Sum (Sorted)"},{id:"cycle_detection",label:"Cycle Detection (Array as Graph)"}];return y.useEffect(()=>{(!e&&r==="standard"||e==="create")&&t("search")},[r]),i.jsx("div",{className:"flex flex-col gap-6",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-1.5",children:[i.jsx("label",{className:"text-xs font-bold uppercase tracking-wider text-gray-500 dark:text-[#9794c7]",children:"Work Mode"}),i.jsxs("div",{className:"bg-gray-100 dark:bg-[#121121] p-1 rounded-lg flex shadow-inner",children:[i.jsx("button",{onClick:()=>n("standard"),className:`flex-1 py-2 text-[11px] uppercase font-bold rounded-md transition-all ${r==="standard"?"bg-white dark:bg-[#2e2b52] text-primary shadow-sm":"text-gray-400 hover:text-gray-600"}`,children:"Standard"}),i.jsx("button",{onClick:()=>n("apps"),className:`flex-1 py-2 text-[11px] uppercase font-bold rounded-md transition-all ${r==="apps"?"bg-white dark:bg-[#2e2b52] text-primary shadow-sm":"text-gray-400 hover:text-gray-600"}`,children:"Apps"})]})]}),i.jsxs("div",{className:"space-y-1.5",children:[i.jsx("label",{className:"text-xs font-bold uppercase tracking-wider text-gray-500 dark:text-[#9794c7]",children:"Operation"}),i.jsx(Mr,{value:e||"",options:F.map(Ae=>({value:Ae.id,label:Ae.label})),onChange:Ae=>t(Ae),placeholder:"Select Operation..."})]}),i.jsxs("div",{className:"animate-in fade-in slide-in-from-top-2",children:[r==="standard"&&i.jsxs(i.Fragment,{children:[e==="search"&&i.jsxs("div",{className:"space-y-4 bg-gray-50/50 dark:bg-white/5 p-4 rounded-xl border border-gray-100 dark:border-white/5",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-2 p-1 bg-gray-200/50 dark:bg-black/20 rounded-lg",children:[i.jsx("button",{onClick:()=>a("linear"),className:`py-1.5 text-[10px] uppercase font-bold rounded-md transition-all ${s==="linear"?"bg-white dark:bg-[#2e2b52] text-primary shadow-sm":"text-gray-400 hover:text-gray-500"}`,children:"Linear"}),i.jsx("button",{onClick:()=>a("binary"),className:`py-1.5 text-[10px] uppercase font-bold rounded-md transition-all ${s==="binary"?"bg-white dark:bg-[#2e2b52] text-primary shadow-sm":"text-gray-400 hover:text-gray-500"}`,children:"Binary"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("span",{className:"text-[10px] text-gray-400 uppercase font-bold tracking-tight",children:"Target Value"}),i.jsx("input",{type:"number",value:o,onChange:Ae=>l(Ae.target.value),className:"w-full bg-white dark:bg-[#121121] border border-gray-200 dark:border-[#383564] rounded-lg px-3 py-2 text-sm text-center font-bold"})]})]}),e==="insert"&&i.jsx("div",{className:"space-y-3 bg-gray-50/50 dark:bg-white/5 p-4 rounded-xl border border-gray-100 dark:border-white/5",children:i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("span",{className:"text-[10px] text-gray-400 uppercase font-bold tracking-tight",children:"Index"}),i.jsx("input",{type:"number",value:c,onChange:Ae=>u(Ae.target.value),className:"w-full bg-white dark:bg-[#121121] border border-gray-200 dark:border-[#383564] rounded-lg px-3 py-2 text-sm text-center"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("span",{className:"text-[10px] text-gray-400 uppercase font-bold tracking-tight",children:"Value"}),i.jsx("input",{type:"number",value:h,onChange:Ae=>x(Ae.target.value),className:"w-full bg-white dark:bg-[#121121] border border-gray-200 dark:border-[#383564] rounded-lg px-3 py-2 text-sm text-center font-bold"})]})]})}),e==="remove"&&i.jsx("div",{className:"space-y-3 bg-gray-50/50 dark:bg-white/5 p-4 rounded-xl border border-gray-100 dark:border-white/5",children:i.jsxs("div",{className:"space-y-1",children:[i.jsx("span",{className:"text-[10px] text-gray-400 uppercase font-bold tracking-tight",children:"Index to Remove"}),i.jsx("input",{type:"number",value:k,onChange:Ae=>N(Ae.target.value),className:"w-full bg-white dark:bg-[#121121] border border-gray-200 dark:border-[#383564] rounded-lg px-3 py-2 text-sm text-center"})]})}),e==="update"&&i.jsx("div",{className:"space-y-3 bg-gray-50/50 dark:bg-white/5 p-4 rounded-xl border border-gray-100 dark:border-white/5",children:i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("span",{className:"text-[10px] text-gray-400 uppercase font-bold tracking-tight",children:"Index"}),i.jsx("input",{type:"number",value:p,onChange:Ae=>g(Ae.target.value),className:"w-full bg-white dark:bg-[#121121] border border-gray-200 dark:border-[#383564] rounded-lg px-3 py-2 text-sm text-center"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("span",{className:"text-[10px] text-gray-400 uppercase font-bold tracking-tight",children:"New Value"}),i.jsx("input",{type:"number",value:b,onChange:Ae=>E(Ae.target.value),className:"w-full bg-white dark:bg-[#121121] border border-gray-200 dark:border-[#383564] rounded-lg px-3 py-2 text-sm text-center font-bold"})]})]})})]}),r==="apps"&&i.jsxs("div",{className:"animate-in fade-in slide-in-from-top-2",children:[e==="reverse"&&i.jsx("div",{className:"space-y-3 bg-gray-50/50 dark:bg-white/5 p-4 rounded-xl border border-gray-100 dark:border-white/5",children:i.jsx("p",{className:"text-xs text-gray-500 italic leading-relaxed",children:"Visualize two pointers swapping elements from outside in."})}),e==="2sum"&&i.jsx("div",{className:"space-y-4 bg-gray-50/50 dark:bg-white/5 p-4 rounded-xl border border-gray-100 dark:border-white/5",children:i.jsxs("div",{className:"space-y-1",children:[i.jsx("span",{className:"text-[10px] text-gray-400 uppercase font-bold tracking-tight",children:"Target Sum"}),i.jsx("input",{type:"number",value:Y,onChange:Ae=>P(Ae.target.value),className:"w-full bg-white dark:bg-[#121121] border border-gray-200 dark:border-[#383564] rounded-lg px-3 py-2 text-sm text-center font-bold"})]})}),e==="cycle_detection"&&i.jsx("div",{className:"space-y-3 bg-gray-50/50 dark:bg-white/5 p-4 rounded-xl border border-gray-100 dark:border-white/5",children:i.jsx("p",{className:"text-xs text-gray-500 italic leading-relaxed",children:"Treat array as a graph where arr[i] is the next pointer. Detect cycles using Floyd's algorithm."})})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-2",children:[i.jsxs("button",{onClick:Me,className:"flex items-center justify-center gap-1.5 py-2.5 rounded-lg bg-indigo-50 dark:bg-indigo-900/20 text-indigo-700 dark:text-indigo-300 border border-indigo-200 dark:border-indigo-900/40 hover:bg-indigo-100 dark:hover:bg-indigo-900/40 text-[13px] font-bold transition-all shadow-sm group",children:[i.jsx("span",{className:"material-symbols-outlined text-[18px] group-hover:rotate-12 transition-transform",children:"auto_fix"}),"Example"]}),i.jsxs("button",{onClick:()=>{switch(e){case"search":d();break;case"insert":v();break;case"remove":_();break;case"update":R();break;case"reverse":X();break;case"2sum":Ne();break;case"cycle_detection":ye();break}},className:`flex items-center justify-center gap-1.5 py-2.5 rounded-lg text-white text-[13px] font-bold transition-all shadow-md shadow-indigo-500/20 ${e==="remove"?"bg-red-500 hover:bg-red-600 shadow-red-500/20":"bg-indigo-600 hover:bg-indigo-500 shadow-indigo-500/20"}`,children:[i.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"play_arrow"}),"Run"]})]}),Ie&&i.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/10 border border-red-100 dark:border-red-900/30 rounded-xl animate-in shake duration-500",children:i.jsx("p",{className:"text-red-600 dark:text-red-400 text-xs font-medium leading-relaxed",children:Ie})})]})})},Cr=16,Zu=[2,7,12,23,45,56,88,99],eh={insert:{best:"O(1)",avg:"O(N)",worst:"O(N)",space:"O(1)"},linear:{best:"O(1)",avg:"O(N)",worst:"O(N)",space:"O(1)"},binary:{best:"O(1)",avg:"O(log N)",worst:"O(log N)",space:"O(1)"},remove:{best:"O(1)",avg:"O(N)",worst:"O(N)",space:"O(1)"},update:{best:"O(1)",avg:"O(1)",worst:"O(1)",space:"O(1)"},create:{best:"O(N)",avg:"O(N)",worst:"O(N)",space:"O(N)"}},Sb={insert:["if n == capacity, return error","shift elements from index i to n-1 to right","arr[i] = val","n = n + 1"],remove:["if index out of bounds, return error","shift elements from index i+1 to n-1 to left","n = n - 1","return"],update:["if index out of bounds, return error","arr[i] = newValue","return"],linear:["for i from 0 to n-1","  if arr[i] == target","    return i","return -1"],binary:["low = 0, high = n - 1","while low <= high:","  mid = (low + high) / 2","  if arr[mid] == target return mid","  else if arr[mid] < target low = mid + 1","  else high = mid - 1"],create:["allocate memory for size N","initialize size = 0","return array reference"]},_b=()=>{const[e,t]=y.useState(Zu),[r,n]=y.useState([]),[s,a]=y.useState(0),[o,l]=y.useState(!1),[d,c]=y.useState(1),[u,h]=y.useState("standard"),[x,v]=y.useState(null),[k,N]=y.useState("linear"),[_,p]=y.useState(null),[g,b]=y.useState("size"),[E,R]=y.useState("8"),[Y,P]=y.useState(Zu.join(", ")),[X,Ne]=y.useState(""),[ye,Me]=y.useState("3"),[Ie,F]=y.useState("88"),[Ae,qe]=y.useState(""),[ze,Fe]=y.useState(""),[xe,te]=y.useState(""),[ke,Oe]=y.useState("50"),Re=y.useRef(null),_e=(S,j,T,O,ie,D,f)=>({array:[...S],highlights:j,pointers:T,codeLine:O,description:ie,internalState:{capacity:Cr,size:S.filter(m=>m!==null).length,currentOp:D},opValues:f}),Ke=(S,j,T)=>{const O=[],ie="insert",D={index:j,val:T,n:S.filter(w=>w!==null).length,capacity:Cr};let f=[...S];if(O.push(_e(f,[],[],0,"Check capacity",ie,D)),S.filter(w=>w!==null).length>=Cr)return O.push(_e(f,[],[],0,"Error: Capacity Reached",ie,D)),{startArr:S,endArr:S,timeline:O};const m=f.filter(w=>w!==null).length;O.push(_e(f,[],[{index:m-1,label:"i",color:"primary"}],1,`Shift loop start from ${m-1}`,ie,D));for(let w=m-1;w>=j;w--)O.push(_e(f,[w],[{index:w,label:"i",color:"primary"}],1,`i=${w} >= ${j}`,ie,D)),O.push(_e(f,[w,w+1],[{index:w,label:"i",color:"primary"},{index:w+1,label:"i+1",color:"primary"}],2,"Wait shift",ie,D)),f[w+1]=f[w],f[w]=null,O.push(_e(f,[w+1],[{index:w+1,label:"i+1",color:"primary"}],2,`Shifted arr[${w}] to arr[${w+1}]`,ie,D));return O.push(_e(f,[j],[],3,`Insert ${T} at index ${j}`,ie,D)),f[j]=T,O.push(_e(f,[j],[{index:j,label:"new",color:"green"}],3,"Inserted",ie,D)),O.push(_e(f,[],[],4,"n++",ie,D)),{startArr:S,endArr:f,timeline:O}},Je=(S,j)=>{const T=[],O="remove",ie={index:j,n:S.filter(m=>m!==null).length};let D=[...S];const f=D.filter(m=>m!==null).length;T.push(_e(D,[],[{index:j,label:"target",color:"red"}],0,"Check bounds",O,ie));for(let m=j;m<f-1;m++)T.push(_e(D,[m,m+1],[{index:m,label:"i",color:"primary"}],1,`Shift loop i=${m}`,O,ie)),D[m]=D[m+1],D[m+1]=null,T.push(_e(D,[m],[{index:m,label:"i",color:"primary"}],1,"Shifted",O,ie));return f>0&&j<f&&(D[f-1]=null),T.push(_e(D,[],[],2,"n--",O,ie)),{startArr:S,endArr:D,timeline:T}},se=(S,j)=>{const T=[],O="search_linear",ie={target:j,n:S.filter(m=>m!==null).length},D=[...S],f=D.filter(m=>m!==null).length;for(let m=0;m<f;m++)if(T.push(_e(D,[m],[{index:m,label:"i",color:"primary"}],1,`Check arr[${m}]`,O,ie)),D[m]===j)return T.push(_e(D,[m],[{index:m,label:"FOUND",color:"green"}],2,`Found ${j}!`,O,ie)),{startArr:S,endArr:S,timeline:T};return T.push(_e(D,[],[],3,"Not found",O,ie)),{startArr:S,endArr:S,timeline:T}},Qe=(S,j)=>{const T=[],O="search_binary",ie={target:j,n:S.filter(C=>C!==null).length},D=[...S],f=D.filter(C=>C!==null).length;let m=0,w=f-1;for(T.push(_e(D,[],[{index:m,label:"L",color:"primary"},{index:w,label:"H",color:"primary"}],0,`Init low=0, high=${w}`,O,ie));m<=w;){const C=Math.floor((m+w)/2);if(T.push(_e(D,[C],[{index:m,label:"L",color:"primary"},{index:w,label:"H",color:"primary"},{index:C,label:"M",color:"green"}],2,`Check mid ${C}`,O,ie)),D[C]===j)return T.push(_e(D,[C],[{index:C,label:"FOUND",color:"green"}],3,`Found ${j}!`,O,ie)),{startArr:S,endArr:S,timeline:T};D[C]<j?(T.push(_e(D,[C],[],4,"Go Right",O,ie)),m=C+1):(T.push(_e(D,[C],[],5,"Go Left",O,ie)),w=C-1)}return T.push(_e(D,[],[],6,"Not found",O,ie)),{startArr:S,endArr:S,timeline:T}},Ye=(S,j,T)=>{const O=[],ie="update",D={index:j,val:T,n:S.filter(m=>m!==null).length},f=[...S];return O.push(_e(f,[j],[{index:j,label:"i",color:"primary"}],0,"Locate",ie,D)),f[j]=T,O.push(_e(f,[j],[{index:j,label:"i",color:"green"}],1,"Update",ie,D)),{startArr:S,endArr:f,timeline:O}},Le=S=>{const j=[],T="reverse";let O=[...S];const ie=O.filter(m=>m!==null).length;let D=0,f=ie-1;for(;D<f;){j.push(_e(O,[D,f],[{index:D,label:"L",color:"primary"},{index:f,label:"R",color:"primary"}],1,`Check pointers L=${D}, R=${f}`,T));const m=O[D];O[D]=O[f],O[f]=m,j.push(_e(O,[D,f],[{index:D,label:"L",color:"green"},{index:f,label:"R",color:"green"}],2,"Swap elements",T)),D++,f--}return j.push(_e(O,[],[],3,"Reversal complete",T)),{startArr:S,endArr:O,timeline:j}},G=(S,j)=>{const T=[],O="2sum",ie=[...S].filter(m=>m!==null).sort((m,w)=>m-w);let D=0,f=ie.length-1;for(T.push(_e(ie,[],[],0,"Sorted array for two-pointer approach",O,{target:j}));D<f;){const m=ie[D]+ie[f];if(T.push(_e(ie,[D,f],[{index:D,label:"L",color:"primary"},{index:f,label:"R",color:"primary"}],1,`Check L=${ie[D]}, R=${ie[f]} (Sum=${m})`,O,{target:j,sum:m})),m===j)return T.push(_e(ie,[D,f],[{index:D,label:"L",color:"green"},{index:f,label:"R",color:"green"}],2,`Found pair! ${ie[D]} + ${ie[f]} = ${j}`,O,{target:j,sum:m})),{startArr:S,endArr:ie,timeline:T};m<j?(T.push(_e(ie,[D],[],3,`Sum ${m} < ${j}, move Left pointer`,O,{target:j,sum:m})),D++):(T.push(_e(ie,[f],[],4,`Sum ${m} > ${j}, move Right pointer`,O,{target:j,sum:m})),f--)}return T.push(_e(ie,[],[],5,"No pair found",O,{target:j})),{startArr:S,endArr:ie,timeline:T}},ue=S=>{const j=[],T="cycle_detection",O=[...S],ie=O.length;let D=0,f=0;for(j.push(_e(O,[0],[{index:0,label:"S,F",color:"primary"}],0,"Init slow, fast pointers at index 0",T));;){if(D=O[D]%ie,f=O[f]%ie,f=O[f]%ie,j.push(_e(O,[D,f],[{index:D,label:"S",color:"primary"},{index:f,label:"F",color:"red"}],1,`Slow moves 1 step to ${D}, Fast moves 2 steps to ${f}`,T)),D===f){j.push(_e(O,[D],[{index:D,label:"MEET",color:"green"}],2,`Wait! slow == fast at index ${D}. Cycle Detected!`,T));break}if(j.length>50)break}return{startArr:S,endArr:S,timeline:j}},re=S=>{n(S.timeline),a(0),l(!0),t(S.endArr)},fe=()=>{const S=parseInt(ye),j=parseInt(Ie);if(isNaN(S)||isNaN(j)){p("Invalid Inputs");return}if(S<0||S>e.filter(T=>T!==null).length){p("Bounds Error");return}if(e.filter(T=>T!==null).length>=Cr){p("Full");return}p(null),re(Ke(e,S,j))},ce=()=>{const S=parseInt(Ae);if(isNaN(S)){p("Invalid Input");return}const j=e.filter(T=>T!==null).length;if(S<0||S>=j){p("Bounds Error");return}p(null),re(Je(e,S))},ne=()=>{const S=parseInt(ze),j=parseInt(xe);if(isNaN(S)||isNaN(j)){p("Invalid Inputs");return}const T=e.filter(O=>O!==null).length;if(S<0||S>=T){p("Bounds Error");return}p(null),re(Ye(e,S,j))},be=()=>{const S=parseInt(X);if(isNaN(S)){p("Invalid Input");return}p(null);const j=k==="linear"?se(e,S):Qe(e,S);re(j)},Ce=()=>{p(null),re(Le(e))},$e=()=>{const S=parseInt(ke);if(isNaN(S)){p("Invalid Target");return}p(null),re(G(e,S))},Be=()=>{p(null),re(ue(e))},je=()=>{const S=parseInt(E);if(isNaN(S)||S<=0||S>Cr){p(`Max ${Cr}`);return}let j=[];if(Y.trim()&&(j=Y.split(",").map(T=>T.trim()).filter(T=>T!=="").map(T=>parseInt(T)),j.some(isNaN))){p("Invalid numbers");return}j.length<S?j=[...j,...Array(S-j.length).fill(0)]:j.length>S&&(j=j.slice(0,S)),p(null),t(j),n([_e(j,[],[],2,"Initialized","create")]),a(0),b("size")},Ge=()=>{const S=parseInt(E)||8,j=Array.from({length:S},()=>Math.floor(Math.random()*99)+1).sort((T,O)=>T-O);p(null),t(j),P(j.join(", ")),n([_e(j,[],[],2,"Randomized","create")]),a(0),b("size")},$=()=>{const S=e.filter(O=>O!==null).length,j=S>0?S:8,T=Array.from({length:j},()=>Math.floor(Math.random()*99)+1).sort((O,ie)=>O-ie);p(null),t(T),P(T.join(", ")),R(j.toString()),n([_e(T,[],[],2,"Example Loaded (Randomized)","create")]),a(0),b("size")},A=()=>{if(e.filter(T=>T!==null).length>=Cr){p(`Max capacity ${Cr} reached`);return}const j=[...e.filter(T=>T!==null),Math.floor(Math.random()*99)+1];t(j),n([_e(j,[],[],0,"Element Added","None")]),a(0),p(null)},B=S=>{const j=e.filter((T,O)=>O!==S);t(j),n([_e(j,[],[],0,"Element Removed","None")]),a(0),p(null)},q=(S,j)=>{const T=[...e];T[S]=j,t(T),n([_e(T,[],[],0,"Element Updated","None")]),a(0),p(null)},K=()=>{t([]),n([_e([],[],[],0,"Array Cleared","None")]),a(0),p(null)};y.useEffect(()=>(o&&r.length>0&&(Re.current=window.setInterval(()=>{a(S=>S<r.length-1?S+1:(l(!1),S))},1e3/d)),()=>{Re.current&&clearInterval(Re.current)}),[o,r.length,d]);const W=r[s]||{array:e,highlights:[],pointers:[],codeLine:-1,description:"Ready",internalState:{capacity:Cr,size:e.filter(S=>S!==null).length,currentOp:"None"}};return{mode:u,frames:r,currentStep:s,isPlaying:o,playbackSpeed:d,activeOp:x,searchType:k,error:_,createStep:g,createSize:E,createInput:Y,searchInput:X,insertIndex:ye,insertValue:Ie,removeIndex:Ae,updateIndex:ze,updateValue:xe,twoSumTarget:ke,currentFrame:W,setMode:h,setIsPlaying:l,setCurrentStep:a,setPlaybackSpeed:c,setActiveOp:v,setSearchType:N,setCreateStep:b,setCreateSize:R,setCreateInput:P,setSearchInput:Ne,setInsertIndex:Me,setInsertValue:F,setRemoveIndex:qe,setUpdateIndex:Fe,setUpdateValue:te,setTwoSumTarget:Oe,handleCreateCustom:je,handleCreateRandom:Ge,handleExample:$,handleSearch:be,handleInsert:fe,handleRemove:ce,handleUpdate:ne,handleReverse:Ce,handleTwoSum:$e,handleCycleDetection:Be,handleCanvasAdd:A,handleCanvasDelete:B,handleCanvasUpdate:q,handleCanvasClear:K}},th={insert:{c:{lines:["if (n >= capacity) { return -1; } // Error: Capacity reached","for (int i = n - 1; i >= index; i--) {","    arr[i + 1] = arr[i];","}","arr[index] = val;","n++;"],mapping:{0:0,1:1,2:2,3:4,4:5}},cpp:{lines:["if (n >= capacity) { return -1; }","for (int i = n - 1; i >= index; i--) {","    arr[i + 1] = arr[i];","}","arr[index] = val;","n++;"],mapping:{0:0,1:1,2:2,3:4,4:5}},java:{lines:['if (n >= capacity) { throw new Exception("Full"); }',"for (int i = n - 1; i >= index; i--) {","    arr[i + 1] = arr[i];","}","arr[index] = val;","n++;"],mapping:{0:0,1:1,2:2,3:4,4:5}},python:{lines:["if n >= capacity: raise Exception('Full')","# Python lists are dynamic, but logic mimics fixed array:","arr.append(None) # Expand","for i in range(n - 1, index - 1, -1):","    arr[i + 1] = arr[i]","arr[index] = val","n += 1"],mapping:{0:0,1:3,2:4,3:5,4:6}}},remove:{c:{lines:["if (index < 0 || index >= n) return -1;","for (int i = index; i < n - 1; i++) {","    arr[i] = arr[i + 1];","}","n--;","arr[n] = 0; // Optional cleanup"],mapping:{0:0,1:1,2:2,3:4}},cpp:{lines:["if (index < 0 || index >= n) return -1;","for (int i = index; i < n - 1; i++) {","    arr[i] = arr[i + 1];","}","n--;"],mapping:{0:0,1:1,2:2,3:4}},java:{lines:["if (index < 0 || index >= n) throw new IndexOutOfBoundsException();","for (int i = index; i < n - 1; i++) {","    arr[i] = arr[i + 1];","}","n--;"],mapping:{0:0,1:1,2:2,3:4}},python:{lines:["if index < 0 or index >= n: raise IndexError()","for i in range(index, n - 1):","    arr[i] = arr[i + 1]","arr.pop() # Remove last element","n -= 1"],mapping:{0:0,1:1,2:2,3:4}}},search_linear:{c:{lines:["for (int i = 0; i < n; i++) {","    if (arr[i] == target) {","        return i;","    }","}","return -1;"],mapping:{1:0,2:1,3:5}},cpp:{lines:["for (int i = 0; i < n; i++) {","    if (arr[i] == target) return i;","}","return -1;"],mapping:{1:0,2:1,3:3}},java:{lines:["for (int i = 0; i < n; i++) {","    if (arr[i] == target) return i;","}","return -1;"],mapping:{1:0,2:1,3:3}},python:{lines:["for i in range(n):","    if arr[i] == target:","        return i","return -1"],mapping:{1:0,2:1,3:3}}},search_binary:{c:{lines:["int low = 0, high = n - 1;","while (low <= high) {","    int mid = low + (high - low) / 2;","    if (arr[mid] == target) return mid;","    if (arr[mid] < target) low = mid + 1;","    else high = mid - 1;","}","return -1;"],mapping:{0:0,2:1,3:3,4:4,5:5,6:7}},cpp:{lines:["int low = 0, high = n - 1;","while (low <= high) {","    int mid = low + (high - low) / 2;","    if (arr[mid] == target) return mid;","    if (arr[mid] < target) low = mid + 1;","    else high = mid - 1;","}","return -1;"],mapping:{0:0,2:1,3:3,4:4,5:5,6:7}},java:{lines:["int low = 0, high = n - 1;","while (low <= high) {","    int mid = low + (high - low) / 2;","    if (arr[mid] == target) return mid;","    if (arr[mid] < target) low = mid + 1;","    else high = mid - 1;","}","return -1;"],mapping:{0:0,2:1,3:3,4:4,5:5,6:7}},python:{lines:["low = 0; high = n - 1","while low <= high:","    mid = (low + high) // 2","    if arr[mid] == target: return mid","    if arr[mid] < target: low = mid + 1","    else: high = mid - 1","return -1"],mapping:{0:0,2:1,3:3,4:4,5:5,6:6}}},update:{c:{lines:["if (index < 0 || index >= n) return -1;","arr[index] = val;","return 0;"],mapping:{0:0,1:1}},cpp:{lines:["if (index < 0 || index >= n) return -1;","arr[index] = val;"],mapping:{0:0,1:1}},java:{lines:["if (index < 0 || index >= n) throw new Error();","arr[index] = val;"],mapping:{0:0,1:1}},python:{lines:["if index < 0 or index >= n: raise Error","arr[index] = val"],mapping:{0:0,1:1}}},create:{c:{lines:["int* arr = (int*)malloc(N * sizeof(int));","int n = 0;","// Fill logic...","arr[n++] = val;"],mapping:{2:0}},cpp:{lines:["int* arr = new int[N];","int n = 0;","// Fill logic...","arr[n++] = val;"],mapping:{2:0}},java:{lines:["int[] arr = new int[N];","int n = 0;","// Fill logic...","arr[n++] = val;"],mapping:{2:0}},python:{lines:["arr = [None] * N","n = 0","# Fill logic...","arr[n] = val; n += 1"],mapping:{2:0}}},reverse:{c:{lines:["int left = 0, right = n - 1;","while (left < right) {","    int temp = arr[left];","    arr[left] = arr[right];","    arr[right] = temp;","    left++; right--;","}"],mapping:{1:1,2:2}},cpp:{lines:["int left = 0, right = n - 1;","while (left < right) {","    std::swap(arr[left++], arr[right--]);","}"],mapping:{1:1,2:2}},java:{lines:["int left = 0, right = n - 1;","while (left < right) {","    int temp = arr[left];","    arr[left] = arr[right];","    arr[right] = temp;","    left++; right--;","}"],mapping:{1:1,2:2}},python:{lines:["left, right = 0, n - 1","while left < right:","    arr[left], arr[right] = arr[right], arr[left]","    left += 1; right -= 1"],mapping:{1:1,2:2}}},"2sum":{c:{lines:["// Assuming sorted array","int L = 0, R = n - 1;","while (L < R) {","    int sum = arr[L] + arr[R];","    if (sum == target) return {L, R};","    if (sum < target) L++;","    else R--;","}"],mapping:{1:2,2:4,3:5,4:6}},cpp:{lines:["int L = 0, R = n - 1;","while (L < R) {","    int sum = arr[L] + arr[R];","    if (sum == target) return {L, R};","    if (sum < target) L++;","    else R--;","}"],mapping:{1:1,2:3,3:4,4:5}},java:{lines:["int L = 0, R = n - 1;","while (L < R) {","    int sum = arr[L] + arr[R];","    if (sum == target) return new int[]{L, R};","    if (sum < target) L++;","    else R--;","}"],mapping:{1:1,2:3,3:4,4:5}},python:{lines:["L, R = 0, n - 1","while L < R:","    s = arr[L] + arr[R]","    if s == target: return L, R","    if s < target: L += 1","    else: R -= 1"],mapping:{1:1,2:3,3:4,4:5}}},cycle_detection:{c:{lines:["int slow = 0, fast = 0;","while (1) {","    slow = arr[slow];","    fast = arr[arr[fast]];","    if (slow == fast) return true;","}"],mapping:{0:0,1:2,2:4}},cpp:{lines:["int slow = 0, fast = 0;","while (true) {","    slow = arr[slow];","    fast = arr[arr[fast]];","    if (slow == fast) return true;","}"],mapping:{0:0,1:2,2:4}},java:{lines:["int slow = 0, fast = 0;","while (true) {","    slow = arr[slow];","    fast = arr[arr[fast]];","    if (slow == fast) return true;","}"],mapping:{0:0,1:2,2:4}},python:{lines:["slow = fast = 0","while True:","    slow = arr[slow]","    fast = arr[arr[fast]]","    if slow == fast: return True"],mapping:{0:0,1:2,2:4}}}},Cb=({activeTab:e,activeOp:t,searchType:r="linear",currentFrame:n})=>{const s=t==="search"?r:t||"insert",o=eh[t==="search"?r:t||"insert"]||eh.insert,l=Sb[s]||[],[d,c]=y.useState("python");return e==="code"?i.jsxs("div",{className:"flex flex-col gap-2 h-full",children:[i.jsxs("div",{className:"flex justify-between items-center px-2",children:[i.jsx("h3",{className:"text-xs font-bold uppercase tracking-wider text-gray-400 dark:text-[#9794c7]",children:"Implementation"}),i.jsx("div",{className:"flex bg-[#121121] rounded-md p-0.5 border border-[#383564]",children:["c","cpp","java","python"].map(u=>i.jsx("button",{onClick:()=>c(u),className:`px-2 py-0.5 text-[10px] uppercase font-bold rounded ${d===u?"bg-[#383564] text-white":"text-gray-500 hover:text-gray-300"}`,children:u},u))})]}),i.jsx("div",{className:"bg-[#121121] border border-[#383564] rounded-lg p-3 overflow-auto flex-1 font-mono text-xs text-gray-400 custom-scrollbar",children:i.jsx("div",{className:"space-y-0.5",children:(()=>{let u="";if(t==="insert"?u="insert":t==="remove"?u="remove":t==="search"?u=r==="binary"?"search_binary":"search_linear":t==="update"?u="update":t==="create"&&(u="create"),!u||!th[u])return i.jsx("span",{className:"text-gray-500 italic px-2",children:"No code available."});const h=th[u][d],x=h.mapping[n.codeLine],v=Array.isArray(x)?x:x!==void 0?[x]:[];return h.lines.map((k,N)=>{let _=k;return n.opValues&&Object.keys(n.opValues).forEach(p=>{const g=n.opValues[p];_=_.replace(new RegExp(`\\b${p}\\b`,"g"),String(g))}),i.jsxs("div",{className:`px-2 py-0.5 -mx-2 rounded flex gap-3 transition-colors duration-200 ${v.includes(N)?"bg-indigo-500/20 text-indigo-300 border-l-2 border-indigo-500":"border-l-2 border-transparent"}`,children:[i.jsx("span",{className:"text-gray-600 select-none w-4 text-right opacity-50",children:N+1}),i.jsx("span",{className:"whitespace-pre",children:_})]},N)})})()})})]}):e==="pseudo"?i.jsxs("div",{className:"flex flex-col gap-2 h-full",children:[i.jsx("h3",{className:"text-xs font-bold uppercase tracking-wider text-gray-400 dark:text-[#9794c7] mb-2 pl-2",children:"Pseudocode"}),i.jsx("div",{className:"bg-[#121121] border border-[#383564] rounded-lg p-4 font-mono text-xs text-gray-400 overflow-y-auto custom-scrollbar flex-1",children:i.jsx("div",{className:"space-y-1",children:l.length>0?l.map((u,h)=>i.jsxs("p",{className:`px-2 py-1 -mx-2 rounded border-l-2 transition-colors ${h===n.codeLine?"text-primary dark:text-white bg-primary/10 dark:bg-primary/20 border-primary":"border-transparent"}`,children:[i.jsx("span",{className:"mr-3 select-none opacity-30",children:h}),u]},h)):i.jsx("span",{className:"text-gray-500 italic",children:"Select an operation to see logic..."})})})]}):i.jsxs("div",{className:"flex flex-col gap-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-xs font-bold uppercase tracking-wider text-gray-400 dark:text-[#9794c7] mb-2 pl-2",children:"Complexity"}),i.jsxs("div",{className:"bg-white/5 dark:bg-[#1c1a32]/50 border border-gray-200 dark:border-[#383564] rounded-xl p-4 text-xs font-mono text-gray-400",children:[i.jsxs("div",{className:"flex justify-between border-b border-white/10 pb-2 mb-2",children:[i.jsx("span",{className:"text-white font-bold uppercase",children:s}),i.jsx("span",{className:"text-primary",children:o.avg})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Best"}),i.jsx("span",{className:"text-emerald-400",children:o.best})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Avg"}),i.jsx("span",{className:"text-amber-400",children:o.avg})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Worst"}),i.jsx("span",{className:"text-rose-400",children:o.worst})]}),i.jsxs("div",{className:"flex justify-between border-t border-white/10 pt-1 mt-1",children:[i.jsx("span",{children:"Space"}),i.jsx("span",{className:"text-blue-400",children:o.space})]})]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xs font-bold uppercase tracking-wider text-gray-400 dark:text-[#9794c7] mb-2 pl-2",children:"Internal State"}),i.jsx("div",{className:"bg-white/5 dark:bg-[#1c1a32]/50 border border-gray-200 dark:border-[#383564] rounded-xl p-4 text-xs font-mono text-gray-400",children:i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between border-b border-gray-200 dark:border-white/5 pb-1",children:[i.jsx("span",{children:"Capacity"}),i.jsx("span",{className:"text-primary font-bold",children:n.internalState.capacity})]}),i.jsxs("div",{className:"flex justify-between border-b border-gray-200 dark:border-white/5 pb-1",children:[i.jsx("span",{children:"Size"}),i.jsx("span",{className:"text-slate-900 dark:text-white font-bold",children:n.internalState.size})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Op"}),i.jsx("span",{className:"text-orange-400 font-bold uppercase",children:n.internalState.currentOp})]})]})})]})]})},Eb=({activeTool:e,setActiveTool:t,onAdd:r,onClear:n})=>{const s=[{id:"edit",icon:"edit",label:"Edit Value"},{id:"delete",icon:"delete",label:"Delete Element"}];return i.jsxs("div",{className:"absolute top-4 left-4 bg-white dark:bg-[#1e1c33] p-1.5 rounded-xl shadow-[0_8px_30px_rgb(0,0,0,0.12)] border border-gray-200 dark:border-[#272546] flex flex-row items-center gap-1 z-50 animate-in slide-in-from-left-4 fade-in",children:[s.map(a=>i.jsxs("button",{onClick:()=>t(e===a.id?null:a.id),className:`relative w-10 h-10 flex items-center justify-center rounded-lg transition-all duration-200 group
                        ${e===a.id?"bg-primary text-white shadow-lg shadow-primary/30":"text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-[#2a2845]"}`,title:a.label,children:[i.jsx("span",{className:"material-symbols-outlined text-[20px]",children:a.icon}),i.jsx("div",{className:"absolute -bottom-10 left-1/2 -translate-x-1/2 px-2 py-1 bg-gray-900 text-white text-[10px] font-medium rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap pointer-events-none",children:a.label})]},a.id)),i.jsx("div",{className:"w-[1px] h-6 bg-gray-200 dark:bg-[#272546] mx-1"}),i.jsxs("button",{onClick:r,className:"relative w-10 h-10 flex items-center justify-center rounded-lg text-emerald-500 hover:bg-emerald-50 dark:hover:bg-emerald-900/20 transition-all duration-200 group",title:"Add Element",children:[i.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"add_box"}),i.jsx("div",{className:"absolute -bottom-10 left-1/2 -translate-x-1/2 px-2 py-1 bg-gray-900 text-white text-[10px] font-medium rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap pointer-events-none",children:"Add Element"})]}),i.jsxs("button",{onClick:n,className:"relative w-10 h-10 flex items-center justify-center rounded-lg text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 transition-all duration-200 group",title:"Clear Array",children:[i.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"delete_sweep"}),i.jsx("div",{className:"absolute -bottom-10 left-1/2 -translate-x-1/2 px-2 py-1 bg-gray-900 text-white text-[10px] font-medium rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap pointer-events-none",children:"Clear Array"})]})]})},Lb=()=>{const{mode:e,frames:t,currentStep:r,isPlaying:n,playbackSpeed:s,activeOp:a,searchType:o,error:l,searchInput:d,insertIndex:c,insertValue:u,removeIndex:h,updateIndex:x,updateValue:v,twoSumTarget:k,currentFrame:N,setMode:_,setIsPlaying:p,setCurrentStep:g,setPlaybackSpeed:b,setActiveOp:E,setSearchType:R,setSearchInput:Y,setInsertIndex:P,setInsertValue:X,setRemoveIndex:Ne,setUpdateIndex:ye,setUpdateValue:Me,setTwoSumTarget:Ie,handleSearch:F,handleInsert:Ae,handleRemove:qe,handleUpdate:ze,handleReverse:Fe,handleTwoSum:xe,handleCycleDetection:te,handleExample:ke,handleCanvasAdd:Oe,handleCanvasDelete:Re,handleCanvasUpdate:_e,handleCanvasClear:Ke}=_b(),[Je,se]=y.useState(null),[Qe,Ye]=y.useState(null),[Le,G]=y.useState("pseudo"),[ue,re]=y.useState(.7),[fe,ce]=y.useState(!1),ne=y.useRef(null),be=y.useRef(null),Ce=y.useRef(null),[$e,Be]=y.useState(.6),[je,Ge]=y.useState({x:0,y:0}),[$,A]=y.useState(!1),[B,q]=y.useState({x:0,y:0}),K=D=>{ce(!0),D.preventDefault()};y.useEffect(()=>{const D=m=>{if(!fe||!ne.current)return;const w=ne.current.getBoundingClientRect(),C=m.clientY-w.top,I=Math.max(.2,Math.min(.8,C/w.height));re(I)},f=()=>ce(!1);return fe&&(window.addEventListener("mousemove",D),window.addEventListener("mouseup",f)),()=>{window.removeEventListener("mousemove",D),window.removeEventListener("mouseup",f)}},[fe]);const W=D=>{A(!0),q({x:D.clientX,y:D.clientY})},S=D=>{$&&(Ge(f=>({x:f.x+D.clientX-B.x,y:f.y+D.clientY-B.y})),q({x:D.clientX,y:D.clientY}))},j=()=>A(!1),T=D=>{D.ctrlKey;{D.preventDefault();const f=-D.deltaY;Be(m=>Math.min(Math.max(.2,m+f*.001),3))}},O=(D,f,m)=>{if(m.stopPropagation(),Je==="delete")Re(D);else if(Je==="edit"){const w=m.currentTarget.getBoundingClientRect();Ye({index:D,val:f||0,x:w.left+w.width/2,y:w.bottom+10})}},ie=D=>{if(D.key==="Enter"&&Qe){const f=parseInt(D.target.value);isNaN(f)||_e(Qe.index,f),Ye(null)}else D.key==="Escape"&&Ye(null)};return y.useEffect(()=>{if(be.current){const D=be.current.clientWidth,f=N.array.length*70+100;f>D?Be(Math.max(.2,D/f*.6)):Be(.6)}},[N.array.length]),i.jsxs(Dn,{title:"Arrays",sidebarPosition:"right",contentClassName:"flex-1 flex flex-col relative z-10 overflow-hidden",sidebarNoPadding:!0,sidebarNoScroll:!0,sidebar:i.jsxs("div",{className:"h-full flex flex-col relative",ref:ne,children:[i.jsx("div",{style:{height:`${ue*100}%`},className:"min-h-0 overflow-y-auto border-b border-gray-200 dark:border-[#272546] p-4",children:i.jsx(jb,{activeOp:a,setActiveOp:E,mode:e,setMode:_,searchType:o,setSearchType:R,searchInput:d,setSearchInput:Y,handleSearch:F,insertIndex:c,setInsertIndex:P,insertValue:u,setInsertValue:X,handleInsert:Ae,removeIndex:h,setRemoveIndex:Ne,handleRemove:qe,updateIndex:x,setUpdateIndex:ye,updateValue:v,setUpdateValue:Me,handleUpdate:ze,twoSumTarget:k,setTwoSumTarget:Ie,handleReverse:Fe,handleTwoSum:xe,handleCycleDetection:te,handleExample:ke,error:l})}),i.jsx("div",{className:"h-1 bg-gray-200 dark:bg-[#383564] cursor-row-resize hover:bg-primary transition-colors shrink-0 z-50",onMouseDown:K}),i.jsxs("div",{className:"flex-1 min-h-0 flex flex-col bg-gray-50/50 dark:bg-[#1c1a32]/20 overflow-hidden",children:[i.jsx("div",{className:"flex p-1 bg-gray-100 dark:bg-[#121121] border-b border-gray-200 dark:border-[#272546] shrink-0",children:["pseudo","code","info"].map(D=>i.jsx("button",{onClick:()=>G(D),className:`flex-1 py-1.5 text-[10px] uppercase font-bold rounded-md transition-all ${Le===D?"bg-white dark:bg-[#1c1a32] text-primary shadow-sm":"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"}`,children:D},D))}),i.jsx("div",{className:"flex-1 overflow-y-auto p-4 custom-scrollbar",children:i.jsx(Cb,{activeTab:Le,activeOp:a,searchType:o,currentFrame:N})})]})]}),controls:i.jsxs("div",{className:"w-full h-16 bg-white dark:bg-[#1e1c33] border-t border-gray-200 dark:border-[#272546] flex items-center px-6 gap-6 z-20",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:()=>g(0),className:"size-8 rounded-full flex items-center justify-center text-gray-500 hover:text-white transition-colors hover:bg-white/5",title:"Start",children:i.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"skip_previous"})}),i.jsx("button",{onClick:()=>g(D=>Math.max(0,D-1)),className:"size-8 rounded-full flex items-center justify-center text-gray-500 hover:text-white transition-colors hover:bg-white/5",title:"Prev",children:i.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"fast_rewind"})}),i.jsx("button",{onClick:()=>p(!n),className:`size-10 rounded-full flex items-center justify-center text-white shadow-lg transition-transform hover:scale-105 active:scale-95 ${n?"bg-red-500":"bg-primary"}`,children:i.jsx("span",{className:"material-symbols-outlined text-[24px] filled",children:n?"pause":"play_arrow"})}),i.jsx("button",{onClick:()=>g(D=>Math.min(t.length-1,D+1)),className:"size-8 rounded-full flex items-center justify-center text-gray-500 hover:text-white transition-colors hover:bg-white/5",title:"Next",children:i.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"fast_forward"})}),i.jsx("button",{onClick:()=>g(t.length-1),className:"size-8 rounded-full flex items-center justify-center text-gray-500 hover:text-white transition-colors hover:bg-white/5",title:"End",children:i.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"skip_next"})})]}),i.jsxs("div",{className:"flex-1 flex flex-col justify-center gap-1.5",children:[i.jsxs("div",{className:"flex justify-between text-[10px] font-mono font-bold text-gray-400 uppercase tracking-widest",children:[i.jsxs("span",{className:"text-primary/70",children:["Step ",r+1,"/",t.length||1]}),i.jsxs("span",{className:"text-primary",children:[Math.round((r+1)/(t.length||1)*100),"%"]})]}),i.jsx("div",{className:"h-1.5 w-full bg-[#272546] rounded-full overflow-hidden relative cursor-pointer",onClick:D=>{const f=D.currentTarget.getBoundingClientRect(),m=(D.clientX-f.left)/f.width;g(Math.floor(m*(t.length-1)))},children:i.jsx("div",{className:"h-full bg-primary relative rounded-full",style:{width:`${(r+1)/(t.length||1)*100}%`}})})]}),i.jsxs("div",{className:"flex items-center gap-3 w-32 border-l border-[#272546] pl-4",children:[i.jsx("span",{className:"material-symbols-outlined text-gray-500 text-sm",children:"speed"}),i.jsx("input",{type:"range",min:"0.5",max:"3",step:"0.5",value:s,onChange:D=>b(parseFloat(D.target.value)),className:"w-full h-1 bg-[#272546] rounded-lg appearance-none cursor-pointer accent-primary"})]})]}),children:[i.jsx(Eb,{activeTool:Je,setActiveTool:D=>{se(D),Ye(null)},onAdd:Oe,onClear:Ke}),Qe&&i.jsxs("div",{className:"fixed z-[100] bg-white dark:bg-[#1e1c33] p-2 rounded-lg shadow-xl border border-gray-200 dark:border-[#272546] animate-in zoom-in-95 duration-200",style:{left:Qe.x,top:Qe.y,transform:"translateX(-50%)"},children:[i.jsx("input",{type:"number",autoFocus:!0,defaultValue:Qe.val,onKeyDown:ie,onBlur:()=>Ye(null),className:"w-20 bg-gray-50 dark:bg-[#121121] border border-gray-200 dark:border-[#383564] rounded px-2 py-1 text-sm text-center font-bold outline-none focus:ring-2 focus:ring-primary"}),i.jsx("div",{className:"absolute -top-2 left-1/2 -translate-x-1/2 w-4 h-4 bg-white dark:bg-[#1e1c33] border-t border-l border-gray-200 dark:border-[#272546] rotate-45"})]}),i.jsx("div",{ref:be,className:`flex-1 flex flex-col items-center justify-start pt-32 overflow-hidden relative z-0 ${$?"cursor-grabbing":"cursor-grab"} ${Je?"cursor-crosshair":""}`,onMouseDown:W,onMouseMove:S,onMouseUp:j,onMouseLeave:j,onWheel:T,onClick:()=>{Je&&Ye(null)},children:i.jsxs("div",{ref:Ce,className:"flex flex-col items-start gap-2 transition-transform duration-75 ease-out origin-center",style:{transform:`translate(${je.x}px, ${je.y}px) scale(${$e*1.1})`},children:[i.jsx("div",{className:"flex gap-1 ml-1 select-none",children:N.array.map((D,f)=>i.jsx("div",{className:"w-14 text-center text-xs font-mono text-gray-500",children:f},f))}),i.jsx("div",{className:"flex gap-1",children:N.array.map((D,f)=>{const m=N.highlights.indexOf(f)!==-1,w=N.pointers.filter(C=>C.index===f);return i.jsxs("div",{onClick:C=>O(f,D===null?0:D,C),className:`w-14 h-14 rounded flex items-center justify-center text-lg font-mono font-medium shadow-sm relative group transition-all duration-300 ${m?"bg-primary text-white border-2 border-primary scale-110 z-10 shadow-[0_0_20px_rgba(66,54,231,0.4)]":"bg-white dark:bg-[#1c1a32] border border-gray-300 dark:border-[#383564] text-slate-900 dark:text-white"} ${D===null?"border-dashed opacity-50":""} ${Je?"hover:border-primary hover:shadow-md cursor-pointer":""}`,children:[D===null?"null":D,w.map((C,I)=>i.jsxs("div",{className:"absolute -top-10 left-1/2 -translate-x-1/2 flex flex-col items-center",style:{marginTop:`-${I*24}px`},children:[i.jsx("span",{className:`text-xs font-bold px-1.5 py-0.5 rounded border mb-1 ${C.color==="primary"?"text-primary bg-[#121121] border-primary/30":C.color==="green"?"text-emerald-400 bg-[#121121] border-emerald-400/30":"text-red-400 bg-[#121121] border-red-400/30"}`,children:C.label}),I===0&&i.jsx("span",{className:`material-symbols-outlined text-xl font-bold animate-bounce ${C.color==="primary"?"text-primary":C.color==="green"?"text-emerald-400":"text-red-400"}`,children:"arrow_downward"})]},C.label))]},f)})})]})}),i.jsx("div",{className:"absolute bottom-4 right-4 z-40 flex flex-col items-start gap-3 max-w-md w-full pointer-events-none",children:i.jsxs("div",{className:"bg-white/90 dark:bg-[#1e1c33]/90 backdrop-blur-md p-4 rounded-xl border border-gray-200 dark:border-[#272546] shadow-xl pointer-events-auto transition-all duration-300 w-full animate-in slide-in-from-left-5 duration-500",children:[i.jsx("h4",{className:"text-[10px] uppercase font-bold text-gray-400 mb-1.5 tracking-wider",children:"Current Operation"}),i.jsx("p",{className:"text-sm font-medium text-slate-700 dark:text-slate-200 leading-relaxed",children:N.description||"Ready to visualize..."})]})})]})},la=[{id:0,x:100,y:100,value:0},{id:1,x:300,y:100,value:1},{id:2,x:100,y:300,value:2},{id:3,x:300,y:300,value:3},{id:4,x:500,y:200,value:4}],rh=[{from:0,to:1,weight:1},{from:1,to:2,weight:1},{from:2,to:3,weight:1},{from:3,to:4,weight:1},{from:1,to:4,weight:1},{from:0,to:2,weight:1}],Tb=()=>{const[e,t]=y.useState(la),[r,n]=y.useState(rh),[s,a]=y.useState(!0),[o,l]=y.useState(!1),[d,c]=y.useState([]),[u,h]=y.useState(0),[x,v]=y.useState(!1),[k,N]=y.useState(1),[_,p]=y.useState(null),[g,b]=y.useState("0"),E=y.useRef(null),[R,Y]=y.useState(la.length),[P,X]=y.useState("move"),[Ne,ye]=y.useState(null),[Me,Ie]=y.useState(!1),F=40,Ae=L=>Math.round(L/F)*F,[qe,ze]=y.useState(null),Fe=()=>{ze({nodes:[...e],edges:[...r],isDirected:s,isWeighted:o})},xe=()=>{qe&&(t(qe.nodes),n(qe.edges),a(qe.isDirected),l(qe.isWeighted),ze(null)),Le(),X("move"),ye(null)},te=()=>{t(la),n(rh),Y(la.length),a(!0),ze(null),Le(),X("move"),ye(null)},ke=()=>{t([]),n([]),Y(0),Le(),ye(null)},Oe=(L,z)=>{const J=Me?Ae(L):L,V=Me?Ae(z):z,oe={id:R,x:J,y:V,value:R};t(ae=>[...ae,oe]),Y(ae=>ae+1),ze(null),Le()},Re=(L,z,J)=>{t(V=>V.map(oe=>oe.id===L?{...oe,x:z,y:J}:oe)),ze(null),Le()},_e=L=>{t(z=>z.filter(J=>J.id!==L)),n(z=>z.filter(J=>J.from!==L&&J.to!==L)),Ne===L&&ye(null),ze(null),Le()},Ke=(L,z,J=1,V=!1)=>{L!==z&&(n(oe=>[...oe.filter(le=>!(le.from===L&&le.to===z||!s&&le.from===z&&le.to===L)),{from:L,to:z,weight:J,isManual:V}]),ze(null),Le())},Je=(L,z)=>{n(J=>J.filter(V=>!(V.from===L&&V.to===z)&&!(!s&&V.from===z&&V.to===L))),ze(null),Le()},se=L=>{let z="",J=L;do z=String.fromCharCode(65+J%26)+z,J=Math.floor(J/26)-1;while(J>=0);return z},Qe=L=>{const z=L.toUpperCase(),J=e.find(V=>se(V.id)===z);return J?J.id:null},Ye=L=>{const z=parseInt(L);return!isNaN(z)&&e.some(J=>J.id===z)?z:Qe(L)};y.useEffect(()=>{xe()},[]);const Le=()=>{c([]),h(0),v(!1),p(null)},G=()=>{const L={};return e.forEach(z=>L[z.id]=[]),r.forEach(z=>{L[z.from].push(z.to),s||L[z.to].push(z.from)}),Object.keys(L).forEach(z=>L[parseInt(z)].sort((J,V)=>J-V)),L},ue=()=>{const L=Ye(g);if(L===null){alert("Invalid start node");return}Fe(),Le(),p("bfs");const z=[],J=G(),V=new Set,oe=[];for(z.push({nodes:[...e],edges:[...r],highlights:[],visited:[],queue:[],stack:[],edgeHighlights:[],codeLine:0,pseudoLines:["Initialize visited set and queue","Add start node to visited and queue","While queue is not empty:","  Dequeue node u","  For each neighbor v of u:","    If v not visited:","      Mark v visited, enqueue v"],description:`Starting BFS from node ${se(L)}.`,output:"BFS: "}),V.add(L),oe.push(L),z.push({nodes:[...e],edges:[...r],highlights:[L],visited:[L],queue:[...oe],stack:[],edgeHighlights:[],codeLine:1,pseudoLines:["Initialize visited set and queue","Add start node to visited and queue","While queue is not empty:","  Dequeue node u","  For each neighbor v of u:","    If v not visited:","      Mark v visited, enqueue v"],description:`Added start node ${se(L)} to queue and visited set.`,output:`BFS: ${Array.from(V).map(ae=>se(ae)).join(", ")}`});oe.length>0;){z.push({nodes:[...e],edges:[...r],highlights:[oe[0]],visited:Array.from(V),queue:[...oe],stack:[],edgeHighlights:[],codeLine:2,pseudoLines:["Initialize visited set and queue","Add start node to visited and queue","While queue is not empty:","  Dequeue node u","  For each neighbor v of u:","    If v not visited:","      Mark v visited, enqueue v"],description:"Checking if queue is empty. It's not.",output:`BFS: ${Array.from(V).map(H=>se(H)).join(", ")}`});const ae=oe.shift();z.push({nodes:[...e],edges:[...r],highlights:[ae],visited:Array.from(V),queue:[...oe],stack:[],edgeHighlights:[],codeLine:3,pseudoLines:["Initialize visited set and queue","Add start node to visited and queue","While queue is not empty:","  Dequeue node u","  For each neighbor v of u:","    If v not visited:","      Mark v visited, enqueue v"],description:`Dequeued node ${se(ae)}.`,output:`BFS: ${Array.from(V).map(H=>se(H)).join(", ")}`});const le=J[ae]||[];for(const H of le)z.push({nodes:[...e],edges:[...r],highlights:[ae],visited:Array.from(V),queue:[...oe],stack:[],edgeHighlights:[{from:ae,to:H}],codeLine:4,pseudoLines:["Initialize visited set and queue","Add start node to visited and queue","While queue is not empty:","  Dequeue node u","  For each neighbor v of u:","    If v not visited:","      Mark v visited, enqueue v"],description:`Checking neighbor ${se(H)} of node ${se(ae)}.`,output:`BFS: ${Array.from(V).map(M=>se(M)).join(", ")}`}),V.has(H)||(V.add(H),oe.push(H),z.push({nodes:[...e],edges:[...r],highlights:[ae,H],visited:Array.from(V),queue:[...oe],stack:[],edgeHighlights:[{from:ae,to:H}],codeLine:6,pseudoLines:["Initialize visited set and queue","Add start node to visited and queue","While queue is not empty:","  Dequeue node u","  For each neighbor v of u:","    If v not visited:","      Mark v visited, enqueue v"],description:`Node ${se(H)} is not visited. Marking as visited and adding to queue.`,output:`BFS: ${Array.from(V).map(M=>se(M)).join(", ")}`}))}z.push({nodes:[...e],edges:[...r],highlights:[],visited:Array.from(V),queue:[],stack:[],edgeHighlights:[],codeLine:0,pseudoLines:["Initialize visited set and queue","Add start node to visited and queue","While queue is not empty:","  Dequeue node u","  For each neighbor v of u:","    If v not visited:","      Mark v visited, enqueue v"],description:"BFS traversal completed.",output:`BFS: ${Array.from(V).map(ae=>se(ae)).join(", ")}`}),c(z),h(0),v(!0)},re=()=>{const L=Ye(g);if(L===null){alert("Invalid start node");return}Fe(),Le(),p("dfs");const z=[],J=G(),V=new Set,oe=[],ae=le=>{oe.push(le),V.add(le),z.push({nodes:[...e],edges:[...r],highlights:[le],visited:Array.from(V),queue:[],stack:[...oe],edgeHighlights:[],codeLine:0,pseudoLines:["Function DFS(u):","  Mark u as visited","  For each neighbor v of u:","    If v not visited:","      DFS(v)"],description:`Visiting node ${se(le)}.`,output:`DFS: ${Array.from(V).map(M=>se(M)).join(", ")}`});const H=J[le]||[];for(const M of H)z.push({nodes:[...e],edges:[...r],highlights:[le],visited:Array.from(V),queue:[],stack:[...oe],edgeHighlights:[{from:le,to:M}],codeLine:2,pseudoLines:["Function DFS(u):","  Mark u as visited","  For each neighbor v of u:","    If v not visited:","      DFS(v)"],description:`Checking neighbor ${se(M)} of node ${se(le)}.`,output:`DFS: ${Array.from(V).map(ee=>se(ee)).join(", ")}`}),V.has(M)||ae(M);oe.pop()};ae(L),z.push({nodes:[...e],edges:[...r],highlights:[],visited:Array.from(V),queue:[],stack:[],edgeHighlights:[],codeLine:0,pseudoLines:["Function DFS(u):","  Mark u as visited","  For each neighbor v of u:","    If v not visited:","      DFS(v)"],description:"DFS traversal completed.",output:`DFS: ${Array.from(V).map(le=>se(le)).join(", ")}`}),c(z),h(0),v(!0)},fe=()=>{const L=Ye(g);if(L===null){alert("Invalid start node");return}Fe(),Le(),p("dijkstra");const z=[],J=G(),V={},oe={};e.forEach(M=>{V[M.id]=1/0,oe[M.id]=null}),V[L]=0;const ae=[{node:L,dist:0}],le=new Set,H=()=>{const M=[];return Object.entries(oe).forEach(([ee,pe])=>{pe!==null&&M.push({from:pe,to:parseInt(ee)})}),M};for(z.push({nodes:[...e],edges:[...r],highlights:[],visited:[],queue:[L],stack:[],edgeHighlights:[],codeLine:0,pseudoLines:["Init dist = infinity, dist[start] = 0","Push (0, start) to PQ","While PQ not empty:","  u = PQ.pop()","  For v in adj[u]:","    if dist[u] + w < dist[v]:","      dist[v] = dist[u] + w","      PQ.push(dist[v], v)"],description:`Dijkstra started. Initialized distances to infinity, dist[${se(L)}] = 0.`});ae.length>0;){ae.sort((ge,Ve)=>ge.dist-Ve.dist);const{node:M,dist:ee}=ae.shift();if(ee>V[M])continue;le.add(M),z.push({nodes:[...e],edges:[...r],highlights:[M],visited:Array.from(le),queue:ae.map(ge=>ge.node),stack:[],edgeHighlights:H(),codeLine:2,pseudoLines:["Init dist = infinity, dist[start] = 0","Push (0, start) to PQ","While PQ not empty:","  u = PQ.pop()","  For v in adj[u]:","    if dist[u] + w < dist[v]:","      dist[v] = dist[u] + w","      PQ.push(dist[v], v)"],description:`Processing node ${se(M)} with distance ${ee}.`});const pe=J[M]||[];for(const ge of pe){const Ve=r.find(et=>et.from===M&&et.to===ge||!s&&et.from===ge&&et.to===M),rt=o&&Ve?Ve.weight:1;z.push({nodes:[...e],edges:[...r],highlights:[M],visited:Array.from(le),queue:ae.map(et=>et.node),stack:[],edgeHighlights:[...H(),{from:M,to:ge}],codeLine:4,pseudoLines:["Init dist = infinity, dist[start] = 0","Push (0, start) to PQ","While PQ not empty:","  u = PQ.pop()","  For v in adj[u]:","    if dist[u] + w < dist[v]:","      dist[v] = dist[u] + w","      PQ.push(dist[v], v)"],description:`Checking neighbor ${se(ge)} with weight ${rt}.`}),V[M]+rt<V[ge]&&(V[ge]=V[M]+rt,oe[ge]=M,ae.push({node:ge,dist:V[ge]}),z.push({nodes:[...e],edges:[...r],highlights:[M,ge],visited:Array.from(le),queue:ae.map(et=>et.node),stack:[],edgeHighlights:[...H(),{from:M,to:ge}],codeLine:6,pseudoLines:["Init dist = infinity, dist[start] = 0","Push (0, start) to PQ","While PQ not empty:","  u = PQ.pop()","  For v in adj[u]:","    if dist[u] + w < dist[v]:","      dist[v] = dist[u] + w","      PQ.push(dist[v], v)"],description:`Relaxed edge (${se(M)}, ${se(ge)}). New distance to ${se(ge)} is ${V[ge]}.`}))}}z.push({nodes:[...e],edges:[...r],highlights:[],visited:Array.from(le),queue:[],stack:[],edgeHighlights:H(),codeLine:0,pseudoLines:["Init dist = infinity, dist[start] = 0","Push (0, start) to PQ","While PQ not empty:","  u = PQ.pop()","  For v in adj[u]:","    if dist[u] + w < dist[v]:","      dist[v] = dist[u] + w","      PQ.push(dist[v], v)"],description:"Dijkstra completed."}),c(z),h(0),v(!0)},ce=()=>{const L=Ye(g);if(L===null){alert("Invalid start node");return}Fe(),Le(),p("prim");const z=[],J=G(),V=[],oe=new Set;oe.add(L);let ae=[];const le=H=>{const M=J[H]||[];for(const ee of M)if(!oe.has(ee)){const pe=r.find(Ve=>Ve.from===H&&Ve.to===ee||!s&&Ve.from===ee&&Ve.to===H),ge=o&&pe?pe.weight:1;ae.push({from:H,to:ee,weight:ge})}};for(le(L),z.push({nodes:[...e],edges:[...r],highlights:[L],visited:[L],queue:[],stack:[],edgeHighlights:[],codeLine:0,pseudoLines:["Init MST set, visited = {start}","Add edges from start to cut","While visited != V:","  Pick min weight edge (u, v) from cut where v not visited","  Add v to visited, add (u, v) to MST","  Add edges from v to cut"],description:`Prim's Algorithm started. Added start node ${se(L)} to visited.`});oe.size<e.length&&ae.length>0;){ae.sort((ge,Ve)=>ge.weight-Ve.weight);let H=ae.shift();for(;H&&oe.has(H.to);)H=ae.shift();if(!H)break;const{from:M,to:ee,weight:pe}=H;oe.add(ee),V.push({from:M,to:ee,weight:pe}),z.push({nodes:[...e],edges:[...r],highlights:[ee],visited:Array.from(oe),queue:[],stack:[],edgeHighlights:V.map(ge=>({from:ge.from,to:ge.to})),codeLine:3,pseudoLines:["Init MST set, visited = {start}","Add edges from start to cut","While visited != V:","  Pick min weight edge (u, v) from cut where v not visited","  Add v to visited, add (u, v) to MST","  Add edges from v to cut"],description:`Picked minimum edge (${se(M)}, ${se(ee)}) with weight ${pe}. Added ${se(ee)} to MST.`}),le(ee),z.push({nodes:[...e],edges:[...r],highlights:[ee],visited:Array.from(oe),queue:[],stack:[],edgeHighlights:V.map(ge=>({from:ge.from,to:ge.to})),codeLine:5,pseudoLines:["Init MST set, visited = {start}","Add edges from start to cut","While visited != V:","  Pick min weight edge (u, v) from cut where v not visited","  Add v to visited, add (u, v) to MST","  Add edges from v to cut"],description:`Added edges from ${se(ee)} to the cut.`})}c(z),h(0),v(!0)},ne=()=>{Fe(),Le(),p("kruskal");const L=[],z=[...r].sort((H,M)=>(o?H.weight:1)-(o?M.weight:1)),J={};e.forEach(H=>J[H.id]=H.id);const V=H=>J[H]===H?H:V(J[H]),oe=(H,M)=>{const ee=V(H),pe=V(M);return ee!==pe?(J[ee]=pe,!0):!1},ae=[],le=new Set;L.push({nodes:[...e],edges:[...r],highlights:[],visited:[],queue:[],stack:[],edgeHighlights:[],codeLine:0,pseudoLines:["Sort all edges by weight","Init Union-Find","For each edge (u, v) in sorted edges:","  check if u and v in same set","  if not, union(u, v) and add to MST"],description:"Kruskal's Algorithm started. Edges sorted by weight."});for(const H of z){const M=H.from,ee=H.to;L.push({nodes:[...e],edges:[...r],highlights:[M,ee],visited:Array.from(le),queue:[],stack:[],edgeHighlights:[...ae.map(pe=>({from:pe.from,to:pe.to})),{from:M,to:ee}],codeLine:2,pseudoLines:["Sort all edges by weight","Init Union-Find","For each edge (u, v) in sorted edges:","  check if u and v in same set","  if not, union(u, v) and add to MST"],description:`Checking edge (${se(M)}, ${se(ee)}) with weight ${H.weight}.`}),oe(M,ee)?(ae.push(H),le.add(M),le.add(ee),L.push({nodes:[...e],edges:[...r],highlights:[M,ee],visited:Array.from(le),queue:[],stack:[],edgeHighlights:ae.map(pe=>({from:pe.from,to:pe.to})),codeLine:4,pseudoLines:["Sort all edges by weight","Init Union-Find","For each edge (u, v) in sorted edges:","  check if u and v in same set","  if not, union(u, v) and add to MST"],description:`Added edge (${se(M)}, ${se(ee)}) to MST.`})):L.push({nodes:[...e],edges:[...r],highlights:[],visited:Array.from(le),queue:[],stack:[],edgeHighlights:ae.map(pe=>({from:pe.from,to:pe.to})),codeLine:3,pseudoLines:["Sort all edges by weight","Init Union-Find","For each edge (u, v) in sorted edges:","  check if u and v in same set","  if not, union(u, v) and add to MST"],description:`Edge (${se(M)}, ${se(ee)}) forms a cycle. Skipped.`})}L.push({nodes:[...e],edges:[...r],highlights:[],visited:Array.from(le),queue:[],stack:[],edgeHighlights:ae.map(H=>({from:H.from,to:H.to})),codeLine:0,pseudoLines:["Sort all edges by weight","Init Union-Find","For each edge (u, v) in sorted edges:","  check if u and v in same set","  if not, union(u, v) and add to MST"],description:`Kruskal's Algorithm completed. MST size: ${ae.length}.`}),c(L),h(0),v(!0)},be=()=>{Fe(),Le(),p("boruvka");const L=[],z={};e.forEach(H=>z[H.id]=H.id);const J=H=>z[H]===H?H:J(z[H]),V=(H,M)=>{const ee=J(H),pe=J(M);return ee!==pe?(z[ee]=pe,!0):!1},oe=[];let ae=e.length;const le=new Set;for(L.push({nodes:[...e],edges:[...r],highlights:[],visited:[],queue:[],stack:[],edgeHighlights:[],codeLine:0,pseudoLines:["Init components (each node is a component)","While numTrees > 1:","  Find cheapest edge for each component","  Add valid cheapest edges to MST","  Merge components"],description:`Boruvka's Algorithm started. Components: ${ae}.`});ae>1&&oe.length<e.length-1;){const H={};e.forEach(pe=>H[pe.id]=null);for(const pe of r){const ge=pe.from,Ve=pe.to,rt=J(ge),et=J(Ve);if(rt!==et){const nt=o?pe.weight:1;(H[rt]===null||(o?H[rt].weight:1)>nt)&&(H[rt]=pe),(H[et]===null||(o?H[et].weight:1)>nt)&&(H[et]=pe)}}const M=Object.values(H).filter(pe=>pe!==null);L.push({nodes:[...e],edges:[...r],highlights:[...e.map(pe=>pe.id)],visited:Array.from(le),queue:[],stack:[],edgeHighlights:[...oe.map(pe=>({from:pe.from,to:pe.to})),...M.map(pe=>({from:pe.from,to:pe.to}))],codeLine:2,pseudoLines:["Init components (each node is a component)","While numTrees > 1:","  Find cheapest edge for each component","  Add valid cheapest edges to MST","  Merge components"],description:"Identified cheapest outgoing edges for components."});let ee=!1;for(const pe in H){const ge=H[pe];if(ge){const Ve=J(ge.from),rt=J(ge.to);Ve!==rt&&V(Ve,rt)&&(oe.push(ge),le.add(ge.from),le.add(ge.to),ae--,ee=!0,L.push({nodes:[...e],edges:[...r],highlights:[ge.from,ge.to],visited:Array.from(le),queue:[],stack:[],edgeHighlights:oe.map(et=>({from:et.from,to:et.to})),codeLine:3,pseudoLines:["Init components (each node is a component)","While numTrees > 1:","  Find cheapest edge for each component","  Add valid cheapest edges to MST","  Merge components"],description:`Added edge (${se(ge.from)}, ${se(ge.to)}) connecting components.`}))}}if(!ee)break}L.push({nodes:[...e],edges:[...r],highlights:[],visited:Array.from(le),queue:[],stack:[],edgeHighlights:oe.map(H=>({from:H.from,to:H.to})),codeLine:0,pseudoLines:["Init components (each node is a component)","While numTrees > 1:","  Find cheapest edge for each component","  Add valid cheapest edges to MST","  Merge components"],description:`Boruvka's Algorithm completed. MST size: ${oe.length}.`}),c(L),h(0),v(!0)},Ce=()=>{const L=Ye(g);if(L===null){alert("Invalid start node");return}Fe(),Le(),p("nodeDegree");const z=[];z.push({nodes:[...e],edges:[...r],highlights:[L],visited:[],queue:[],stack:[],edgeHighlights:[],codeLine:0,pseudoLines:["Find the node","Count all edges safely connected to it"],description:`Starting Node Degree check for node ${se(L)}.`});const J=r.filter(H=>H.from===L||H.to===L);let V=0,oe=0,ae=0;const le=[];J.forEach(H=>{le.push({from:H.from,to:H.to}),s?(H.from===L&&oe++,H.to===L&&V++,ae=V+oe):ae++;const M=s?`(In: ${V}, Out: ${oe}, Total: ${ae})`:`(Total Degree: ${ae})`;z.push({nodes:[...e],edges:[...r],highlights:[L],visited:[],queue:[],stack:[],edgeHighlights:[...le],codeLine:1,pseudoLines:["Find the node","Count all edges safely connected to it"],description:`Found connected edge between ${se(H.from)} and ${se(H.to)}. Current Degree: ${M}`})}),z.push({nodes:[...e],edges:[...r],highlights:[L],visited:[],queue:[],stack:[],edgeHighlights:[...le],codeLine:0,pseudoLines:["Find the node","Count all edges safely connected to it"],description:`Check complete! ${s?`In-Degree: ${V}, Out-Degree: ${oe}`:`Total Degree: ${ae}`}`}),c(z),h(0),v(!0)},$e=()=>{const L=Ye(g);if(L===null){alert("Invalid start node");return}Fe(),Le(),p("neighbors");const z=[],V=G()[L]||[];z.push({nodes:[...e],edges:[...r],highlights:[L],visited:[],queue:[],stack:[],edgeHighlights:[],codeLine:0,pseudoLines:["Find target node","Highlight all immediate neighbors (1-hop)"],description:`Highlighting neighbors for node ${se(L)}.`});const oe=V.map(ae=>({from:L,to:ae}));z.push({nodes:[...e],edges:[...r],highlights:[L,...V],visited:[],queue:[],stack:[],edgeHighlights:oe,codeLine:1,pseudoLines:["Find target node","Highlight all immediate neighbors (1-hop)"],description:`Node ${se(L)} has ${V.length} neighbor(s): ${V.map(ae=>se(ae)).join(", ")||"None"}`}),c(z),h(0),v(!0)},Be=()=>{Fe(),Le(),p("connectivity");const L=[],z=G(),J=new Set;let V=0;L.push({nodes:[...e],edges:[...r],highlights:[],visited:[],queue:[],stack:[],edgeHighlights:[],codeLine:0,pseudoLines:["For each node:","  If not visited, start a new traversal","  Mark all reachable nodes as same component","Count distinct components"],description:"Starting Connectivity Check. Sweeping graph to find isolated components."});for(const ae of e)if(!J.has(ae.id)){V++;const le=[],H=[ae.id];for(J.add(ae.id),L.push({nodes:[...e],edges:[...r],highlights:[ae.id],visited:Array.from(J),queue:[],stack:[],edgeHighlights:[],codeLine:1,pseudoLines:["For each node:","  If not visited, start a new traversal","  Mark all reachable nodes as same component","Count distinct components"],description:`Found unvisited node ${se(ae.id)}. Starting Component #${V}.`});H.length>0;){const M=H.shift();le.push(M);for(const ee of z[M]||[])J.has(ee)||(J.add(ee),H.push(ee))}L.push({nodes:[...e],edges:[...r],highlights:le,visited:Array.from(J),queue:[],stack:[],edgeHighlights:[],codeLine:2,pseudoLines:["For each node:","  If not visited, start a new traversal","  Mark all reachable nodes as same component","Count distinct components"],description:`Component #${V} contains ${le.length} nodes: ${le.map(M=>se(M)).join(", ")}`})}const oe=V===1?s?"Graph is Weakly/Strongly Connected.":"Graph is Fully Connected.":`Graph is Disconnected! Found ${V} isolated components.`;L.push({nodes:[...e],edges:[...r],highlights:[],visited:[...e.map(ae=>ae.id)],queue:[],stack:[],edgeHighlights:[],codeLine:3,pseudoLines:["For each node:","  If not visited, start a new traversal","  Mark all reachable nodes as same component","Count distinct components"],description:oe}),c(L),h(0),v(!0)},je=()=>{Fe(),Le(),p("detectCycle");const L=[],z=G();L.push({nodes:[...e],edges:[...r],highlights:[],visited:[],queue:[],stack:[],edgeHighlights:[],codeLine:0,pseudoLines:["Run DFS from each unvisited node","Keep track of the recursion 'stack'","If we see a node already in the current stack:","  Cycle detected!"],description:"Starting Cycle Detection..."});const J=new Set,V=new Set;let oe=!1;const ae=(H,M)=>{J.add(H);for(const ee of z[H]||[])if(J.has(ee)){if(ee!==M)return!0}else if(ae(ee,H))return!0;return!1},le=H=>{J.add(H),V.add(H);for(const M of z[H]||[])if(J.has(M)){if(V.has(M))return!0}else if(le(M))return!0;return V.delete(H),!1};for(const H of e)if(!J.has(H.id)&&(s?le(H.id):ae(H.id,-1))){oe=!0;break}oe?L.push({nodes:[...e],edges:[...r],highlights:[],visited:[],queue:[],stack:[],edgeHighlights:[],codeLine:3,pseudoLines:["Run DFS from each unvisited node","Keep track of the recursion 'stack'","If we see a node already in the current stack:","  Cycle detected!"],description:"Cycle Detected! The graph contains at least one cycle (a closed loop)."}):L.push({nodes:[...e],edges:[...r],highlights:[],visited:[],queue:[],stack:[],edgeHighlights:[],codeLine:4,pseudoLines:["Run DFS from each unvisited node","Keep track of the recursion 'stack'","If we see a node already in the current stack:","  Cycle detected!"],description:`No cycles found. This graph is Acyclic${!s&&J.size===e.length?" (It is a Tree/Forest)":""}.`}),c(L),h(0),v(!0)},Ge=()=>{Fe(),Le(),p("bellmanFord");const L=[],z=e.length;if(z===0)return;const J=g!==null?g:e[0].id,V={},oe={};e.forEach(H=>{V[H.id]=1/0,oe[H.id]=null}),V[J]=0,L.push({nodes:[...e],edges:[...r],highlights:[J],visited:[],queue:[],stack:[],edgeHighlights:[],codeLine:0,pseudoLines:["dist = [Infinity] * V",`dist[${se(J)}] = 0`,"for i from 1 to V-1:","  for each edge (u, v, w):","    if dist[u] + w < dist[v]:","      dist[v] = dist[u] + w","for each edge (u, v, w):","  if dist[u] + w < dist[v]:","    Negative Cycle Detected!"],description:`Initializing distances. Distance to start node ${se(J)} is 0, others Infinity.`,distances:{...V}});for(let H=1;H<=z-1;H++){let M=!1;L.push({nodes:[...e],edges:[...r],highlights:[],visited:[],queue:[],stack:[],edgeHighlights:[],codeLine:2,pseudoLines:["dist = [Infinity] * V",`dist[${se(J)}] = 0`,`for i from 1 to V-1 (Iteration ${H}):`,"  for each edge (u, v, w):","    if dist[u] + w < dist[v]:","      dist[v] = dist[u] + w","for each edge (u, v, w):","  if dist[u] + w < dist[v]:","    Negative Cycle Detected!"],description:`Iteration ${H} of ${z-1}: Relaxing all edges.`,distances:{...V}});for(const ee of r){const pe=ee.from,ge=ee.to,Ve=ee.weight||0;L.push({nodes:[...e],edges:[...r],highlights:[pe,ge],visited:[],queue:[],stack:[],edgeHighlights:[{from:pe,to:ge}],codeLine:3,pseudoLines:["dist = [Infinity] * V",`dist[${se(J)}] = 0`,"for i from 1 to V-1:","  for each edge (u, v, w):","    if dist[u] + w < dist[v]:","      dist[v] = dist[u] + w","for each edge (u, v, w):","  if dist[u] + w < dist[v]:","    Negative Cycle Detected!"],description:`Checking edge ${se(pe)}->${se(ge)} (weight ${Ve}). dist[${se(pe)}] = ${V[pe]===1/0?"":V[pe]}, dist[${se(ge)}] = ${V[ge]===1/0?"":V[ge]}`,distances:{...V}}),V[pe]!==1/0&&V[pe]+Ve<V[ge]&&(V[ge]=V[pe]+Ve,oe[ge]=pe,M=!0,L.push({nodes:[...e],edges:[...r],highlights:[ge],visited:[],queue:[],stack:[],edgeHighlights:[{from:pe,to:ge}],codeLine:5,pseudoLines:["dist = [Infinity] * V",`dist[${se(J)}] = 0`,"for i from 1 to V-1:","  for each edge (u, v, w):","    if dist[u] + w < dist[v]:","      dist[v] = dist[u] + w","for each edge (u, v, w):","  if dist[u] + w < dist[v]:","    Negative Cycle Detected!"],description:`Relaxed! dist[${se(ge)}] is now ${V[ge]}.`,distances:{...V}})),s||(L.push({nodes:[...e],edges:[...r],highlights:[ge,pe],visited:[],queue:[],stack:[],edgeHighlights:[{from:pe,to:ge}],codeLine:3,pseudoLines:["dist = [Infinity] * V",`dist[${se(J)}] = 0`,"for i from 1 to V-1:","  for each edge (u, v, w):","    if dist[u] + w < dist[v]:","      dist[v] = dist[u] + w","for each edge (u, v, w):","  if dist[u] + w < dist[v]:","    Negative Cycle Detected!"],description:`Checking reverse edge ${se(ge)}->${se(pe)} (weight ${Ve}).`,distances:{...V}}),V[ge]!==1/0&&V[ge]+Ve<V[pe]&&(V[pe]=V[ge]+Ve,oe[pe]=ge,M=!0,L.push({nodes:[...e],edges:[...r],highlights:[pe],visited:[],queue:[],stack:[],edgeHighlights:[{from:pe,to:ge}],codeLine:5,pseudoLines:["dist = [Infinity] * V",`dist[${se(J)}] = 0`,"for i from 1 to V-1:","  for each edge (u, v, w):","    if dist[u] + w < dist[v]:","      dist[v] = dist[u] + w","for each edge (u, v, w):","  if dist[u] + w < dist[v]:","    Negative Cycle Detected!"],description:`Relaxed! dist[${se(pe)}] is now ${V[pe]}.`,distances:{...V}})))}if(!M){L.push({nodes:[...e],edges:[...r],highlights:[],visited:[],queue:[],stack:[],edgeHighlights:[],codeLine:-1,pseudoLines:["dist = [Infinity] * V",`dist[${se(J)}] = 0`,"for i from 1 to V-1:","  for each edge (u, v, w):","    if dist[u] + w < dist[v]:","      dist[v] = dist[u] + w","for each edge (u, v, w):","  if dist[u] + w < dist[v]:","    Negative Cycle Detected!"],description:`Optimization: No edges relaxed during iteration ${H}. Algorithm can terminate early.`,distances:{...V}});break}}let ae=!1;L.push({nodes:[...e],edges:[...r],highlights:[],visited:[],queue:[],stack:[],edgeHighlights:[],codeLine:6,pseudoLines:["dist = [Infinity] * V",`dist[${se(J)}] = 0`,"for i from 1 to V-1:","  for each edge (u, v, w):","    if dist[u] + w < dist[v]:","      dist[v] = dist[u] + w","for each edge (u, v, w):","  if dist[u] + w < dist[v]:","    Negative Cycle Detected!"],description:"Checking for negative weight cycles.",distances:{...V}});for(const H of r){const M=H.from,ee=H.to,pe=H.weight||0;if(V[M]!==1/0&&V[M]+pe<V[ee]){ae=!0,L.push({nodes:[...e],edges:[...r],highlights:[M,ee],visited:[],queue:[],stack:[],edgeHighlights:[{from:M,to:ee}],codeLine:8,pseudoLines:["dist = [Infinity] * V",`dist[${se(J)}] = 0`,"for i from 1 to V-1:","  for each edge (u, v, w):","    if dist[u] + w < dist[v]:","      dist[v] = dist[u] + w","for each edge (u, v, w):","  if dist[u] + w < dist[v]:","    Negative Cycle Detected!"],description:`Negative Weight Cycle Detected along edge ${se(M)}->${se(ee)}!`,distances:{...V}});break}if(!s&&V[ee]!==1/0&&V[ee]+pe<V[M]){ae=!0,L.push({nodes:[...e],edges:[...r],highlights:[ee,M],visited:[],queue:[],stack:[],edgeHighlights:[{from:M,to:ee}],codeLine:8,pseudoLines:["dist = [Infinity] * V",`dist[${se(J)}] = 0`,"for i from 1 to V-1:","  for each edge (u, v, w):","    if dist[u] + w < dist[v]:","      dist[v] = dist[u] + w","for each edge (u, v, w):","  if dist[u] + w < dist[v]:","    Negative Cycle Detected!"],description:`Negative Weight Cycle Detected along reverse edge ${se(ee)}->${se(M)}!`,distances:{...V}});break}}const le=[];ae||e.forEach(H=>{const M=oe[H.id];M!==null&&le.push({from:M,to:H.id})}),L.push({nodes:[...e],edges:[...r],highlights:[],visited:[],queue:[],stack:[],edgeHighlights:le,codeLine:-1,pseudoLines:["dist = [Infinity] * V",`dist[${se(J)}] = 0`,"for i from 1 to V-1:","  for each edge (u, v, w):","    if dist[u] + w < dist[v]:","      dist[v] = dist[u] + w","for each edge (u, v, w):","  if dist[u] + w < dist[v]:","    Negative Cycle Detected!"],description:ae?"Bellman-Ford failed due to a negative-weight cycle.":"Bellman-Ford completed. Shortest paths found!",distances:{...V}}),c(L),h(0),v(!0)},$=()=>{Fe(),Le(),p("floydWarshall");const L=[],z=e.length;if(z===0)return;const J={};e.forEach(le=>{J[le.id]={},e.forEach(H=>{J[le.id][H.id]=le.id===H.id?0:1/0})}),r.forEach(le=>{const H=le.from,M=le.to,ee=le.weight||0;J[H][M]=Math.min(J[H][M],ee),s||(J[M][H]=Math.min(J[M][H],ee))});const V=()=>{const le={};return e.forEach(H=>{le[H.id]={},e.forEach(M=>{le[H.id][M.id]=J[H.id][M.id]===1/0?"":J[H.id][M.id]})}),le},oe=["dist = matrix initialized to Infinity","for each edge (u, v, weight): dist[u][v] = weight","for k from 1 to V:","  for i from 1 to V:","    for j from 1 to V:","      if dist[i][k] + dist[k][j] < dist[i][j]:","        dist[i][j] = dist[i][k] + dist[k][j]"];L.push({nodes:[...e],edges:[...r],highlights:[],visited:[],queue:[],stack:[],edgeHighlights:[],codeLine:0,pseudoLines:oe,description:"Initializing all-pairs distance matrix with given edges.",distances2D:V()});for(let le=0;le<z;le++){const H=e[le];L.push({nodes:[...e],edges:[...r],highlights:[H.id],visited:[],queue:[],stack:[],edgeHighlights:[],codeLine:2,pseudoLines:oe,description:`Considering node ${se(H.id)} as an intermediate vertex (k).`,distances2D:V()});for(let M=0;M<z;M++){const ee=e[M];if(M!==le)for(let pe=0;pe<z;pe++){const ge=e[pe];if(!(pe===le||M===pe)&&J[ee.id][H.id]!==1/0&&J[H.id][ge.id]!==1/0){const Ve=J[ee.id][H.id]+J[H.id][ge.id];L.push({nodes:[...e],edges:[...r],highlights:[H.id,ee.id,ge.id],visited:[],queue:[],stack:[],edgeHighlights:[],codeLine:5,pseudoLines:oe,description:`Checking path ${se(ee.id)} -> ${se(H.id)} -> ${se(ge.id)}. Distance is ${J[ee.id][H.id]} + ${J[H.id][ge.id]} = ${Ve}, current shortest is ${J[ee.id][ge.id]===1/0?"":J[ee.id][ge.id]}`,distances2D:V()}),Ve<J[ee.id][ge.id]&&(J[ee.id][ge.id]=Ve,L.push({nodes:[...e],edges:[...r],highlights:[H.id,ee.id,ge.id],visited:[],queue:[],stack:[],edgeHighlights:[],codeLine:6,pseudoLines:oe,description:`Shorter path found! dist[${se(ee.id)}][${se(ge.id)}] updated to ${Ve}.`,distances2D:V()}))}}}}let ae=!1;for(let le=0;le<z;le++)if(J[e[le].id][e[le].id]<0){ae=!0;break}L.push({nodes:[...e],edges:[...r],highlights:[],visited:[],queue:[],stack:[],edgeHighlights:[],codeLine:-1,pseudoLines:oe,description:ae?"Negative weight cycle detected (diagonal has negative values)!":"Floyd-Warshall completed. All pairs shortest paths calculated.",distances2D:V()}),c(L),h(0),v(!0)},A=()=>{Fe(),Le(),p("aStar");const L=[];if(e.length===0)return;const z=g!==null?g:e[0].id;let J=e[e.length-1].id;J===z&&e.length>1&&(J=e[e.length-2].id);const V=e.find(et=>et.id===J);if(!V)return;const oe=et=>{const nt=e.find(Fn=>Fn.id===et);return nt?Math.sqrt(Math.pow(nt.x-V.x,2)+Math.pow(nt.y-V.y,2)):1/0},ae={},le={},H={};e.forEach(et=>{ae[et.id]=1/0,le[et.id]="",H[et.id]=null}),ae[z]=0,le[z]=oe(z).toFixed(1);const M=new Set([z]),ee=new Set,pe=G(),ge=["gScore[start] = 0, fScore[start] = h(start)","openSet = {start}","while openSet is not empty:","  current = node in openSet with lowest fScore","  if current == target:","    return RECONSTRUCT_PATH()","  openSet.remove(current), closedSet.add(current)","  for each neighbor of current:","    tentative_gScore = gScore[current] + weight(current, neighbor)","    if tentative_gScore < gScore[neighbor]:","      gScore[neighbor] = tentative_gScore","      fScore[neighbor] = tentative_gScore + h(neighbor)","      if neighbor not in openSet:","        openSet.add(neighbor)"];L.push({nodes:[...e],edges:[...r],highlights:[z,J],visited:[],queue:[],stack:[],edgeHighlights:[],codeLine:0,pseudoLines:ge,description:`A* Search starting. Start Node: ${se(z)}, Target Node: ${se(J)}.
h(n) = Euclidean distance to target. Displying fScore = g(n) + h(n)`,distances:{...le}});const Ve=[];let rt=!1;for(;M.size>0;){const nt=Array.from(M).reduce((st,Ts)=>Number(le[st])<Number(le[Ts])?st:Ts);if(L.push({nodes:[...e],edges:[...r],highlights:[nt],visited:Array.from(ee),queue:Array.from(M),stack:[],edgeHighlights:[...Ve],codeLine:3,pseudoLines:ge,description:`Selected ${se(nt)} from openSet with lowest fScore: ${le[nt]}.`,distances:{...le}}),nt===J){rt=!0,L.push({nodes:[...e],edges:[...r],highlights:[nt],visited:Array.from(ee),queue:Array.from(M),stack:[],edgeHighlights:[...Ve],codeLine:5,pseudoLines:ge,description:`Target ${se(J)} reached! Reconstructing path...`,distances:{...le}});break}M.delete(nt),ee.add(nt),L.push({nodes:[...e],edges:[...r],highlights:[nt],visited:Array.from(ee),queue:Array.from(M),stack:[],edgeHighlights:[...Ve],codeLine:6,pseudoLines:ge,description:`Moved ${se(nt)} to closedSet. Checking neighbors...`,distances:{...le}});const Fn=pe[nt]||[];for(const st of Fn){if(ee.has(st))continue;const Ts=r.find(fn=>fn.from===nt&&fn.to===st||!s&&fn.from===st&&fn.to===nt),dc=Ts&&Ts.weight||1,bo=ae[nt]+dc;if(L.push({nodes:[...e],edges:[...r],highlights:[st,nt],visited:Array.from(ee),queue:Array.from(M),stack:[],edgeHighlights:[...Ve,{from:nt,to:st}],codeLine:8,pseudoLines:ge,description:`Checking neighbor ${se(st)}. Tentative gScore: ${ae[nt]} + ${dc} = ${bo}. Current gScore: ${ae[st]===1/0?"":ae[st]}.`,distances:{...le}}),bo<ae[st]){H[st]=nt,ae[st]=bo;const fn=oe(st);le[st]=(ae[st]+fn).toFixed(1),Ve.push({from:nt,to:st}),M.has(st)||M.add(st),L.push({nodes:[...e],edges:[...r],highlights:[st],visited:Array.from(ee),queue:Array.from(M),stack:[],edgeHighlights:[...Ve],codeLine:10,pseudoLines:ge,description:`Found shorter path to ${se(st)}. Updated gScore=${ae[st]}, h=${fn.toFixed(1)}, fScore=${le[st]}. Added to openSet.`,distances:{...le}})}}}if(!rt)L.push({nodes:[...e],edges:[...r],highlights:[],visited:Array.from(ee),queue:Array.from(M),stack:[],edgeHighlights:[...Ve],codeLine:-1,pseudoLines:ge,description:`Open set exhausted. Target ${se(J)} is unreachable from ${se(z)}.`,distances:{...le}});else{const et=[];let nt=J;const Fn=[];for(;nt!==null;){et.unshift(nt);const st=H[nt];st!==null&&Fn.unshift({from:st,to:nt}),nt=st}L.push({nodes:[...e],edges:[...r],highlights:et,visited:Array.from(ee),queue:Array.from(M),stack:[],edgeHighlights:Fn,codeLine:-1,pseudoLines:ge,description:`A* Search Path found! Cost: ${ae[J]}. Path: ${et.map(st=>se(st)).join(" -> ")}`,distances:{...le}})}c(L),h(0),v(!0)},B=()=>{Fe(),Le(),p("topological");const L=[];if(!s){L.push({nodes:[...e],edges:[...r],highlights:[],visited:[],queue:[],stack:[],edgeHighlights:[],codeLine:-1,pseudoLines:["Topological Sort requires a Directed graph."],description:"Graph must be Directed."}),c(L),h(0),v(!0);return}const z=G(),J=new Set,V=new Set,oe=[];let ae=!1;L.push({nodes:[...e],edges:[...r],highlights:[],visited:[],queue:[],stack:[],edgeHighlights:[],codeLine:0,pseudoLines:["Run DFS on graph","If cycle detected, stop (not a DAG)","On DFS post-order, push add to stack","Reverse stack for Topo Order"],description:"Starting Topological Sort (DFS-based)."});const le=H=>{if(!ae){V.add(H),L.push({nodes:[...e],edges:[...r],highlights:[H],visited:Array.from(J),queue:[],stack:[...oe],edgeHighlights:[],codeLine:0,pseudoLines:["Run DFS on graph","If cycle detected, stop (not a DAG)","On DFS post-order, push add to stack","Reverse stack for Topo Order"],description:`Visiting node ${se(H)}.`});for(const M of z[H]||[]){if(ae)return;if(V.has(M)){ae=!0,L.push({nodes:[...e],edges:[...r],highlights:[H,M],visited:Array.from(J),queue:[],stack:[...oe],edgeHighlights:[{from:H,to:M}],codeLine:1,pseudoLines:["Run DFS on graph","If cycle detected, stop (not a DAG)","On DFS post-order, push add to stack","Reverse stack for Topo Order"],description:`Cycle detected at edge ${se(H)} -> ${se(M)}. Graph is not a DAG.`});return}J.has(M)||le(M)}ae||(V.delete(H),J.add(H),oe.push(H),L.push({nodes:[...e],edges:[...r],highlights:[H],visited:Array.from(J),queue:[],stack:[...oe],edgeHighlights:[],codeLine:2,pseudoLines:["Run DFS on graph","If cycle detected, stop (not a DAG)","On DFS post-order, push add to stack","Reverse stack for Topo Order"],description:`Finished DFS for ${se(H)}. Adding to Topological Sort stack.`}))}};for(const H of e){if(ae)break;J.has(H.id)||le(H.id)}if(!ae){const H=oe.reverse();L.push({nodes:[...e],edges:[...r],highlights:[],visited:Array.from(J),queue:[],stack:[...H],edgeHighlights:[],codeLine:3,pseudoLines:["Run DFS on graph","If cycle detected, stop (not a DAG)","On DFS post-order, push add to stack","Reverse stack for Topo Order"],description:`Topological Sort complete! Order: ${H.map(M=>se(M)).join("  ")}`})}c(L),h(0),v(!0)},q=()=>{Fe(),Le(),p("kahn");const L=[];if(!s){L.push({nodes:[...e],edges:[...r],highlights:[],visited:[],queue:[],stack:[],edgeHighlights:[],codeLine:-1,pseudoLines:["Kahn's Algorithm requires a Directed graph."],description:"Graph must be Directed."}),c(L),h(0),v(!0);return}const z=G(),J={};e.forEach(ae=>J[ae.id]=0),r.forEach(ae=>J[ae.to]++);const V=[],oe=[];for(e.forEach(ae=>{J[ae.id]===0&&V.push(ae.id)}),L.push({nodes:[...e],edges:[...r],highlights:[],visited:[],queue:[...V],stack:[],edgeHighlights:[],codeLine:0,pseudoLines:["Compute in-degree of all nodes","Enqueue all nodes with in-degree 0","While queue not empty: dequeue, add to order","  Decrease in-degree of neighbors, enqueue if 0"],description:`Starting Kahn's Algorithm. Found nodes with 0 in-degree: ${V.length>0?V.map(ae=>se(ae)).join(", "):"None"}`});V.length>0;){const ae=V.shift();oe.push(ae),L.push({nodes:[...e],edges:[...r],highlights:[ae],visited:[...oe],queue:[...V],stack:[],edgeHighlights:[],codeLine:2,pseudoLines:["Compute in-degree of all nodes","Enqueue all nodes with in-degree 0","While queue not empty: dequeue, add to order","  Decrease in-degree of neighbors, enqueue if 0"],description:`Dequeued node ${se(ae)} and added to topological order.`});for(const le of z[ae]||[]){J[le]--;const H={from:ae,to:le};let M=`Decreased in-degree of neighbor ${se(le)} to ${J[le]}.`;J[le]===0&&(V.push(le),M+=` Node ${se(le)} now has 0 in-degree. Enqueuing.`),L.push({nodes:[...e],edges:[...r],highlights:[ae,le],visited:[...oe],queue:[...V],stack:[],edgeHighlights:[H],codeLine:3,pseudoLines:["Compute in-degree of all nodes","Enqueue all nodes with in-degree 0","While queue not empty: dequeue, add to order","  Decrease in-degree of neighbors, enqueue if 0"],description:M})}}oe.length===e.length?L.push({nodes:[...e],edges:[...r],highlights:[],visited:[...oe],queue:[],stack:[],edgeHighlights:[],codeLine:-1,pseudoLines:["Compute in-degree of all nodes","Enqueue all nodes with in-degree 0","While queue not empty: dequeue, add to order","  Decrease in-degree of neighbors, enqueue if 0"],description:`Kahn's Algorithm complete! Order: ${oe.map(ae=>se(ae)).join("  ")}`}):L.push({nodes:[...e],edges:[...r],highlights:[],visited:[...oe],queue:[],stack:[],edgeHighlights:[],codeLine:-1,pseudoLines:["Compute in-degree of all nodes","Enqueue all nodes with in-degree 0","While queue not empty: dequeue, add to order","  Decrease in-degree of neighbors, enqueue if 0"],description:"Graph has a cycle! Could not process all nodes. Remaining nodes have in-degree > 0."}),c(L),h(0),v(!0)},K=()=>{Fe(),Le(),p("tarjan");const L=[],z=G(),J=new Set,V={},oe={},ae={};let le=0;const H=[];L.push({nodes:[...e],edges:[...r],highlights:[],visited:[],queue:[],stack:[],edgeHighlights:[],codeLine:0,pseudoLines:["Run DFS, tracking discovery time & lowest reachable time","If neighbor is visited, update low[u] = min(low[u], disc[v])","If unvisited, recurse. Then low[u] = min(low[u], low[v])","If low[v] > disc[u], edge (u, v) is a bridge!"],description:"Starting Tarjan's Bridge-Finding Algorithm. We will run DFS to find critical edges."});const M=ee=>{J.add(ee),V[ee]=oe[ee]=++le,L.push({nodes:[...e],edges:[...r],highlights:[ee],visited:Array.from(J),queue:[],stack:[],edgeHighlights:[...H],codeLine:0,pseudoLines:["Run DFS, tracking discovery time & lowest reachable time","If neighbor is visited, update low[u] = min(low[u], disc[v])","If unvisited, recurse. Then low[u] = min(low[u], low[v])","If low[v] > disc[u], edge (u, v) is a bridge!"],description:`Visited node ${se(ee)} at time ${le}.`});for(const pe of z[ee]||[])J.has(pe)?pe!==ae[ee]&&(oe[ee]=Math.min(oe[ee],V[pe])):(ae[pe]=ee,M(pe),oe[ee]=Math.min(oe[ee],oe[pe]),oe[pe]>V[ee]&&(H.push({from:ee,to:pe}),L.push({nodes:[...e],edges:[...r],highlights:[ee,pe],visited:Array.from(J),queue:[],stack:[],edgeHighlights:[...H],codeLine:3,pseudoLines:["Run DFS, tracking discovery time & lowest reachable time","If neighbor is visited, update low[u] = min(low[u], disc[v])","If unvisited, recurse. Then low[u] = min(low[u], low[v])","If low[v] > disc[u], edge (u, v) is a bridge!"],description:`Bridge found! Edge ${se(ee)}-${se(pe)} is critical to connectivity.`})));L.push({nodes:[...e],edges:[...r],highlights:[ee],visited:Array.from(J),queue:[],stack:[],edgeHighlights:[...H],codeLine:0,pseudoLines:["Run DFS, tracking discovery time & lowest reachable time","If neighbor is visited, update low[u] = min(low[u], disc[v])","If unvisited, recurse. Then low[u] = min(low[u], low[v])","If low[v] > disc[u], edge (u, v) is a bridge!"],description:`Finished checking neighbors for node ${se(ee)}.`})};for(const ee of e)J.has(ee.id)||M(ee.id);L.push({nodes:[...e],edges:[...r],highlights:[],visited:Array.from(J),queue:[],stack:[],edgeHighlights:[...H],codeLine:-1,pseudoLines:["Run DFS, tracking discovery time & lowest reachable time","If neighbor is visited, update low[u] = min(low[u], disc[v])","If unvisited, recurse. Then low[u] = min(low[u], low[v])","If low[v] > disc[u], edge (u, v) is a bridge!"],description:`Algorithm complete. Found ${H.length} bridge(s).`}),c(L),h(0),v(!0)},W=()=>{Fe(),Le(),p("articulation");const L=[],z=G(),J=new Set,V={},oe={},ae={},le=new Set;let H=0;L.push({nodes:[...e],edges:[...r],highlights:[],visited:[],queue:[],stack:[],edgeHighlights:[],codeLine:0,pseudoLines:["Run DFS, tracking discovery time & lowest reachable time","If root has > 1 child, it's an AP","If low[v] >= disc[u], non-root u is an AP"],description:"Starting Articulation Points Algorithm to find Cut Vertices."});const M=ee=>{let pe=0;J.add(ee),V[ee]=oe[ee]=++H,L.push({nodes:[...e],edges:[...r],highlights:[ee,...Array.from(le)],visited:Array.from(J),queue:[],stack:[],edgeHighlights:[],codeLine:0,pseudoLines:["Run DFS, tracking discovery time & lowest reachable time","If root has > 1 child, it's an AP","If low[v] >= disc[u], non-root u is an AP"],description:`Visited node ${se(ee)} at time ${H}.`});for(const ge of z[ee]||[])J.has(ge)?ge!==ae[ee]&&(oe[ee]=Math.min(oe[ee],V[ge])):(pe++,ae[ge]=ee,M(ge),oe[ee]=Math.min(oe[ee],oe[ge]),ae[ee]===void 0&&pe>1&&(le.add(ee),L.push({nodes:[...e],edges:[...r],highlights:[ee,...Array.from(le)],visited:Array.from(J),queue:[],stack:[],edgeHighlights:[],codeLine:1,pseudoLines:["Run DFS, tracking discovery time & lowest reachable time","If root has > 1 child, it's an AP","If low[v] >= disc[u], non-root u is an AP"],description:`Root node ${se(ee)} has >1 children in DFS tree. It is a Cut Vertex!`})),ae[ee]!==void 0&&oe[ge]>=V[ee]&&(le.add(ee),L.push({nodes:[...e],edges:[...r],highlights:[ee,...Array.from(le)],visited:Array.from(J),queue:[],stack:[],edgeHighlights:[],codeLine:2,pseudoLines:["Run DFS, tracking discovery time & lowest reachable time","If root has > 1 child, it's an AP","If low[v] >= disc[u], non-root u is an AP"],description:`Node ${se(ee)} is an Articulation Point! Removing it disconnects the graph.`})))};for(const ee of e)J.has(ee.id)||M(ee.id);L.push({nodes:[...e],edges:[...r],highlights:Array.from(le),visited:Array.from(J),queue:[],stack:[],edgeHighlights:[],codeLine:-1,pseudoLines:["Run DFS, tracking discovery time & lowest reachable time","If root has > 1 child, it's an AP","If low[v] >= disc[u], non-root u is an AP"],description:`Algorithm complete. Found ${le.size} Articulation Point(s).`}),c(L),h(0),v(!0)},S=()=>{var H;Fe(),Le(),p("fordFulkerson");const L=[];if(!s||!o){L.push({nodes:[...e],edges:[...r],highlights:[],visited:[],queue:[],stack:[],edgeHighlights:[],codeLine:-1,pseudoLines:["Ford-Fulkerson requires a Directed, Weighted graph.","Weights represent capacities."],description:"Graph must be Directed and Weighted."}),c(L),h(0),v(!0);return}const z=g!==null?g:e.length>0?e[0].id:-1;let J=z;if(e.forEach(M=>{Number(M.id)>Number(J)&&(J=M.id)}),z===J&&e.length>1&&(J=((H=e.find(M=>M.id!==z))==null?void 0:H.id)||z),z===-1||z===J)return;const V={},oe={};e.forEach(M=>{V[M.id]={},oe[M.id]=[],e.forEach(ee=>{V[M.id][ee.id]=0})}),r.forEach(M=>{V[M.from][M.to]=M.weight||0,oe[M.from].push(M.to),oe[M.to].push(M.from)});let ae=0;L.push({nodes:[...e],edges:[...r],highlights:[z,J],visited:[],queue:[],stack:[],edgeHighlights:[],codeLine:0,pseudoLines:["Let Max Flow = 0","While there is an augmenting path from Source to Sink (using DFS):","  Find bottleneck capacity on path","  Push flow: flow += bottleneck, update residual graph","Return Max Flow"],description:`Starting Ford-Fulkerson. Source: ${se(z)}, Sink: ${se(J)}.`});const le=(M,ee,pe,ge)=>{if(M===J)return ee;pe.add(M);for(const Ve of oe[M])if(!pe.has(Ve)&&V[M][Ve]>0){ge.push({from:M,to:Ve}),L.push({nodes:[...e],edges:[...r],highlights:[Ve],visited:Array.from(pe),queue:[],stack:[],edgeHighlights:[...ge],codeLine:1,pseudoLines:["Let Max Flow = 0","While there is an augmenting path from Source to Sink (using DFS):","  Find bottleneck capacity on path","  Push flow: flow += bottleneck, update residual graph","Return Max Flow"],description:`DFS Traversing edge ${se(M)}->${se(Ve)} with available capacity ${V[M][Ve]}.`});const rt=le(Ve,Math.min(ee,V[M][Ve]),pe,ge);if(rt>0)return rt;ge.pop()}return 0};for(;;){const M=[],pe=le(z,1/0,new Set,M);if(pe===0)break;ae+=pe,M.forEach(ge=>{V[ge.from][ge.to]-=pe,V[ge.to][ge.from]+=pe}),L.push({nodes:[...e],edges:[...r],highlights:[z,J],visited:[],queue:[],stack:[],edgeHighlights:[...M],codeLine:3,pseudoLines:["Let Max Flow = 0","While there is an augmenting path from Source to Sink (using DFS):","  Find bottleneck capacity on path","  Push flow: flow += bottleneck, update residual graph","Return Max Flow"],description:`Found augmenting path! Pushing flow of ${pe}. Current Max Flow: ${ae}.`})}L.push({nodes:[...e],edges:[...r],highlights:[z,J],visited:[],queue:[],stack:[],edgeHighlights:[],codeLine:4,pseudoLines:["Let Max Flow = 0","While there is an augmenting path from Source to Sink (using DFS):","  Find bottleneck capacity on path","  Push flow: flow += bottleneck, update residual graph","Return Max Flow"],description:`Ford-Fulkerson complete. Total Max Flow: ${ae}.`}),c(L),h(0),v(!0)},j=()=>{var H;Fe(),Le(),p("edmondsKarp");const L=[];if(!s||!o){L.push({nodes:[...e],edges:[...r],highlights:[],visited:[],queue:[],stack:[],edgeHighlights:[],codeLine:-1,pseudoLines:["Edmonds-Karp requires a Directed, Weighted graph.","Weights represent capacities."],description:"Graph must be Directed and Weighted."}),c(L),h(0),v(!0);return}const z=g!==null?g:e.length>0?e[0].id:-1;let J=z;if(e.forEach(M=>{Number(M.id)>Number(J)&&(J=M.id)}),z===J&&e.length>1&&(J=((H=e.find(M=>M.id!==z))==null?void 0:H.id)||z),z===-1||z===J)return;const V={},oe={};e.forEach(M=>{V[M.id]={},oe[M.id]=[],e.forEach(ee=>{V[M.id][ee.id]=0})}),r.forEach(M=>{V[M.from][M.to]=M.weight||0,oe[M.from].push(M.to),oe[M.to].push(M.from)});let ae=0;L.push({nodes:[...e],edges:[...r],highlights:[z,J],visited:[],queue:[],stack:[],edgeHighlights:[],codeLine:0,pseudoLines:["Let Max Flow = 0","While there is an augmenting path from Source to Sink (using BFS):","  Find bottleneck capacity on path","  Push flow: flow += bottleneck, update residual graph","Return Max Flow"],description:`Starting Edmonds-Karp. Source: ${se(z)}, Sink: ${se(J)}.`});const le=()=>{const M=new Set,ee=[z],pe={};for(M.add(z);ee.length>0;){const ge=ee.shift();L.push({nodes:[...e],edges:[...r],highlights:[ge],visited:Array.from(M),queue:[...ee],stack:[],edgeHighlights:[],codeLine:1,pseudoLines:["Let Max Flow = 0","While there is an augmenting path from Source to Sink (using BFS):","  Find bottleneck capacity on path","  Push flow: flow += bottleneck, update residual graph","Return Max Flow"],description:`BFS Traversing node ${se(ge)}.`});for(const Ve of oe[ge])if(!M.has(Ve)&&V[ge][Ve]>0&&(M.add(Ve),pe[Ve]=ge,ee.push(Ve),Ve===J)){const rt=[];let et=J;for(;et!==z;)rt.unshift({from:pe[et],to:et}),et=pe[et];return rt}}return null};for(;;){const M=le();if(!M)break;let ee=1/0;M.forEach(pe=>{ee=Math.min(ee,V[pe.from][pe.to])}),ae+=ee,M.forEach(pe=>{V[pe.from][pe.to]-=ee,V[pe.to][pe.from]+=ee}),L.push({nodes:[...e],edges:[...r],highlights:[z,J],visited:[],queue:[],stack:[],edgeHighlights:[...M],codeLine:3,pseudoLines:["Let Max Flow = 0","While there is an augmenting path from Source to Sink (using BFS):","  Find bottleneck capacity on path","  Push flow: flow += bottleneck, update residual graph","Return Max Flow"],description:`Found augmenting path using BFS! Pushing flow of ${ee}. Current Max Flow: ${ae}.`})}L.push({nodes:[...e],edges:[...r],highlights:[z,J],visited:[],queue:[],stack:[],edgeHighlights:[],codeLine:4,pseudoLines:["Let Max Flow = 0","While there is an augmenting path from Source to Sink (using BFS):","  Find bottleneck capacity on path","  Push flow: flow += bottleneck, update residual graph","Return Max Flow"],description:`Edmonds-Karp complete. Total Max Flow: ${ae}.`}),c(L),h(0),v(!0)};y.useEffect(()=>(x&&u<d.length-1?E.current=setTimeout(()=>{h(L=>L+1)},1e3/k):v(!1),()=>{E.current&&clearTimeout(E.current)}),[x,u,d.length,k]);const T=()=>d.length>0&&u<d.length?d[u]:{nodes:e,edges:r,highlights:[],visited:[],queue:[],stack:[],edgeHighlights:[],codeLine:-1,pseudoLines:[],description:"Ready"},O=()=>{t([]),n([]),Le()},ie=()=>{t(L=>L.map(z=>({...z,x:Ae(z.x),y:Ae(z.y)}))),ze(null),Le()},D=()=>{n(L=>L.map(z=>{if(z.isManual)return z;const J=e.find(oe=>oe.id===z.from),V=e.find(oe=>oe.id===z.to);if(J&&V){const oe=V.x-J.x,ae=V.y-J.y,le=Math.sqrt(oe*oe+ae*ae),H=Math.max(1,Math.round(le/F));return{...z,weight:H}}return z})),ze(null),Le()},f=(L,z,J)=>{t(V=>{const oe=V.find(ge=>ge.id===L),ae=V.find(ge=>ge.id===z);if(!oe||!ae)return V;const le=ae.x-oe.x,H=ae.y-oe.y,M=Math.sqrt(le*le+H*H);if(M===0)return V;const pe=J*40/M;return V.map(ge=>ge.id===z?{...ge,x:oe.x+le*pe,y:oe.y+H*pe}:ge)}),ze(null),Le()},[m,w]=y.useState(0),[C,I]=y.useState(0),[U,Q]=y.useState(0),[Z,ve]=y.useState(0),[Ee,me]=y.useState(0),[he,Te]=y.useState(0),[de,Se]=y.useState(0);return{nodes:e,setNodes:t,edges:r,setEdges:n,isDirected:s,setIsDirected:a,isWeighted:o,setIsWeighted:l,frames:d,currentStep:u,setCurrentStep:h,isPlaying:x,setIsPlaying:v,playbackSpeed:k,setPlaybackSpeed:N,activeAlgorithm:_,startNode:g,setStartNode:b,runBFS:ue,runDFS:re,runDijkstra:fe,runPrim:ce,runKruskal:ne,runBoruvka:be,runNodeDegree:Ce,runHighlightNeighbors:$e,runCheckConnectivity:Be,runDetectCycle:je,runTopologicalSort:B,runKahn:q,runTarjanBridges:K,runArticulationPoints:W,runFordFulkerson:S,runEdmondsKarp:j,runBellmanFord:Ge,runFloydWarshall:$,runAStar:A,clearGraph:O,resetGraph:xe,hardReset:te,clearCanvas:ke,getCurrentFrame:T,activeTool:P,setActiveTool:X,selectedNode:Ne,setSelectedNode:ye,addNode:Oe,removeNode:_e,moveNode:Re,addEdge:Ke,removeEdge:Je,isGridSnapped:Me,setIsGridSnapped:Ie,snapAllToGrid:ie,updateWeightsByDistance:D,adjustPhysicalDistance:f,loadExampleGraph:L=>{const z=[{nodes:[{id:0,x:300,y:100,value:0},{id:1,x:150,y:200,value:0},{id:2,x:450,y:200,value:0},{id:3,x:200,y:320,value:0},{id:4,x:400,y:320,value:0}],edges:[{from:0,to:1,weight:2},{from:0,to:2,weight:3},{from:1,to:2,weight:5},{from:1,to:3,weight:4},{from:2,to:3,weight:1},{from:2,to:4,weight:7},{from:3,to:4,weight:8}],directed:!1,weighted:!0},{nodes:[{id:0,x:100,y:200,value:0},{id:1,x:200,y:100,value:0},{id:2,x:400,y:100,value:0},{id:3,x:500,y:200,value:0},{id:4,x:400,y:300,value:0},{id:5,x:200,y:300,value:0}],edges:[{from:0,to:1,weight:4},{from:1,to:2,weight:3},{from:2,to:3,weight:2},{from:3,to:4,weight:4},{from:4,to:5,weight:3},{from:5,to:0,weight:2},{from:1,to:5,weight:5},{from:2,to:4,weight:1},{from:1,to:4,weight:8}],directed:!1,weighted:!0},{nodes:[{id:0,x:100,y:100,value:0},{id:1,x:100,y:300,value:0},{id:2,x:250,y:200,value:0},{id:3,x:400,y:100,value:0},{id:4,x:400,y:300,value:0},{id:5,x:550,y:200,value:0}],edges:[{from:0,to:1,weight:6},{from:0,to:2,weight:2},{from:1,to:2,weight:3},{from:3,to:4,weight:5},{from:3,to:5,weight:4},{from:4,to:5,weight:6}],directed:!1,weighted:!0}],J=[{nodes:[{id:0,x:300,y:80,value:0},{id:1,x:200,y:160,value:0},{id:2,x:400,y:160,value:0},{id:3,x:140,y:240,value:0},{id:4,x:260,y:240,value:0},{id:5,x:340,y:240,value:0},{id:6,x:460,y:240,value:0}],edges:[{from:0,to:1,weight:1},{from:0,to:2,weight:1},{from:1,to:3,weight:1},{from:1,to:4,weight:1},{from:2,to:5,weight:1},{from:2,to:6,weight:1}],directed:!1,weighted:!1},{nodes:[{id:0,x:100,y:200,value:0},{id:1,x:200,y:200,value:0},{id:2,x:300,y:200,value:0},{id:3,x:400,y:200,value:0},{id:4,x:500,y:200,value:0}],edges:[{from:0,to:1,weight:1},{from:1,to:2,weight:1},{from:2,to:3,weight:1},{from:3,to:4,weight:1}],directed:!0,weighted:!1},{nodes:[{id:0,x:300,y:200,value:0},{id:1,x:300,y:100,value:0},{id:2,x:400,y:200,value:0},{id:3,x:300,y:300,value:0},{id:4,x:200,y:200,value:0},{id:5,x:200,y:100,value:0},{id:6,x:400,y:300,value:0}],edges:[{from:0,to:1,weight:1},{from:0,to:2,weight:1},{from:0,to:3,weight:1},{from:0,to:4,weight:1},{from:0,to:5,weight:1},{from:0,to:6,weight:1},{from:1,to:2,weight:1},{from:2,to:3,weight:1},{from:3,to:4,weight:1},{from:4,to:1,weight:1}],directed:!1,weighted:!1}],V=[{nodes:[{id:0,x:200,y:120,value:0},{id:1,x:400,y:120,value:0},{id:2,x:200,y:280,value:0},{id:3,x:400,y:280,value:0}],edges:[{from:0,to:1,weight:1},{from:1,to:3,weight:1},{from:3,to:2,weight:1},{from:2,to:0,weight:1},{from:0,to:3,weight:1}],directed:!1,weighted:!1},{nodes:[{id:0,x:300,y:200,value:0},{id:1,x:300,y:80,value:0},{id:2,x:420,y:200,value:0},{id:3,x:300,y:320,value:0},{id:4,x:180,y:200,value:0}],edges:[{from:0,to:1,weight:1},{from:0,to:2,weight:1},{from:0,to:3,weight:1},{from:0,to:4,weight:1}],directed:!1,weighted:!1},{nodes:[{id:0,x:150,y:150,value:0},{id:1,x:250,y:150,value:0},{id:2,x:200,y:250,value:0},{id:3,x:400,y:150,value:0},{id:4,x:500,y:250,value:0}],edges:[{from:0,to:1,weight:1},{from:1,to:2,weight:1},{from:2,to:0,weight:1},{from:3,to:4,weight:1}],directed:!1,weighted:!1},{nodes:[{id:0,x:200,y:150,value:0},{id:1,x:400,y:150,value:0},{id:2,x:300,y:250,value:0},{id:3,x:100,y:250,value:0}],edges:[{from:0,to:1,weight:1},{from:1,to:2,weight:1},{from:2,to:0,weight:1},{from:0,to:3,weight:1},{from:3,to:2,weight:1}],directed:!0,weighted:!1}],oe=[{nodes:[{id:0,x:100,y:200,value:0},{id:1,x:250,y:100,value:0},{id:2,x:250,y:300,value:0},{id:3,x:400,y:100,value:0},{id:4,x:400,y:300,value:0},{id:5,x:550,y:200,value:0}],edges:[{from:0,to:1,weight:4},{from:0,to:2,weight:2},{from:1,to:2,weight:1},{from:1,to:3,weight:5},{from:2,to:3,weight:8},{from:2,to:4,weight:10},{from:3,to:4,weight:2},{from:3,to:5,weight:6},{from:4,to:5,weight:3}],directed:!1,weighted:!0},{nodes:[{id:0,x:100,y:200,value:0},{id:1,x:250,y:100,value:0},{id:2,x:250,y:300,value:0},{id:3,x:400,y:200,value:0},{id:4,x:550,y:200,value:0}],edges:[{from:0,to:1,weight:3},{from:0,to:2,weight:6},{from:1,to:3,weight:2},{from:2,to:3,weight:1},{from:3,to:4,weight:4},{from:1,to:4,weight:8}],directed:!0,weighted:!0},{nodes:[{id:0,x:150,y:100,value:0},{id:1,x:300,y:100,value:0},{id:2,x:450,y:100,value:0},{id:3,x:150,y:250,value:0},{id:4,x:300,y:250,value:0},{id:5,x:450,y:250,value:0}],edges:[{from:0,to:1,weight:1},{from:1,to:2,weight:1},{from:0,to:3,weight:1},{from:1,to:4,weight:1},{from:2,to:5,weight:1},{from:3,to:4,weight:1},{from:4,to:5,weight:1}],directed:!1,weighted:!1}],ae=[{nodes:[{id:0,x:100,y:100,value:0},{id:1,x:300,y:100,value:0},{id:2,x:500,y:100,value:0},{id:3,x:200,y:280,value:0},{id:4,x:400,y:280,value:0}],edges:[{from:0,to:1,weight:1},{from:1,to:2,weight:1},{from:0,to:3,weight:1},{from:3,to:4,weight:1},{from:1,to:4,weight:1},{from:4,to:2,weight:1}],directed:!0,weighted:!1},{nodes:[{id:0,x:100,y:100,value:0},{id:1,x:300,y:100,value:0},{id:2,x:500,y:100,value:0},{id:3,x:100,y:300,value:0},{id:4,x:250,y:300,value:0},{id:5,x:100,y:200,value:0},{id:6,x:400,y:200,value:0}],edges:[{from:0,to:1,weight:1},{from:1,to:2,weight:1},{from:0,to:6,weight:1},{from:5,to:6,weight:1},{from:5,to:4,weight:1},{from:3,to:4,weight:1},{from:6,to:2,weight:1}],directed:!0,weighted:!1}],le=[{nodes:[{id:0,x:150,y:150,value:0},{id:1,x:300,y:150,value:0},{id:2,x:150,y:300,value:0},{id:3,x:450,y:150,value:0},{id:4,x:450,y:300,value:0}],edges:[{from:0,to:1,weight:1},{from:1,to:2,weight:1},{from:2,to:0,weight:1},{from:1,to:3,weight:1},{from:3,to:4,weight:1}],directed:!1,weighted:!1},{nodes:[{id:0,x:100,y:150,value:0},{id:1,x:200,y:100,value:0},{id:2,x:200,y:200,value:0},{id:3,x:400,y:100,value:0},{id:4,x:500,y:150,value:0},{id:5,x:400,y:200,value:0}],edges:[{from:0,to:1,weight:1},{from:1,to:2,weight:1},{from:2,to:0,weight:1},{from:3,to:4,weight:1},{from:4,to:5,weight:1},{from:5,to:3,weight:1}],directed:!1,weighted:!1},{nodes:[{id:0,x:150,y:100,value:0},{id:1,x:150,y:300,value:0},{id:2,x:300,y:200,value:0},{id:3,x:450,y:100,value:0},{id:4,x:450,y:300,value:0}],edges:[{from:0,to:1,weight:1},{from:0,to:2,weight:1},{from:1,to:2,weight:1},{from:2,to:3,weight:1},{from:2,to:4,weight:1},{from:3,to:4,weight:1}],directed:!1,weighted:!1}],H=[{nodes:[{id:0,x:100,y:200,value:0},{id:1,x:250,y:100,value:0},{id:2,x:250,y:300,value:0},{id:3,x:400,y:100,value:0},{id:4,x:400,y:300,value:0},{id:5,x:550,y:200,value:0}],edges:[{from:0,to:1,weight:10},{from:0,to:2,weight:10},{from:1,to:2,weight:2},{from:1,to:3,weight:4},{from:1,to:4,weight:8},{from:2,to:4,weight:9},{from:3,to:5,weight:10},{from:4,to:3,weight:6},{from:4,to:5,weight:10}],directed:!0,weighted:!0},{nodes:[{id:0,x:100,y:200,value:0},{id:1,x:250,y:100,value:0},{id:2,x:250,y:200,value:0},{id:3,x:250,y:300,value:0},{id:4,x:400,y:100,value:0},{id:5,x:400,y:200,value:0},{id:6,x:400,y:300,value:0},{id:7,x:550,y:200,value:0}],edges:[{from:0,to:1,weight:1},{from:0,to:2,weight:1},{from:0,to:3,weight:1},{from:1,to:4,weight:1},{from:1,to:5,weight:1},{from:2,to:4,weight:1},{from:3,to:5,weight:1},{from:3,to:6,weight:1},{from:4,to:7,weight:1},{from:5,to:7,weight:1},{from:6,to:7,weight:1}],directed:!0,weighted:!0}];let M;L==="MST"?(M=z[m%z.length],w(ee=>ee+1)):L==="Traversal"?(M=J[C%J.length],I(ee=>ee+1)):L==="Basics"?(M=V[U%V.length],Q(ee=>ee+1)):L==="Shortest Path"?(M=oe[Z%oe.length],ve(ee=>ee+1)):L==="DAG"?(M=ae[Ee%ae.length],me(ee=>ee+1)):L==="Connectivity"?(M=le[he%le.length],Te(ee=>ee+1)):L==="Flow"?(M=H[de%H.length],Se(ee=>ee+1)):M={Special:{nodes:[{id:0,x:150,y:100,value:0},{id:1,x:150,y:200,value:0},{id:2,x:150,y:300,value:0},{id:3,x:450,y:100,value:0},{id:4,x:450,y:200,value:0},{id:5,x:450,y:300,value:0}],edges:[{from:0,to:3,weight:1},{from:0,to:4,weight:1},{from:1,to:3,weight:1},{from:1,to:5,weight:1},{from:2,to:4,weight:1},{from:2,to:5,weight:1}],directed:!1,weighted:!1}}[L],M&&(t(M.nodes),n(M.edges),a(M.directed),l(M.weighted),Y(Math.max(...M.nodes.map(ee=>ee.id))+1),ze(null),Le())},getNodeLabel:se,getInverseNodeLabel:Qe}},Ib=({isDirected:e,setIsDirected:t,isWeighted:r,setIsWeighted:n,startNode:s,setStartNode:a,runBFS:o,runDFS:l,runDijkstra:d,runBellmanFord:c,runFloydWarshall:u,runAStar:h,runPrim:x,runKruskal:v,runBoruvka:k,runNodeDegree:N,runHighlightNeighbors:_,runCheckConnectivity:p,runDetectCycle:g,runTopologicalSort:b,runKahn:E,runTarjanBridges:R,runArticulationPoints:Y,runFordFulkerson:P,runEdmondsKarp:X,reset:Ne,activeAlgorithm:ye,isGridSnapped:Me,setIsGridSnapped:Ie,snapAllToGrid:F,updateWeightsByDistance:Ae,loadExampleGraph:qe,frames:ze,currentStep:Fe,getNodeLabel:xe})=>{var Le,G,ue;const te=ze[Fe],[ke,Oe]=y.useState("Traversal"),[Re,_e]=y.useState(""),[Ke,Je]=y.useState(!1),se=[{id:"Basics",label:"Basics / Fundamentals"},{id:"Traversal",label:"Graph Traversal"},{id:"Shortest Path",label:"Shortest Path"},{id:"MST",label:"Minimum Spanning Tree"},{id:"DAG",label:"Directed Acyclic Graph"},{id:"Connectivity",label:"Connectivity"},{id:"Flow",label:"Network Flow"},{id:"Special",label:"Special"}],Qe={Basics:[{id:"nodeDegree",label:"Find Node Degree",run:N},{id:"highlightNeighbors",label:"Highlight Neighbors",run:_},{id:"checkConnectivity",label:"Check Connectivity",run:p},{id:"detectCycle",label:"Detect Cycle",run:g}],Traversal:[{id:"bfs",label:"Breadth First Search (BFS)",run:o},{id:"dfs",label:"Depth First Search (DFS)",run:l}],"Shortest Path":[{id:"dijkstra",label:"Dijkstra's Algorithm",run:d},{id:"bellmanFord",label:"Bellman-Ford Algorithm",run:c},{id:"floydWarshall",label:"Floyd-Warshall Algorithm",run:u},{id:"aStar",label:"A* Search",run:h}],MST:[{id:"prim",label:"Prim's Algorithm",run:x},{id:"kruskal",label:"Kruskal's Algorithm",run:v},{id:"boruvka",label:"Boruvka's Algorithm",run:k}],DAG:[{id:"topologicalSort",label:"Topological Sort",run:b},{id:"kahn",label:"Kahn's Algorithm",run:E}],Connectivity:[{id:"tarjanBridges",label:"Tarjan's Bridges",run:R},{id:"articulationPoints",label:"Articulation Points",run:Y}],Flow:[{id:"fordFulkerson",label:"Ford-Fulkerson",run:P},{id:"edmondsKarp",label:"Edmonds-Karp",run:X}],Special:[]};y.useEffect(()=>{const re=Qe[ke]||[];re.length>0?_e(re[0].id):_e("")},[ke]);const Ye=()=>{const fe=(Qe[ke]||[]).find(ce=>ce.id===Re);fe&&fe.run()};return i.jsxs("div",{className:"flex flex-col gap-5 pr-2",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-1.5",children:[i.jsx("label",{className:"text-xs font-bold uppercase tracking-wider text-gray-500 dark:text-[#9794c7]",children:"Category"}),i.jsx(Mr,{value:ke,onChange:re=>Oe(re),options:se.map(re=>({value:re.id,label:re.label}))})]}),Qe[ke]&&Qe[ke].length>0?i.jsxs("div",{className:"space-y-1.5",children:[i.jsx("label",{className:"text-xs font-bold uppercase tracking-wider text-gray-500 dark:text-[#9794c7]",children:"Algorithm"}),i.jsx(Mr,{value:Re,onChange:re=>_e(re),options:Qe[ke].map(re=>({value:re.id,label:re.label}))})]}):i.jsx("div",{className:"text-[11px] text-gray-400 dark:text-gray-500 italic py-2",children:"Algorithms for this category coming soon."}),["Traversal","Shortest Path","MST","Basics"].includes(ke)&&i.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-gray-50 dark:bg-[#121121] border border-gray-200 dark:border-[#272546]",children:[i.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-gray-300 whitespace-nowrap",children:"Start Node:"}),i.jsx("input",{className:"flex-1 bg-white dark:bg-[#1a182e] border border-gray-200 dark:border-[#272546] text-slate-900 dark:text-gray-200 text-sm rounded-md p-1.5 focus:ring-2 focus:ring-indigo-600 outline-none text-center font-mono shadow-inner",placeholder:"0",type:"text",value:s,onChange:re=>a(re.target.value)})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-2",children:[i.jsxs("button",{onClick:()=>{Ne(),qe(ke)},className:"flex items-center justify-center gap-1.5 py-2.5 rounded-lg bg-indigo-50 dark:bg-indigo-900/20 text-indigo-700 dark:text-indigo-300 border border-indigo-200 dark:border-indigo-900/40 hover:bg-indigo-100 dark:hover:bg-indigo-900/40 text-[13px] font-bold transition-all shadow-sm",children:[i.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"auto_fix"}),"Example"]}),i.jsxs("button",{onClick:Ye,disabled:!!ye||!Re,className:"flex items-center justify-center gap-1.5 py-2.5 rounded-lg bg-indigo-600 hover:bg-indigo-500 disabled:opacity-50 text-white text-[13px] font-bold transition-all shadow-md shadow-indigo-500/20",children:[i.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"play_arrow"}),"Run"]})]})]}),i.jsxs("div",{className:"mt-2 border border-gray-200 dark:border-[#272546] rounded-xl overflow-hidden bg-white dark:bg-[#121121] shadow-sm",children:[i.jsxs("button",{onClick:()=>Je(!Ke),className:"w-full flex items-center justify-between p-3.5 bg-gray-50 dark:bg-[#1a182e] hover:bg-gray-100 dark:hover:bg-[#201d36] transition-colors",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"material-symbols-outlined text-gray-500 dark:text-gray-400 text-[20px]",children:"settings_suggest"}),i.jsx("span",{className:"text-sm font-bold text-slate-700 dark:text-gray-200 tracking-wide",children:"Graph Settings"})]}),i.jsx("span",{className:`material-symbols-outlined text-gray-500 dark:text-gray-400 transition-transform duration-300 ${Ke?"rotate-180":""}`,children:"expand_more"})]}),i.jsx("div",{className:`transition-all duration-300 ease-in-out ${Ke?"max-h-[300px] opacity-100":"max-h-0 opacity-0"}`,children:i.jsxs("div",{className:"p-4 space-y-4 border-t border-gray-200 dark:border-[#272546]",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm font-medium text-slate-600 dark:text-gray-400",children:"Directed Graph"}),i.jsx("button",{onClick:()=>t(!e),className:`w-10 h-6 rounded-full relative transition-colors ${e?"bg-indigo-500":"bg-gray-300 dark:bg-[#272546]"}`,children:i.jsx("span",{className:`absolute top-0.5 size-5 bg-white rounded-full shadow-sm transition-all ${e?"right-0.5":"left-0.5"}`})})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm font-medium text-slate-600 dark:text-gray-400",children:"Weighted Graph"}),i.jsx("button",{onClick:()=>n(!r),className:`w-10 h-6 rounded-full relative transition-colors ${r?"bg-indigo-500":"bg-gray-300 dark:bg-[#272546]"}`,children:i.jsx("span",{className:`absolute top-0.5 size-5 bg-white rounded-full shadow-sm transition-all ${r?"right-0.5":"left-0.5"}`})})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm font-medium text-slate-600 dark:text-gray-400",children:"Snap to Grid"}),i.jsx("button",{onClick:()=>{const re=!Me;Ie(re),re&&(F(),Ae())},className:`w-10 h-6 rounded-full relative transition-colors ${Me?"bg-indigo-500":"bg-gray-300 dark:bg-[#272546]"}`,children:i.jsx("span",{className:`absolute top-0.5 size-5 bg-white rounded-full shadow-sm transition-all ${Me?"right-0.5":"left-0.5"}`})})]})]})})]}),te&&i.jsxs("div",{className:"space-y-4 mt-4 animate-in fade-in slide-in-from-bottom-2 pb-4",children:[(((Le=te.queue)==null?void 0:Le.length)>0||((G=te.stack)==null?void 0:G.length)>0||((ue=te.visited)==null?void 0:ue.length)>0||te.distances||te.distances2D)&&i.jsxs("div",{className:"bg-gray-50 dark:bg-[#1a182e] border border-gray-200 dark:border-[#272546] rounded-xl p-3 shadow-inner flex flex-col gap-3 w-full max-h-[40vh] overflow-y-auto custom-scrollbar",children:[te.visited&&te.visited.length>0&&i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx("span",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-wider px-1",children:"Visited"}),i.jsx("div",{className:"flex gap-1.5 flex-wrap",children:te.visited.map((re,fe)=>i.jsx("div",{className:"size-6 flex items-center justify-center bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-400 font-mono font-bold text-xs rounded border border-emerald-200 dark:border-emerald-800",children:xe(re)},`v-${fe}-${re}`))})]}),te.queue&&te.queue.length>0&&i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx("span",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-wider px-1",children:"Queue (Front  Back)"}),i.jsx("div",{className:"flex gap-1.5 overflow-x-auto pb-1 scrollbar-thin scrollbar-thumb-gray-300 dark:scrollbar-thumb-gray-600",children:te.queue.map((re,fe)=>i.jsx("div",{className:"min-w-[24px] h-[24px] flex items-center justify-center bg-indigo-100 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300 font-mono font-bold text-xs rounded border border-indigo-200 dark:border-indigo-800 shrink-0 px-1",children:xe(re)},`q-${fe}-${re}`))})]}),te.stack&&te.stack.length>0&&i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx("span",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-wider px-1",children:"Stack (Top  Bottom)"}),i.jsx("div",{className:"flex gap-1.5 overflow-x-auto max-h-[120px] pb-1 scrollbar-thin scrollbar-thumb-gray-300 dark:scrollbar-thumb-gray-600",children:te.stack.map((re,fe)=>i.jsx("div",{className:"min-w-[40px] h-[24px] flex items-center justify-center bg-rose-100 dark:bg-rose-900/30 text-rose-700 dark:text-rose-300 font-mono font-bold text-xs rounded border border-rose-200 dark:border-rose-800 shrink-0",children:xe(re)},`s-${fe}-${re}`))})]}),te.distances&&i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx("span",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-wider px-1",children:"Distances Array"}),i.jsx("div",{className:"bg-white dark:bg-[#121121] p-2 rounded border border-gray-200 dark:border-[#272546] overflow-x-auto scrollbar-thin scrollbar-thumb-gray-300 dark:scrollbar-thumb-gray-600 shadow-sm",children:i.jsx("div",{className:"flex gap-2 min-w-max",children:Object.entries(te.distances).map(([re,fe])=>i.jsxs("div",{className:"flex flex-col items-center bg-gray-50 dark:bg-[#1e1c33] rounded px-2 py-1 border border-gray-100 dark:border-gray-800 min-w-[40px]",children:[i.jsx("span",{className:"text-[10px] text-gray-500 font-bold",children:xe(parseInt(re))}),i.jsx("span",{className:`font-mono font-bold text-sm ${fe!==1/0&&fe!==""?"text-amber-500":"text-gray-400"}`,children:fe===1/0?"":fe})]},re))})})]}),te.distances2D&&i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx("span",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-wider px-1",children:"Distance Matrix"}),i.jsx("div",{className:"bg-white dark:bg-[#121121] p-2 rounded border border-gray-200 dark:border-[#272546] overflow-x-auto scrollbar-thin scrollbar-thumb-gray-300 dark:scrollbar-thumb-gray-600 max-h-[200px] overflow-y-auto shadow-sm",children:i.jsxs("table",{className:"w-full text-xs text-center border-collapse",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{className:"border-b border-r dark:border-gray-700/50 p-1 text-gray-500 border-gray-200",children:"\\"}),Object.keys(te.distances2D).map(re=>i.jsx("th",{className:"border-b dark:border-gray-700/50 border-gray-200 p-1 font-mono text-primary",children:xe(parseInt(re))},`th-${re}`))]})}),i.jsx("tbody",{children:Object.entries(te.distances2D).map(([re,fe])=>i.jsxs("tr",{children:[i.jsx("td",{className:"border-r dark:border-gray-700/50 border-gray-200 p-1 font-mono text-primary font-bold",children:xe(parseInt(re))}),Object.entries(fe).map(([ce,ne])=>i.jsx("td",{className:`p-1 font-mono ${ne!==1/0&&ne!==""?"text-slate-700 dark:text-gray-300":"text-gray-300 dark:text-gray-600"}`,children:ne===1/0?"":ne},`td-${re}-${ce}`))]},`tr-${re}`))})]})})]})]}),te.output&&i.jsxs("div",{children:[i.jsx("label",{className:"text-xs font-bold uppercase tracking-wider text-gray-500 dark:text-[#9794c7]",children:"Output"}),i.jsx("div",{className:"p-4 mt-1.5 rounded-xl bg-indigo-50 dark:bg-indigo-900/10 border border-indigo-200 dark:border-indigo-900/30 shadow-sm",children:i.jsx("p",{className:"text-sm font-mono text-indigo-700 dark:text-indigo-300 break-words leading-relaxed font-bold",children:te.output})})]})]}),i.jsx("div",{className:"mt-auto pt-4 border-t border-gray-200 dark:border-[#272546]",children:i.jsxs("button",{onClick:Ne,className:"w-full py-2.5 px-4 rounded-lg bg-red-50 dark:bg-red-900/10 text-red-600 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/20 text-xs font-bold transition-all flex items-center justify-center gap-2 group",children:[i.jsx("span",{className:"material-symbols-outlined text-[16px] group-hover:rotate-180 transition-transform duration-500",children:"cleaning_services"}),"Clear Visualizer"]})})]})},nh={bfs:{python:{lines:["def bfs(graph, start_node):","    visited = set()","    queue = [start_node]","    visited.add(start_node)","","    while queue:","        vertex = queue.pop(0)","        print(vertex)","","        for neighbor in graph[vertex]:","            if neighbor not in visited:","                visited.add(neighbor)","                queue.append(neighbor)"],mapping:{0:[0,1,2,3],1:[5],2:[6,7],3:[9],4:[10],5:[11,12]}},java:{lines:["void bfs(int startNode) {","    boolean[] visited = new boolean[V];","    LinkedList<Integer> queue = new LinkedList<Integer>();","","    visited[startNode] = true;","    queue.add(startNode);","","    while (queue.size() != 0) {","        int s = queue.poll();",'        System.out.print(s + " ");',"","        Iterator<Integer> i = adj[s].listIterator();","        while (i.hasNext()) {","            int n = i.next();","            if (!visited[n]) {","                visited[n] = true;","                queue.add(n);","            }","        }","    }","}"],mapping:{0:[0,1,2,4,5],1:[7],2:[8,9],3:[12],4:[14],5:[15,16]}},c:{lines:["void bfs(struct Graph* graph, int startVertex) {","    struct Node* adjList = graph->adjLists[startVertex];","    struct Node* temp = adjList;","","    graph->visited[startVertex] = 1;","    enqueue(&q, startVertex);","","    while (!isEmpty(&q)) {","        int currentVertex = dequeue(&q);",'        printf("Visited %d\\n", currentVertex);',"","        temp = graph->adjLists[currentVertex];","","        while (temp) {","            int adjVertex = temp->vertex;","            if (graph->visited[adjVertex] == 0) {","                graph->visited[adjVertex] = 1;","                enqueue(&q, adjVertex);","            }","            temp = temp->next;","        }","    }","}"],mapping:{0:[0,4,5],1:[7],2:[8,9],3:[13],4:[15],5:[16,17]}},cpp:{lines:["void BFS(int s) {","    vector<bool> visited(V, false);","    list<int> queue;","","    visited[s] = true;","    queue.push_back(s);","","    while(!queue.empty()) {","        s = queue.front();",'        cout << s << " ";',"        queue.pop_front();","","        for(auto i : adj[s]) {","            if(!visited[i]) {","                visited[i] = true;","                queue.push_back(i);","            }","        }","    }","}"],mapping:{0:[0,1,2,4,5],1:[7],2:[8,9,10],3:[12],4:[13],5:[14,15]}}},dfs:{python:{lines:["def dfs(graph, start, visited=None):","    if visited is None:","        visited = set()","    visited.add(start)","    print(start)","    for next in graph[start] - visited:","        dfs(graph, next, visited)","    return visited"],mapping:{0:[0,1,2,3],1:[4],2:[5],3:[6],4:[7]}},java:{lines:["void dfs(int v, boolean visited[]) {","    visited[v] = true;",'    System.out.print(v + " ");',"","    Iterator<Integer> i = adj[v].listIterator();","    while (i.hasNext()) {","        int n = i.next();","        if (!visited[n])","            dfs(n, visited);","    }","}"],mapping:{0:[0,1],1:[2],2:[5],3:[7],4:[8]}},c:{lines:["void dfs(struct Graph* graph, int vertex) {","    struct Node* adjList = graph->adjLists[vertex];","    struct Node* temp = adjList;","","    graph->visited[vertex] = 1;",'    printf("Visited %d \\n", vertex);',"","    while (temp != NULL) {","        int connectedVertex = temp->vertex;","        if (graph->visited[connectedVertex] == 0) {","            dfs(graph, connectedVertex);","        }","        temp = temp->next;","    }","}"],mapping:{0:[0,4],1:[5],2:[7],3:[9],4:[10]}},cpp:{lines:["void DFS(int v) {","    visited[v] = true;",'    cout << v << " ";',"","    list<int>::iterator i;","    for (i = adj[v].begin(); i != adj[v].end(); ++i)","        if (!visited[*i])","            DFS(*i);","}"],mapping:{0:[0,1],1:[2],2:[5],3:[6],4:[7]}}},dijkstra:{python:{lines:["import heapq","","def dijkstra(graph, start):","    distances = {node: float('infinity') for node in graph}","    distances[start] = 0","    pq = [(0, start)]","","    while pq:","        current_dist, current_node = heapq.heappop(pq)","","        if current_dist > distances[current_node]:","            continue","","        for neighbor, weight in graph[current_node].items():","            distance = current_dist + weight","","            if distance < distances[neighbor]:","                distances[neighbor] = distance","                heapq.heappush(pq, (distance, neighbor))","","    return distances"],mapping:{0:[0,2,3,4,5],1:[7],2:[8],3:[10,11],4:[13],5:[16],6:[17,18]}},java:{lines:["void dijkstra(int start) {","    PriorityQueue<Node> pq = new PriorityQueue<>();","    pq.add(new Node(start, 0));","    dist[start] = 0;","","    while (!pq.isEmpty()) {","        int u = pq.poll().node;","","        for (Node v : adj[u]) {","            if (dist[v.node] > dist[u] + v.weight) {","                dist[v.node] = dist[u] + v.weight;","                pq.add(new Node(v.node, dist[v.node]));","            }","        }","    }","}"],mapping:{0:[0,1,2,3],1:[5],2:[6],3:[8],4:[9],5:[10,11]}},c:{lines:["void dijkstra(int start) {","    int dist[V];","    for(int i=0; i<V; i++) dist[i] = INT_MAX;","    dist[start] = 0;","","    // Using array as priority queue for simplicity","    int min_dist, u;","    while(1) {","        min_dist = INT_MAX; u = -1;","        for(int i=0; i<V; i++)","            if(!visited[i] && dist[i] < min_dist)","                { min_dist = dist[i]; u = i; }","","        if(u == -1) break;","        visited[u] = 1;","","        for(int v=0; v<V; v++)","            if(graph[u][v] && dist[u] != INT_MAX","               && dist[u]+graph[u][v] < dist[v])","                dist[v] = dist[u] + graph[u][v];","    }","}"],mapping:{0:[0,1,2,3],1:[7,8,9,10,11],2:[13,14],3:[16,17,18,19]}},cpp:{lines:["void dijkstra(int src) {","    priority_queue<iPair, vector<iPair>, greater<iPair>> pq;","    vector<int> dist(V, INF);","","    pq.push(make_pair(0, src));","    dist[src] = 0;","","    while (!pq.empty()) {","        int u = pq.top().second;","        pq.pop();","","        for (auto x : adj[u]) {","            int v = x.first;","            int weight = x.second;","","            if (dist[v] > dist[u] + weight) {","                dist[v] = dist[u] + weight;","                pq.push(make_pair(dist[v], v));","            }","        }","    }","}"],mapping:{0:[0,1,2,4,5],1:[7],2:[8,9],3:[11],4:[16],5:[17,18]}}},prim:{python:{lines:["import heapq","","def prim(graph, start):","    mst = []","    visited = set([start])","    edges = [ (cost, start, to) for to, cost in graph[start].items() ]","    heapq.heapify(edges)","","    while edges:","        cost, frm, to = heapq.heappop(edges)","        if to not in visited:","            visited.add(to)","            mst.append((frm, to, cost))","","            for to_next, cost2 in graph[to].items():","                if to_next not in visited:","                    heapq.heappush(edges, (cost2, to, to_next))","","    return mst"],mapping:{0:[0,2,3,4,5,6],1:[8],2:[9],3:[10],4:[11,12],5:[14],6:[15,16]}},java:{lines:["void prim(int start) {","    boolean[] inMST = new boolean[V];","    PriorityQueue<Edge> pq = new PriorityQueue<>();","    pq.add(new Edge(start, 0));","","    while (!pq.isEmpty()) {","        int u = pq.poll().to;","        if (inMST[u]) continue;","        inMST[u] = true;","","        for (Edge e : adj[u]) {","            if (!inMST[e.to]) {","                pq.add(e);","            }","        }","    }","}"],mapping:{0:[0,1,2,3],1:[5],2:[6],3:[7,8],4:[10],5:[11,12]}},c:{lines:["void prim() {","    int parent[V], key[V], mstSet[V];","    for (int i = 0; i < V; i++)","        key[i] = INT_MAX, mstSet[i] = 0;","","    key[0] = 0; parent[0] = -1;","","    for (int count = 0; count < V - 1; count++) {","        int u = minKey(key, mstSet); // Pick min key","        mstSet[u] = 1;","","        for (int v = 0; v < V; v++)","            if (graph[u][v] && mstSet[v] == 0 && graph[u][v] < key[v])","                parent[v] = u, key[v] = graph[u][v];","    }","}"],mapping:{0:[0,1,2,3,5],1:[7],2:[8,9],3:[11,12,13]}},cpp:{lines:["void prim() {","    priority_queue<iPair, vector<iPair>, greater<iPair>> pq;","    int src = 0;","    vector<int> key(V, INF);","    vector<int> parent(V, -1);","    vector<bool> inMST(V, false);","","    pq.push(make_pair(0, src));","    key[src] = 0;","","    while (!pq.empty()) {","        int u = pq.top().second;","        pq.pop();","        inMST[u] = true;","","        for (auto x : adj[u]) {","            int v = x.first;","            int weight = x.second;","            if (inMST[v] == false && key[v] > weight) {","                key[v] = weight;","                pq.push(make_pair(key[v], v));","                parent[v] = u;","            }","        }","    }","}"],mapping:{0:[0,1,2,3,4,5,7,8],1:[10],2:[11,12,13],3:[15],4:[18,19,20,21]}}},kruskal:{python:{lines:["def find(parent, i):","    if parent[i] == i: return i","    return find(parent, parent[i])","","def union(parent, rank, x, y):","    xroot = find(parent, x)","    yroot = find(parent, y)","    if rank[xroot] < rank[yroot]: parent[xroot] = yroot","    elif rank[xroot] > rank[yroot]: parent[yroot] = xroot","    else: parent[yroot] = xroot; rank[xroot] += 1","","def kruskal(graph):","    result = []","    i, e = 0, 0","    graph = sorted(graph, key=lambda item: item[2])","    parent, rank = [], []","    for node in range(V):","        parent.append(node); rank.append(0)","","    while e < V - 1:","        u, v, w = graph[i]","        i = i + 1","        x = find(parent, u)","        y = find(parent, v)","","        if x != y:","            e = e + 1","            result.append([u, v, w])","            union(parent, rank, x, y)","    return result"],mapping:{0:[11,12,13,14,15,16,17],1:[19],2:[20,21],3:[22,23],4:[25],5:[26,27,28]}},java:{lines:["void kruskal() {","    Edge result[] = new Edge[V];","    int e = 0, i = 0;","    Arrays.sort(edge);","","    Subset subsets[] = new Subset[V];","    for (i = 0; i < V; ++i) subsets[i] = new Subset();","","    while (e < V - 1) {","        Edge next_edge = edge[i++];","        int x = find(subsets, next_edge.src);","        int y = find(subsets, next_edge.dest);","","        if (x != y) {","            result[e++] = next_edge;","            Union(subsets, x, y);","        }","    }","}"],mapping:{0:[0,1,2,3,5,6],1:[8],2:[9],3:[10,11],4:[13],5:[14,15]}},c:{lines:["void Kruskal(struct Graph* graph) {","    int V = graph->V;","    struct Edge result[V];","    int e = 0, i = 0;","    qsort(graph->edge, graph->E, sizeof(graph->edge[0]), myComp);","","    struct subset* subsets = (struct subset*)malloc(V * sizeof(struct subset));","    for (int v = 0; v < V; ++v) {","        subsets[v].parent = v;","        subsets[v].rank = 0;","    }","","    while (e < V - 1 && i < graph->E) {","        struct Edge next_edge = graph->edge[i++];","        int x = find(subsets, next_edge.src);","        int y = find(subsets, next_edge.dest);","","        if (x != y) {","            result[e++] = next_edge;","            Union(subsets, x, y);","        }","    }","}"],mapping:{0:[0,1,2,3,4,6,7],1:[12],2:[13],3:[14,15],4:[17],5:[18,19]}},cpp:{lines:["void Kruskal(Graph& g) {","    sort(g.edges.begin(), g.edges.end());","    DisjointSet ds(g.V);","","    for (auto it : g.edges) {","        int u = it.u;","        int v = it.v;","        int wt = it.weight;","","        if (ds.findUPar(u) != ds.findUPar(v)) {","            ds.unionByRank(u, v);","            mstWeight += wt;","            mstEdges.push_back({u, v});","        }","    }","}"],mapping:{0:[0,1,2],1:[4],2:[5,6,7],3:[9],4:[10,11,12]}}},boruvka:{python:{lines:["def boruvka(graph):","    parent = []","    rank = []","    cheapest = []","    numTrees = V","    MSTweight = 0","","    # Initialize Union-Find","    for node in range(V):","        parent.append(node)","        rank.append(0)","        cheapest.append(-1)","","    while numTrees > 1:","        # Find cheapest edge for each component","        for u, v, w in graph:","            set1 = find(parent, u)","            set2 = find(parent, v)","            if set1 != set2:","                if cheapest[set1] == -1 or cheapest[set1][2] > w:","                    cheapest[set1] = [u, v, w]","                if cheapest[set2] == -1 or cheapest[set2][2] > w:","                    cheapest[set2] = [u, v, w]","","        # Add cheapest edges to MST","        for node in range(V):","            if cheapest[node] != -1:","                u, v, w = cheapest[node]","                set1 = find(parent, u)","                set2 = find(parent, v)","                if set1 != set2:","                    MSTweight += w","                    union(parent, rank, set1, set2)","                    print(f'Edge {u}-{v} added')","                    numTrees -= 1","        ","        # Reset cheapest array","        cheapest = [-1] * V"],mapping:{0:[0,1,2,3,4,5,8,9,10,11],1:[13],2:[15,16,17,18,19,20,21,22],3:[25,26,27,28,29,30,31,32,33,34],4:[38]}},java:{lines:["void boruvka() {","    int numTrees = V;","    int MSTweight = 0;","    // ... Init Union-Find ...","","    while (numTrees > 1) {","        // Reset cheapest","        for (int v = 0; v < V; ++v) cheapest[v] = -1;","","        // Find cheapest edge for each component","        for (int i = 0; i < E; ++i) {","            int set1 = find(edge[i].src);","            int set2 = find(edge[i].dest);","            if (set1 != set2) {","                if (cheapest[set1] == -1 || edge[cheapest[set1]].weight > edge[i].weight)","                    cheapest[set1] = i;","                if (cheapest[set2] == -1 || edge[cheapest[set2]].weight > edge[i].weight)","                    cheapest[set2] = i;","            }","        }","","        // Add edges to MST","        for (int i = 0; i < V; ++i) {","            if (cheapest[i] != -1) {","                int set1 = find(edge[cheapest[i]].src);","                int set2 = find(edge[cheapest[i]].dest);","                if (set1 != set2) {","                    MSTweight += edge[cheapest[i]].weight;","                    union(set1, set2);","                    numTrees--;","                }","            }","        }","    }","}"],mapping:{0:[0,1,2],1:[5],2:[7],3:[10,11,12,13,14,15,16,17],4:[22,23,24,25,26,27,28,29]}},c:{lines:["void boruvka(struct Graph* graph) {","    // ... Init Union-Find and Variables ...","    int numTrees = V;","","    while (numTrees > 1) {","        for (int v = 0; v < V; ++v) cheapest[v] = -1;","","        for (int i = 0; i < E; ++i) {","            int set1 = find(subsets, edge[i].src);","            int set2 = find(subsets, edge[i].dest);","","            if (set1 != set2) {","                if (cheapest[set1] == -1 || edge[cheapest[set1]].weight > edge[i].weight)","                    cheapest[set1] = i;","                if (cheapest[set2] == -1 || edge[cheapest[set2]].weight > edge[i].weight)","                    cheapest[set2] = i;","            }","        }","","        for (int i = 0; i < V; ++i) {","            if (cheapest[i] != -1) {","                int set1 = find(subsets, edge[cheapest[i]].src);","                int set2 = find(subsets, edge[cheapest[i]].dest);","","                if (set1 != set2) {","                    union(subsets, set1, set2);","                    numTrees--;","                }","            }","        }","    }","}"],mapping:{0:[2,3],1:[4],2:[5],3:[7,8,9,11,12,13,14,15],4:[19,20,21,22,24,25,26]}},cpp:{lines:["void boruvka(Graph& g) {","    DisjointSet ds(g.V);","    int numTrees = g.V;","    int MSTweight = 0;","","    while (numTrees > 1) {","        vector<int> cheapest(g.V, -1);","","        for (int i = 0; i < g.E; ++i) {","            int u = g.edges[i].u;","            int v = g.edges[i].v;","            int set1 = ds.findUPar(u);","            int set2 = ds.findUPar(v);","","            if (set1 != set2) {","                if (cheapest[set1] == -1 || g.edges[cheapest[set1]].weight > g.edges[i].weight)","                    cheapest[set1] = i;","                if (cheapest[set2] == -1 || g.edges[cheapest[set2]].weight > g.edges[i].weight)","                    cheapest[set2] = i;","            }","        }","","        for (int i = 0; i < g.V; ++i) {","            if (cheapest[i] != -1) {","                int set1 = ds.findUPar(g.edges[cheapest[i]].u);","                int set2 = ds.findUPar(g.edges[cheapest[i]].v);","                if (set1 != set2) {","                    ds.unionByRank(set1, set2);","                    MSTweight += g.edges[cheapest[i]].weight;","                    numTrees--;","                }","            }","        }","    }","}"],mapping:{0:[0,1,2,3],1:[5],2:[6],3:[8,9,10,11,12,14,15,16,17,18],4:[22,23,24,25,26,27,28,29]}}}},da={bfs:{name:"Breadth-First Search (BFS)",description:"Explores the graph level by level, visiting all direct neighbors of a node before moving to the next level.",timeComplexity:"O(V + E)",spaceComplexity:"O(V)"},dfs:{name:"Depth-First Search (DFS)",description:"Explores as far as possible along each branch before backtracking.",timeComplexity:"O(V + E)",spaceComplexity:"O(V)"},dijkstra:{name:"Dijkstra's Algorithm",description:"Finds the shortest path from a starting node to all other nodes in a graph with non-negative edge weights.",timeComplexity:"O((V + E) log V)",spaceComplexity:"O(V)"},bellmanFord:{name:"Bellman-Ford Algorithm",description:"Computes shortest paths from a single source vertex to all other vertices. Can handle negative weights and detect negative weight cycles.",timeComplexity:"O(V  E)",spaceComplexity:"O(V)"},floydWarshall:{name:"Floyd-Warshall Algorithm",description:"Finds shortest paths between all pairs of vertices in a weighted graph.",timeComplexity:"O(V)",spaceComplexity:"O(V)"},aStar:{name:"A* Search Algorithm",description:"Finds the shortest path to a target node using an informed heuristic (e.g., Euclidean distance) to guide the search efficiently.",timeComplexity:"O(E)",spaceComplexity:"O(V)"},prim:{name:"Prim's Algorithm",description:"Finds a Minimum Spanning Tree (MST) by starting from an arbitrary node and repeatedly adding the cheapest edge from the tree to a new node.",timeComplexity:"O(E log V)",spaceComplexity:"O(V) or O(E)"},kruskal:{name:"Kruskal's Algorithm",description:"Finds a Minimum Spanning Tree (MST) by sorting edges and adding them one by one using a Union-Find data structure to prevent cycles.",timeComplexity:"O(E log E)",spaceComplexity:"O(V)"},boruvka:{name:"Borvka's Algorithm",description:"Finds a Minimum Spanning Tree (MST) by finding the cheapest edge for each component simultaneously and merging them.",timeComplexity:"O(E log V)",spaceComplexity:"O(V)"},nodeDegree:{name:"Node Degree",description:"Calculates the number of edges incident to the selected node (In-degree and Out-degree for directed graphs).",timeComplexity:"O(V)",spaceComplexity:"O(1)"},highlightNeighbors:{name:"Highlight Neighbors",description:"Visually highlights all immediate neighbors of the selected node.",timeComplexity:"O(V)",spaceComplexity:"O(1)"},checkConnectivity:{name:"Check Connectivity",description:"Determines if there is a path between every pair of vertices in the graph (Strongly/Weakly connected).",timeComplexity:"O(V + E)",spaceComplexity:"O(V)"},detectCycle:{name:"Detect Cycle",description:"Checks if the graph contains any cycles.",timeComplexity:"O(V + E)",spaceComplexity:"O(V)"},topologicalSort:{name:"Topological Sort (DFS)",description:"Linear ordering of vertices such that for every directed edge U -> V, vertex U comes before V.",timeComplexity:"O(V + E)",spaceComplexity:"O(V)"},kahn:{name:"Kahn's Algorithm",description:"BFS-based Topological Sort that repeatedly removes nodes with an in-degree of 0.",timeComplexity:"O(V + E)",spaceComplexity:"O(V)"},tarjanBridges:{name:"Tarjan's Bridges",description:"Finds all bridges (critical edges whose removal increases the number of connected components) using DFS tree discovery times.",timeComplexity:"O(V + E)",spaceComplexity:"O(V)"},articulationPoints:{name:"Articulation Points",description:"Finds all articulation points (cut vertices whose removal increases the number of connected components) using DFS.",timeComplexity:"O(V + E)",spaceComplexity:"O(V)"},fordFulkerson:{name:"Ford-Fulkerson",description:"Computes the maximum flow in a flow network by finding augmenting paths using DFS.",timeComplexity:"O(E  max_flow)",spaceComplexity:"O(V)"},edmondsKarp:{name:"Edmonds-Karp",description:"Specific implementation of Ford-Fulkerson that uses BFS to find the shortest augmenting paths.",timeComplexity:"O(V  E)",spaceComplexity:"O(V)"}},$b=({currentFrame:e,codeLanguage:t,setCodeLanguage:r,activeAlgorithm:n})=>{const[s,a]=y.useState("pseudo");return i.jsxs("div",{className:"flex flex-col h-full",children:[i.jsxs("div",{className:"flex border-b border-gray-200 dark:border-[#272546]",children:[i.jsx("button",{onClick:()=>a("pseudo"),className:`flex-1 py-2 text-[10px] font-bold uppercase tracking-wider transition-colors ${s==="pseudo"?"text-primary border-b-2 border-primary":"text-gray-400 hover:text-gray-300"}`,children:"Pseudocode"}),i.jsx("button",{onClick:()=>a("code"),className:`flex-1 py-2 text-[10px] font-bold uppercase tracking-wider transition-colors ${s==="code"?"text-primary border-b-2 border-primary":"text-gray-400 hover:text-gray-300"}`,children:"Code"}),i.jsx("button",{onClick:()=>a("info"),className:`flex-1 py-2 text-[10px] font-bold uppercase tracking-wider transition-colors ${s==="info"?"text-primary border-b-2 border-primary":"text-gray-400 hover:text-gray-300"}`,children:"Info"})]}),i.jsxs("div",{className:"flex-1 overflow-y-auto min-h-0 bg-gray-50/50 dark:bg-transparent",children:[s==="pseudo"&&i.jsx("div",{className:"p-4 font-mono text-xs text-gray-600 dark:text-gray-400 space-y-1",children:e.pseudoLines&&e.pseudoLines.length>0?e.pseudoLines.map((o,l)=>i.jsxs("div",{className:`px-2 py-1.5 rounded-sm border-l-2 transition-all ${l===e.codeLine?"bg-primary/10 text-primary dark:text-white border-primary font-bold shadow-sm":"border-transparent opacity-80"}`,children:[i.jsx("span",{className:"mr-3 select-none opacity-50",children:l}),o]},l)):i.jsx("div",{className:"text-center italic text-gray-500 mt-4",children:"Select an algorithm to view pseudocode."})}),s==="code"&&i.jsxs("div",{className:"flex flex-col h-full",children:[i.jsx("div",{className:"p-2 border-b border-gray-100 dark:border-[#272546] flex gap-1 bg-white dark:bg-[#151426]",children:["c","cpp","java","python"].map(o=>i.jsx("button",{onClick:()=>r(o),className:`flex-1 py-1 rounded text-[10px] font-bold uppercase ${t===o?"bg-primary text-white":"text-gray-400 hover:bg-gray-100 dark:hover:bg-white/5"}`,children:o==="cpp"?"C++":o.toUpperCase()},o))}),i.jsx("div",{className:"p-4 font-mono text-xs text-gray-600 dark:text-gray-400 overflow-y-auto space-y-0.5",children:(()=>{if(!n||!nh[n])return i.jsx("div",{className:"text-center italic text-gray-500 mt-4",children:"No code available."});const o=nh[n][t],l=o.mapping[e.codeLine],d=Array.isArray(l)?l:l!==void 0?[l]:[];return o.lines.map((c,u)=>i.jsxs("div",{className:`px-2 py-1 -mx-2 rounded flex gap-3 transition-colors duration-200 ${d.includes(u)?"bg-indigo-50 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300 border-l-2 border-indigo-500":"border-l-2 border-transparent"}`,children:[i.jsx("span",{className:"text-gray-300 dark:text-gray-600 select-none w-4 text-right",children:u+1}),i.jsx("span",{className:"whitespace-pre",children:c})]},u))})()})]}),s==="info"&&i.jsx("div",{className:"p-4 space-y-6",children:n&&da[n]?i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-[10px] uppercase font-bold text-gray-400 mb-2",children:"Algorithm Description"}),i.jsx("div",{className:"bg-white dark:bg-[#151426] p-3 rounded border border-gray-100 dark:border-[#272546] text-sm text-slate-700 dark:text-slate-300",children:da[n].description})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsxs("div",{className:"bg-white dark:bg-[#151426] p-3 rounded border border-gray-100 dark:border-[#272546]",children:[i.jsx("div",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-wider mb-1",children:"Time Complexity"}),i.jsx("div",{className:"text-sm font-mono font-bold text-primary",children:da[n].timeComplexity})]}),i.jsxs("div",{className:"bg-white dark:bg-[#151426] p-3 rounded border border-gray-100 dark:border-[#272546]",children:[i.jsx("div",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-wider mb-1",children:"Space Complexity"}),i.jsx("div",{className:"text-sm font-mono font-bold text-indigo-500",children:da[n].spaceComplexity})]})]})]}):i.jsx("div",{className:"text-center italic text-gray-500 mt-4",children:"Select an algorithm to view its details."})})]})]})},Rb=({activeTool:e,setActiveTool:t,onClear:r})=>{const n=[{id:"move",icon:"pan_tool",label:"Move",shortcut:"V"},{id:"node",icon:"add_circle",label:"Add Node",shortcut:"N"},{id:"edge",icon:"timeline",label:"Add Edge",shortcut:"E"},{id:"delete",icon:"delete",label:"Delete",shortcut:"Del"}];return i.jsxs("div",{className:"absolute top-4 left-4 bg-white dark:bg-[#1e1c33] p-1.5 rounded-xl shadow-[0_8px_30px_rgb(0,0,0,0.12)] border border-gray-200 dark:border-[#272546] flex items-center gap-1 z-50",children:[n.map(s=>i.jsxs("button",{onClick:()=>t(s.id),className:`relative w-10 h-10 flex items-center justify-center rounded-lg transition-all duration-200 group
                        ${e===s.id?"bg-primary text-white shadow-lg shadow-primary/30":"text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-[#2a2845]"}`,title:`${s.label} (${s.shortcut})`,children:[i.jsx("span",{className:"material-symbols-outlined text-[20px]",children:s.icon}),i.jsx("div",{className:"absolute -bottom-10 left-1/2 -translate-x-1/2 px-2 py-1 bg-gray-900 text-white text-[10px] font-medium rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap pointer-events-none",children:s.label})]},s.id)),i.jsx("div",{className:"w-[1px] h-6 bg-gray-200 dark:bg-[#272546] mx-1"}),i.jsxs("button",{onClick:r,className:"w-10 h-10 flex items-center justify-center rounded-lg text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 transition-all duration-200 group",title:"Clear Canvas",children:[i.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"delete_sweep"}),i.jsx("div",{className:"absolute -bottom-10 left-1/2 -translate-x-1/2 px-2 py-1 bg-gray-900 text-white text-[10px] font-medium rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap pointer-events-none",children:"Clear"})]})]})},Pb=()=>{const{isDirected:e,setIsDirected:t,isWeighted:r,setIsWeighted:n,startNode:s,setStartNode:a,activeAlgorithm:o,runBFS:l,runDFS:d,runDijkstra:c,runBellmanFord:u,runFloydWarshall:h,runAStar:x,runPrim:v,runKruskal:k,runBoruvka:N,runNodeDegree:_,runHighlightNeighbors:p,runCheckConnectivity:g,runDetectCycle:b,runTopologicalSort:E,runKahn:R,runTarjanBridges:Y,runArticulationPoints:P,runFordFulkerson:X,runEdmondsKarp:Ne,resetGraph:ye,clearCanvas:Me,getCurrentFrame:Ie,activeTool:F,setActiveTool:Ae,selectedNode:qe,setSelectedNode:ze,addNode:Fe,removeNode:xe,moveNode:te,addEdge:ke,removeEdge:Oe,getNodeLabel:Re,isGridSnapped:_e,setIsGridSnapped:Ke,snapAllToGrid:Je,updateWeightsByDistance:se,adjustPhysicalDistance:Qe,loadExampleGraph:Ye,frames:Le,currentStep:G,setCurrentStep:ue,isPlaying:re,setIsPlaying:fe,playbackSpeed:ce,setPlaybackSpeed:ne}=Tb(),[be,Ce]=y.useState(.7),$e=y.useRef(null),Be=y.useRef(null),je=y.useRef(null),{setIsSidebarOpen:Ge}=Ls(),[$,A]=y.useState(.6),[B,q]=y.useState({x:0,y:0}),[K,W]=y.useState(!1),[S,j]=y.useState({x:0,y:0}),[T,O]=y.useState(null),[ie,D]=y.useState("python"),f=Ie();y.useEffect(()=>{Ge(!1)},[Ge]);const m=de=>{de.preventDefault();const Se=de.clientY,De=be,L=J=>{if(!$e.current)return;const V=$e.current.offsetHeight,oe=J.clientY-Se,ae=Math.min(.8,Math.max(.2,De+oe/V));Ce(ae)},z=()=>{document.removeEventListener("mousemove",L),document.removeEventListener("mouseup",z)};document.addEventListener("mousemove",L),document.addEventListener("mouseup",z)},w=de=>{de.ctrlKey||de.metaKey;{const Se=-de.deltaY;A(De=>Math.min(Math.max(.2,De+Se*.001),3))}},C=de=>{if(F==="node"){if(je.current){const Se=je.current.getBoundingClientRect(),De=(de.clientX-Se.left)/$,L=(de.clientY-Se.top)/$;Fe(Math.round(De),Math.round(L))}}else F==="move"?(W(!0),j({x:de.clientX,y:de.clientY})):F==="edge"&&ze(null)},I=de=>{if(T!==null&&je.current){const Se=je.current.getBoundingClientRect();let De=(de.clientX-Se.left)/$,L=(de.clientY-Se.top)/$;_e&&(De=Math.round(De/40)*40,L=Math.round(L/40)*40),te(T,De,L),se()}else K&&F==="move"&&(q(Se=>({x:Se.x+de.clientX-S.x,y:Se.y+de.clientY-S.y})),j({x:de.clientX,y:de.clientY}))},U=()=>{W(!1),O(null)},[Q,Z]=y.useState(null),ve=(de,Se)=>{if(de.stopPropagation(),console.log("Node Click:",{nodeId:Se,activeTool:F,selectedNode:qe}),F==="edge")if(qe===null)ze(Se);else if(qe!==Se)if(r){const De=f.nodes,L=De.find(oe=>oe.id===qe),z=De.find(oe=>oe.id===Se),J=Math.sqrt(Math.pow(z.x-L.x,2)+Math.pow(z.y-L.y,2)),V=_e?Math.max(1,Math.round(J/40)):1;Z({x:(L.x+z.x)/2,y:(L.y+z.y)/2,from:qe,to:Se,initialWeight:V}),ze(null)}else ke(qe,Se,1),ze(null);else ze(null);else F==="delete"&&xe(Se)},Ee=de=>{if(de.key==="Enter"&&Q){const Se=parseInt(de.target.value)||1;Qe(Q.from,Q.to,Se),Ke(!1),ke(Q.from,Q.to,Se,!0),Z(null)}else de.key==="Escape"&&Z(null)},me=(de,Se,De)=>{if(de.stopPropagation(),F==="delete")Oe(Se,De);else if(F==="edge"&&r){const L=f.edges.find(z=>z.from===Se&&z.to===De||!e&&z.from===De&&z.to===Se);if(L){const z=f.nodes.find(V=>V.id===Se),J=f.nodes.find(V=>V.id===De);Z({x:(z.x+J.x)/2,y:(z.y+J.y)/2,from:Se,to:De,initialWeight:L.weight})}}},he=i.jsxs("div",{className:"h-full flex flex-col relative",ref:$e,children:[i.jsx("div",{style:{height:`${be*100}%`},className:"overflow-y-auto border-b border-gray-200 dark:border-[#272546] custom-scrollbar",children:i.jsx("div",{className:"p-4",children:i.jsx(Ib,{isDirected:e,setIsDirected:t,isWeighted:r,setIsWeighted:n,startNode:s,setStartNode:a,runBFS:l,runDFS:d,runDijkstra:c,runBellmanFord:u,runFloydWarshall:h,runAStar:x,runPrim:v,runKruskal:k,runBoruvka:N,runNodeDegree:_,runHighlightNeighbors:p,runCheckConnectivity:g,runDetectCycle:b,runTopologicalSort:E,runKahn:R,runTarjanBridges:Y,runArticulationPoints:P,runFordFulkerson:X,runEdmondsKarp:Ne,reset:ye,activeAlgorithm:o,isGridSnapped:_e,setIsGridSnapped:Ke,snapAllToGrid:Je,updateWeightsByDistance:se,loadExampleGraph:Ye,frames:Le,currentStep:G,getNodeLabel:Re})})}),i.jsx("div",{className:"h-1.5 bg-gray-100 dark:bg-[#272546] hover:bg-primary cursor-row-resize transition-colors absolute w-full z-10 -translate-y-1/2",style:{top:`${be*100}%`},onMouseDown:m}),i.jsx("div",{className:"flex-1 min-h-0 overflow-hidden bg-white dark:bg-[#1e1c33]",children:i.jsx($b,{currentFrame:f,codeLanguage:ie,setCodeLanguage:D,activeAlgorithm:o})})]}),Te=i.jsxs("div",{className:"w-full bg-white dark:bg-[#131221] border-t border-gray-200 dark:border-[#272546] px-8 py-4 flex items-center justify-between gap-8 h-20 shadow-md relative z-20",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("button",{onClick:()=>ue(0),className:"text-gray-400 hover:text-white transition-colors",children:i.jsx("span",{className:"material-symbols-outlined text-[24px]",children:"skip_previous"})}),i.jsx("button",{onClick:()=>ue(de=>Math.max(0,de-1)),className:"text-gray-400 hover:text-white transition-colors",children:i.jsx("span",{className:"material-symbols-outlined text-[28px]",children:"fast_rewind"})}),i.jsx("button",{onClick:()=>fe(!re),className:"rounded-full flex items-center justify-center text-white bg-primary size-12 shadow-lg shadow-primary/30 transition-transform hover:scale-105 active:scale-95",children:i.jsx("span",{className:"material-symbols-outlined filled text-[28px]",children:re?"pause":"play_arrow"})}),i.jsx("button",{onClick:()=>ue(de=>Math.min(Le.length-1,de+1)),className:"text-gray-400 hover:text-white transition-colors",children:i.jsx("span",{className:"material-symbols-outlined text-[28px]",children:"fast_forward"})}),i.jsx("button",{onClick:()=>ue(Le.length-1),className:"text-gray-400 hover:text-white transition-colors",children:i.jsx("span",{className:"material-symbols-outlined text-[24px]",children:"skip_next"})})]}),i.jsxs("div",{className:"flex-1 flex flex-col gap-2",children:[i.jsxs("div",{className:"flex justify-between text-xs font-medium font-mono text-gray-400",children:[i.jsxs("span",{children:["Step ",G+1,"/",Le.length||1]}),i.jsxs("span",{className:"text-primary",children:[Math.round((G+1)/(Le.length||1)*100),"%"]})]}),i.jsx("div",{className:"h-1.5 w-full bg-gray-200 dark:bg-[#272546] rounded-full overflow-hidden relative cursor-pointer",onClick:de=>{const Se=de.currentTarget.getBoundingClientRect(),De=(de.clientX-Se.left)/Se.width;ue(Math.floor(De*(Le.length-1)))},children:i.jsx("div",{className:"h-full bg-primary relative rounded-full",style:{width:`${(G+1)/(Le.length||1)*100}%`}})})]}),i.jsxs("div",{className:"flex items-center gap-3 border-l border-gray-200 dark:border-[#272546] w-40 pl-6",children:[i.jsx("span",{className:"material-symbols-outlined text-gray-400 text-sm",children:"speed"}),i.jsx("input",{type:"range",min:"0.5",max:"3",step:"0.5",value:ce,onChange:de=>ne(parseFloat(de.target.value)),className:"w-full h-1 bg-gray-200 dark:bg-[#272546] rounded-lg appearance-none cursor-pointer accent-primary"}),i.jsxs("span",{className:"text-xs font-mono text-gray-500 w-8",children:[ce,"x"]})]})]});return!f||!f.nodes?i.jsx("div",{className:"p-10 text-red-600 font-bold",children:"Error: Graph data missing. Check console."}):i.jsx(Dn,{title:"Graph",sidebarPosition:"right",contentClassName:"flex-1 flex flex-col relative z-0 overflow-hidden",sidebarNoPadding:!0,sidebarNoScroll:!0,sidebar:he,rightSidebar:null,leftSidebar:null,controls:Te,children:i.jsxs("div",{ref:Be,className:`relative flex-1 w-full h-full overflow-hidden flex items-center justify-center bg-gray-50/50 dark:bg-black/20 
            ${F==="move"?"cursor-grab active:cursor-grabbing":""} 
            ${F==="node"?"cursor-crosshair":""}
            ${F==="edge"?"cursor-cell":""}
            ${F==="delete"?"cursor-not-allowed":""}
        `,onMouseDown:C,onMouseMove:I,onMouseUp:U,onMouseLeave:U,onWheel:w,children:[i.jsx(Rb,{activeTool:F,setActiveTool:Ae,onClear:Me}),i.jsxs("div",{ref:je,style:{transform:`translate(${B.x}px, ${B.y}px) scale(${$})`,transition:K?"none":"transform 0.1s ease-out"},className:"relative w-[600px] h-[400px] pointer-events-none",children:[i.jsxs("svg",{className:"absolute inset-0 size-full overflow-visible pointer-events-none",children:[i.jsxs("defs",{children:[i.jsx("marker",{id:"arrowhead",markerHeight:"7",markerWidth:"10",orient:"auto",refX:"28",refY:"3.5",children:i.jsx("polygon",{fill:"#64748b",points:"0 0, 10 3.5, 0 7"})}),i.jsx("marker",{id:"arrowhead-active",markerHeight:"7",markerWidth:"10",orient:"auto",refX:"28",refY:"3.5",children:i.jsx("polygon",{fill:"#4236e7",points:"0 0, 10 3.5, 0 7"})})]}),f.edges.map((de,Se)=>{var Ve;const De=f.nodes.find(rt=>rt.id===de.from),L=f.nodes.find(rt=>rt.id===de.to);if(!De||!L)return null;const z=((Ve=f.edgeHighlights)==null?void 0:Ve.some(rt=>rt.from===de.from&&rt.to===de.to||!e&&rt.from===de.to&&rt.to===de.from))||!1,J=(De.x+L.x)/2,V=(De.y+L.y)/2,oe=L.x-De.x,ae=L.y-De.y,le=Math.sqrt(oe*oe+ae*ae),H=le>0?-ae/le*15:0,M=le>0?oe/le*15:-15,ee=o==="kruskal"||o==="prim"||o==="dijkstra"||o==="bellmanFord"||o==="aStar",pe=Le.length>0&&G===Le.length-1,ge=ee&&pe&&!z;return i.jsxs("g",{className:`pointer-events-auto cursor-pointer group ${F==="delete"?"hover:opacity-50":""}`,onClick:rt=>me(rt,de.from,de.to),children:[i.jsx("line",{x1:De.x,y1:De.y,x2:L.x,y2:L.y,stroke:"transparent",strokeWidth:"20",className:"cursor-pointer"}),i.jsx("line",{x1:De.x,y1:De.y,x2:L.x,y2:L.y,className:`transition-all duration-300 
                        ${z?"stroke-primary stroke-[3px] drop-shadow-[0_0_8px_rgba(66,54,231,0.6)]":ge?"stroke-slate-200 dark:stroke-slate-800 stroke-[1px]":"stroke-slate-500 dark:stroke-slate-400 stroke-2 group-hover:stroke-slate-700 dark:group-hover:stroke-slate-300"}`,markerEnd:e?`url(#${z?"arrowhead-active":"arrowhead"})`:void 0}),r&&i.jsxs("g",{transform:`translate(${J+H}, ${V+M})`,className:`transition-opacity duration-300 ${ge?"opacity-30":"opacity-100"}`,children:[i.jsx("rect",{x:"-10",y:"-10",width:"20",height:"20",rx:"4",className:`${z?"fill-primary stroke-primary":"fill-white dark:fill-[#1e1c33] stroke-slate-300 dark:stroke-slate-600"} stroke-[1.5px] shadow-sm`}),i.jsx("text",{textAnchor:"middle",dominantBaseline:"middle",className:`text-[10px] font-mono font-bold select-none pointer-events-none ${z?"fill-white":"fill-slate-700 dark:fill-slate-300"}`,children:de.weight})]})]},Se)})]}),Q&&i.jsx("div",{style:{left:Q.x,top:Q.y,transform:"translate(-50%, -50%)"},className:"absolute z-50 animate-in zoom-in-95 duration-200",children:i.jsx("input",{autoFocus:!0,type:"number",defaultValue:Q.initialWeight??"1",onKeyDown:Ee,onBlur:()=>Z(null),className:"w-16 h-8 text-center text-sm font-bold bg-white dark:bg-[#1e1c33] border-2 border-primary rounded-lg shadow-lg outline-none text-primary"})},`${Q.from}-${Q.to}`),f.nodes.map(de=>{var J,V,oe,ae;const Se=(J=f.visited)==null?void 0:J.includes(de.id),De=((V=f.queue)==null?void 0:V.includes(de.id))||((oe=f.stack)==null?void 0:oe.includes(de.id)),L=(ae=f.highlights)==null?void 0:ae.includes(de.id),z=qe===de.id;return i.jsxs("div",{onClick:le=>ve(le,de.id),onMouseDown:le=>{le.stopPropagation(),F!=="delete"&&O(de.id)},className:`absolute w-12 h-12 -translate-x-1/2 -translate-y-1/2 rounded-full flex items-center justify-center font-bold font-mono shadow-lg transition-all ${T===de.id?"duration-0 z-50":"duration-300"} pointer-events-auto
                                    ${L||Se?"bg-primary border-4 border-white dark:border-[#131221] text-white":"bg-white dark:bg-[#1e1c33] border-2 text-slate-900 dark:text-white"}
                                    ${z?"border-primary ring-2 ring-primary ring-offset-2 dark:ring-offset-[#131221]":"border-slate-400 dark:border-slate-500"}
                                    ${L?"scale-110 shadow-[0_0_20px_rgba(66,54,231,0.6)] z-20":"z-10"}
                                    ${F!=="move"?"cursor-pointer hover:border-primary":""}
                                `,style:{left:de.x,top:de.y},children:[Re(de.id),f.distances&&f.distances[de.id]!==void 0&&i.jsxs("div",{className:`absolute -bottom-7 px-1.5 py-0.5 rounded shadow-sm text-[10px] font-bold tracking-tight border pointer-events-none whitespace-nowrap z-50 ${f.distances[de.id]!==1/0&&f.distances[de.id]!==""?"bg-amber-100 dark:bg-amber-900 border-amber-300 dark:border-amber-700 text-amber-800 dark:text-amber-100":"bg-white dark:bg-[#131221] border-gray-200 dark:border-gray-700 text-gray-400"}`,children:["d: ",f.distances[de.id]===1/0?"":f.distances[de.id]]}),De&&!Se&&i.jsx("div",{className:"absolute -top-2 -right-2 w-4 h-4 bg-yellow-400 rounded-full border-2 border-white dark:border-[#131221]"})]},de.id)})]}),i.jsx("div",{className:"absolute bottom-4 right-4 z-40 flex flex-col items-end gap-2 max-w-md w-full pointer-events-none",children:i.jsxs("div",{className:"bg-white/90 dark:bg-[#1e1c33]/90 backdrop-blur-sm p-4 rounded-xl border border-gray-200 dark:border-[#272546] shadow-xl pointer-events-auto transition-all duration-300 transform translate-y-0 opacity-100 w-full",children:[i.jsx("h4",{className:"text-[10px] uppercase font-bold text-gray-400 mb-1 tracking-wider",children:"Current Operation"}),i.jsx("p",{className:"text-sm font-medium text-slate-700 dark:text-slate-200 leading-relaxed",children:f.description||"Ready to visualize..."})]})})]})})},dr=20,Ab=[12,45,99,33,42,57],Er={create:["head = null, tail = null","for (val in values):","  v = new Node(val)","  if (head == null) head = v","  else tail.next = v","  tail = v"],insertHead:["v = new Node(val)","v.next = head","head = v"],insertTail:["v = new Node(val)","if (tail != null) tail.next = v","tail = v","if (head == null) head = v"],insertIndex:["v = new Node(val)","curr = head","for (i=0; i<index-1; i++) curr = curr.next","v.next = curr.next","curr.next = v"],removeHead:["if (head == null) return","head = head.next","if (head == null) tail = null"],removeTail:["curr = head","while (curr.next != tail) curr = curr.next","curr.next = null","tail = curr"],removeIndex:["curr = head","for (i=0; i<index-1; i++) curr = curr.next","curr.next = curr.next.next"],search:["curr = head","while (curr != null)","  if (curr.val == target) return true","  curr = curr.next","return false"]},ca={insertHead:{best:"O(1)",avg:"O(1)",worst:"O(1)",space:"O(1)"},insertTail:{best:"O(1)",avg:"O(1)",worst:"O(1)",space:"O(1)"},insertIndex:{best:"O(1)",avg:"O(N)",worst:"O(N)",space:"O(1)"},removeHead:{best:"O(1)",avg:"O(1)",worst:"O(1)",space:"O(1)"},removeTail:{best:"O(N)",avg:"O(N)",worst:"O(N)",space:"O(1)"},removeIndex:{best:"O(1)",avg:"O(N)",worst:"O(N)",space:"O(1)"},search:{best:"O(1)",avg:"O(N)",worst:"O(N)",space:"O(1)"},create:{best:"O(N)",avg:"O(N)",worst:"O(N)",space:"O(N)"}},Ob=()=>{const[e,t]=y.useState([]),[r,n]=y.useState(0),[s,a]=y.useState(!1),[o,l]=y.useState(1),[d,c]=y.useState(Ab),[u,h]=y.useState("singly"),[x,v]=y.useState("standard"),[k,N]=y.useState(null),[_,p]=y.useState(null),[g,b]=y.useState(""),[E,R]=y.useState("size"),[Y,P]=y.useState("5"),[X,Ne]=y.useState(""),[ye,Me]=y.useState(""),Ie=y.useRef(null),F=($,A,B,q,K,W,S,j,T=[],O=[],ie,D)=>({nodes:[...$],highlights:A,pointers:B,codeLine:q,description:K,listType:u,pseudoLines:W,opName:S,opValues:j,tempNodes:T,tempArrows:O,visited:ie,output:D}),Ae=$=>{const A="create",B=Er.create,q=[];let K=[];q.push(F([],[],[],0,"head = null, tail = null",B,A));for(let W=0;W<$.length;W++){const S=$[W],j={val:S};if(q.push(F(K,[],[],1,`Process val: ${S}`,B,A)),q.push(F(K,[],[{index:-1,label:`New(${S})`,color:"blue"}],2,"v = new Node(val)",B,A,j)),K.length===0)K=[S],q.push(F(K,[0],[{index:0,label:"HEAD",color:"red"}],3,"head = v",B,A,j));else{const T=K.length-1;q.push(F(K,[T],[{index:T,label:"TAIL",color:"green"}],4,"tail.next = v",B,A,j)),K=[...K,S]}q.push(F(K,[K.length-1],[{index:K.length-1,label:"TAIL",color:"green"}],5,"tail = v",B,A,j))}return{endNodes:K,timeline:q}},qe=$=>{t($.timeline),n(0),a(!0),c($.endNodes)},ze=$=>{const A="insertHead",B=Er.insertHead,q={val:$},K=[],W=[...d];K.push(F(W,[],[],0,`Create node ${$}`,B,A,q,[{val:$,label:"NEW",color:"blue",position:"left-of-head",id:"new"}])),K.push(F(W,[0],[{index:0,label:"HEAD",color:"red"}],1,"Link v.next to Head",B,A,q,[{val:$,label:"NEW",color:"blue",position:"left-of-head",id:"new"}],[{from:"temp",to:0,color:"blue",label:"next"}]));const S=[$,...W];return K.push(F(S,[0],[{index:0,label:"HEAD",color:"red"}],0,"Update Head = v",B,A,q)),K.push(F(S,[0],[{index:0,label:"HEAD",color:"red"}],2,"Update Head = v",B,A,q)),{endNodes:S,timeline:K}},Fe=$=>{const A="insertTail",B=Er.insertTail,q={val:$},K=[],W=[...d];K.push(F(W,[],[],0,`Create node ${$}`,B,A,q,[{val:$,label:"NEW",color:"green",position:"right-of-tail",id:"new"}]));const S=W.length-1;W.length>0&&K.push(F(W,[S],[{index:S,label:"TAIL",color:"green"}],1,"Tail.next = v",B,A,q,[{val:$,label:"NEW",color:"green",position:"right-of-tail",id:"new"}],[{from:S,to:"temp",color:"green"}]));const j=[...W,$];return K.push(F(j,[j.length-1],[{index:j.length-1,label:"TAIL",color:"green"}],2,"Update Tail = v",B,A,q)),{endNodes:j,timeline:K}},xe=($,A)=>{const B="insertIndex",q=Er.insertIndex,K={val:A,index:$},W=[],S=[...d];if($===0)return ze(A);if($>=S.length)return Fe(A);W.push(F(S,[],[],0,"Create Node v",q,B,K,[{val:A,label:"NEW",color:"blue",position:"above-at-index",offsetIndex:$,id:"new"}])),W.push(F(S,[0],[{index:0,label:"CURR",color:"primary"}],1,"curr = head",q,B,K,[{val:A,label:"NEW",color:"blue",position:"above-at-index",offsetIndex:$,id:"new"}]));for(let T=0;T<$-1;T++)W.push(F(S,[T],[{index:T,label:"CURR",color:"primary"}],2,`i=${T} < ${$-1}`,q,B,K,[{val:A,label:"NEW",color:"blue",position:"above-at-index",offsetIndex:$,id:"new"}])),W.push(F(S,[T+1],[{index:T+1,label:"CURR",color:"primary"}],3,"curr = curr.next",q,B,K,[{val:A,label:"NEW",color:"blue",position:"above-at-index",offsetIndex:$,id:"new"}]));W.push(F(S,[$-1],[{index:$-1,label:"CURR",color:"primary"}],4,"v.next = curr.next",q,B,K,[{val:A,label:"NEW",color:"blue",position:"above-at-index",offsetIndex:$,id:"new"}],[{from:"temp",to:$,color:"blue"}])),W.push(F(S,[$-1],[{index:$-1,label:"CURR",color:"primary"}],5,"curr.next = v",q,B,K,[{val:A,label:"NEW",color:"blue",position:"above-at-index",offsetIndex:$,id:"new"}],[{from:"temp",to:$,color:"blue"},{from:$-1,to:"temp",color:"primary"}]));const j=[...S];return j.splice($,0,A),W.push(F(j,[$],[{index:$-1,label:"CURR",color:"primary"},{index:$,label:"NEW",color:"blue"}],5,"Done",q,B,K)),{endNodes:j,timeline:W}},te=()=>{const $="removeHead",A=Er.removeHead;if(d.length===0)return{endNodes:[],timeline:[]};const B=[F(d,[0],[{index:0,label:"HEAD",color:"red"}],0,"Check Head",A,$)];B.push(F(d,[0],[{index:0,label:"HEAD",color:"red"}],1,"Head = Head.next",A,$,{},[],[{from:"temp",to:1,color:"red",curved:!0,label:"skip"}]));const q=d.slice(1);return B.push(F(q,[],[],2,"Removed old head",A,$)),{endNodes:q,timeline:B}},ke=()=>{const $="removeTail",A=Er.removeTail;if(d.length===0)return{endNodes:[],timeline:[]};if(d.length===1)return te();const B=[],q=[...d];B.push(F(q,[0],[{index:0,label:"CURR",color:"primary"}],1,"curr = head",A,$));let K=0;for(;K<q.length-2;)B.push(F(q,[K],[{index:K,label:"CURR",color:"primary"}],2,"curr.next != tail",A,$)),K++,B.push(F(q,[K],[{index:K,label:"CURR",color:"primary"}],3,"curr = curr.next",A,$));B.push(F(q,[K],[{index:K,label:"CURR",color:"primary"}],2,"curr.next == tail (Found)",A,$));const W=d.slice(0,-1);return B.push(F(q,[K],[{index:K,label:"TAIL",color:"green"}],4,"curr.next = null",A,$,{},[],[{from:K,to:"null",color:"red"}])),B.push(F(W,[K],[{index:K,label:"TAIL",color:"green"}],5,"tail = curr",A,$)),{endNodes:W,timeline:B}},Oe=$=>{const A="removeIndex",B=Er.removeIndex,q={index:$};if($===0)return te();if($>=d.length-1)return ke();const K=[],W=[...d];K.push(F(W,[0],[{index:0,label:"CURR",color:"primary"}],0,"curr = head",B,A,q));for(let j=0;j<$-1;j++)K.push(F(W,[j],[{index:j,label:"CURR",color:"primary"}],1,`i=${j} < ${$-1}`,B,A,q)),K.push(F(W,[j+1],[{index:j+1,label:"CURR",color:"primary"}],2,"curr = curr.next",B,A,q));K.push(F(W,[$-1],[{index:$-1,label:"CURR",color:"primary"}],3,"curr.next = curr.next.next",B,A,q,[],[{from:$-1,to:$+1,color:"red",curved:!0}]));const S=[...d];return S.splice($,1),K.push(F(S,[$-1],[{index:$-1,label:"CURR",color:"primary"}],3,"Removed Node",B,A,q)),{endNodes:S,timeline:K}},Re=$=>{const A=$===-9999,B=A?"iterativeTraversal":"search",q=Er.search,K=A?{}:{target:$},W=[],S=[...d],j=[];let T=A?"Start traversal: ":"";W.push(F(S,[0],[{index:0,label:"CURR",color:"primary"}],0,"curr = head",q,B,K,[],[],[...j],T));for(let O=0;O<S.length;O++){if(j.push(S[O]),T+=(O>0?" -> ":"")+S[O],W.push(F(S,[O],[{index:O,label:"CURR",color:"primary"}],1,"while curr != null",q,B,K,[],[],[...j],T)),!A&&(W.push(F(S,[O],[{index:O,label:"CURR",color:"primary"}],2,`val ${S[O]} == ${$}?`,q,B,K,[],[],[...j],T)),S[O]===$))return{endNodes:S,timeline:[...W,F(S,[O],[{index:O,label:"FOUND",color:"green"}],1,"Found match",q,B,K,[],[],[...j],T+" (Found!)")]};O<S.length-1&&W.push(F(S,[O+1],[{index:O+1,label:"CURR",color:"primary"}],3,"curr = curr.next",q,B,K,[],[],[...j],T))}return W.push(F(S,[],[],1,"while curr == null",q,B,K,[],[],[...j],T)),W.push(F(S,[],[],4,A?"Traversal Complete":"return false",q,B,K,[],[],[...j],A?T+" -> null":T+" (Not Found)")),{endNodes:S,timeline:W}},_e=()=>{const $="convertToArray",A=["arr = []","curr = head","while curr != null","  arr.push(curr.val)","  curr = curr.next","return arr"],B=[],q=[...d];let K=[];if(q.length===0)return{endNodes:[],timeline:[F([],[],[],0,"List is empty",A,$,{},[],[],[],"[]")]};B.push(F(q,[0],[{index:0,label:"CURR",color:"primary"}],1,"curr = head",A,$,{},[],[],[],"[]"));for(let W=0;W<q.length;W++)B.push(F(q,[W],[{index:W,label:"CURR",color:"primary"}],2,"while curr != null",A,$,{},[],[],[],JSON.stringify(K))),K.push(q[W]),B.push(F(q,[W],[{index:W,label:"CURR",color:"primary"}],3,"arr.push(curr.val)",A,$,{},[],[],[],JSON.stringify(K))),W<q.length-1&&B.push(F(q,[W+1],[{index:W+1,label:"CURR",color:"primary"}],4,"curr = curr.next",A,$,{},[],[],[],JSON.stringify(K)));return B.push(F(q,[],[],5,"return arr",A,$,{},[],[],[],"Final Array: "+JSON.stringify(K))),{endNodes:q,timeline:B}},Ke=()=>{const $="showLength",A=["count = 0","curr = head","while curr != null","  count++","  curr = curr.next","return count"],B=[],q=[...d];let K=0;if(q.length===0)return{endNodes:[],timeline:[F([],[],[],0,"List is empty",A,$,{},[],[],[],"0")]};B.push(F(q,[0],[{index:0,label:"CURR",color:"primary"}],1,"curr = head",A,$,{},[],[],[],`count = ${K}`));for(let W=0;W<q.length;W++)B.push(F(q,[W],[{index:W,label:"CURR",color:"primary"}],2,"while curr != null",A,$,{},[],[],[],`count = ${K}`)),K++,B.push(F(q,[W],[{index:W,label:"CURR",color:"primary"}],3,"count++",A,$,{},[],[],[],`count = ${K}`)),W<q.length-1&&B.push(F(q,[W+1],[{index:W+1,label:"CURR",color:"primary"}],4,"curr = curr.next",A,$,{},[],[],[],`count = ${K}`));return B.push(F(q,[],[],5,"return count",A,$,{},[],[],[],`Final Length: ${K}`)),{endNodes:q,timeline:B}},Je=()=>{const $="deleteList",A=["head = null","tail = null"],B=[];return B.push(F([...d],[],[],0,"head = null",A,$)),B.push(F([],[],[],1,"List cleared",A,$)),{endNodes:[],timeline:B}},se=()=>{const $="reverseList",A=["prev = null, curr = head","while curr != null","  nextTemp = curr.next","  curr.next = prev","  prev = curr","  curr = nextTemp","head = prev"],B=[],q=[...d];if(q.length===0)return{endNodes:[],timeline:[F([],[],[],0,"Empty list",A,$)]};B.push(F([...q],[0],[{index:0,label:"curr",color:"primary"}],0,"prev = null, curr = head",A,$));for(let W=0;W<q.length;W++)B.push(F([...q],[W],[{index:W,label:"curr",color:"primary"},...W>0?[{index:W-1,label:"prev",color:"green"}]:[]],1,"while curr != null",A,$));const K=[...q].reverse();return B.push(F([...K],[],[],6,"head = prev (Reversed!)",A,$)),{endNodes:K,timeline:B}},Qe=()=>{const $="findMiddle",A=["slow = head, fast = head","while fast != null && fast.next != null","  slow = slow.next","  fast = fast.next.next","return slow"],B=[],q=[...d];if(q.length===0)return{endNodes:[],timeline:[F([],[],[],0,"Empty List",A,$)]};let K=0,W=0;for(B.push(F(q,[0],[{index:K,label:"slow=fast",color:"blue"}],0,"slow = fast = head",A,$));W+1<q.length&&W+2<q.length;)B.push(F(q,[K],[{index:K,label:"slow",color:"blue"},{index:W,label:"fast",color:"orange"}],1,"while fast && fast.next",A,$)),K++,W+=2,B.push(F(q,[K],[{index:K,label:"slow",color:"blue"},{index:W,label:"fast",color:"orange"}],2,"slow = slow.next; fast = fast.next.next",A,$));return B.push(F(q,[K],[{index:K,label:"FOUND",color:"green"}],4,`Mid is at index ${K}`,A,$)),{endNodes:q,timeline:B}},Ye=$=>{const A="countOccurrences",B=["count = 0","curr = head","while curr != null","  if curr.val == target","    count++","  curr = curr.next","return count"],q=[],K=[...d];let W=0;q.push(F(K,[0],[{index:0,label:"CURR",color:"primary"}],1,"curr = head",B,A,{target:$},[],[],[],`count = ${W}`));for(let S=0;S<K.length;S++)q.push(F(K,[S],[{index:S,label:"CURR",color:"primary"}],2,"while curr != null",B,A,{target:$},[],[],[],`count = ${W}`)),q.push(F(K,[S],[{index:S,label:"CURR",color:"primary"}],3,"if curr.val == target",B,A,{target:$},[],[],[],`count = ${W}`)),K[S]===$&&(W++,q.push(F(K,[S],[{index:S,label:"MATCH",color:"green"}],4,"count++",B,A,{target:$},[],[],[],`count = ${W}`))),S<K.length-1&&q.push(F(K,[S+1],[{index:S+1,label:"CURR",color:"primary"}],5,"curr = curr.next",B,A,{target:$},[],[],[],`count = ${W}`));return q.push(F(K,[],[],6,"return count",B,A,{target:$},[],[],[],`Final Count: ${W}`)),{endNodes:K,timeline:q}},Le=$=>{const A="deleteByValue",B=["if head == null return","if head.val == target: head = head.next","curr = head","while curr.next != null","  if curr.next.val == target","    curr.next = curr.next.next","  else curr = curr.next"],q=[],K=[...d];if(K.length===0)return{endNodes:[],timeline:[F([],[],[],0,"List Empty",B,A,{target:$})]};if(K[0]===$){q.push(F(K,[0],[{index:0,label:"MATCH",color:"red"}],1,"if head.val == target",B,A,{target:$}));const S=K.slice(1);return q.push(F(S,[],[],1,"head = head.next",B,A,{target:$})),{endNodes:S,timeline:q}}q.push(F(K,[0],[{index:0,label:"CURR",color:"primary"}],2,"curr = head",B,A,{target:$}));let W=0;for(;W<K.length-1;)if(q.push(F(K,[W],[{index:W,label:"CURR",color:"primary"}],3,"while curr.next != null",B,A,{target:$})),q.push(F(K,[W+1],[{index:W,label:"CURR",color:"primary"},{index:W+1,label:"NEXT",color:"orange"}],4,"curr.next.val == target?",B,A,{target:$})),K[W+1]===$){q.push(F(K,[W+1],[{index:W,label:"CURR",color:"primary"},{index:W+1,label:"MATCH",color:"red"}],5,"curr.next = curr.next.next",B,A,{target:$},[],[{from:W,to:W+2,color:"red",curved:!0}]));const S=[...K];return S.splice(W+1,1),q.push(F(S,[W],[{index:W,label:"CURR",color:"primary"}],5,"Node removed",B,A,{target:$})),{endNodes:S,timeline:q}}else q.push(F(K,[W+1],[{index:W+1,label:"CURR",color:"primary"}],6,"curr = curr.next",B,A,{target:$})),W++;return q.push(F(K,[],[],3,"Not Found",B,A,{target:$})),{endNodes:K,timeline:q}},G=$=>{const A="findNthNode",B=["curr = head","for (i=0; i<N; i++)","  if curr == null return null","  curr = curr.next","return curr"],q=[],K=[...d];if($<0||$>=K.length)return{endNodes:K,timeline:[F(K,[],[],0,"Invalid N",B,A,{N:$})]};q.push(F(K,[0],[{index:0,label:"CURR",color:"primary"}],1,"curr = head",B,A,{N:$}));for(let W=0;W<$;W++)q.push(F(K,[W],[{index:W,label:"CURR",color:"primary"}],2,"i < N",B,A,{N:$})),q.push(F(K,[W+1],[{index:W+1,label:"CURR",color:"primary"}],4,"curr = curr.next",B,A,{N:$}));return q.push(F(K,[$],[{index:$,label:"FOUND",color:"green"}],5,`Found node at index ${$}`,B,A,{N:$})),{endNodes:K,timeline:q}},ue=$=>{const A="findNthFromEnd",B=["main = head, ref = head","for (i=0; i<N; i++) ref = ref.next","while ref != null","  main = main.next","  ref = ref.next","return main"],q=[],K=[...d];if($<=0||$>K.length)return{endNodes:K,timeline:[F(K,[],[],0,"Invalid N",B,A,{N:$})]};let W=0,S=0;q.push(F(K,[0],[{index:0,label:"main/ref",color:"primary"}],1,"main = ref = head",B,A,{N:$}));for(let j=0;j<$;j++)q.push(F(K,[W],[{index:S,label:"main",color:"primary"},{index:W,label:"ref",color:"orange"}],2,`Advance ref (${j+1}/${$})`,B,A,{N:$})),W++;for(;W<K.length;)q.push(F(K,[S,W],[{index:S,label:"main",color:"primary"},{index:W,label:"ref",color:"orange"}],3,"while ref != null",B,A,{N:$})),S++,W++,W<K.length&&q.push(F(K,[S,W],[{index:S,label:"main",color:"primary"},{index:W,label:"ref",color:"orange"}],4,"Advance both pointers",B,A,{N:$}));return q.push(F(K,[S],[{index:S,label:"FOUND",color:"green"}],6,`Found ${$}th from end`,B,A,{N:$})),{endNodes:K,timeline:q}},re=($,A)=>{const B="insertAfterValue",q=["curr = head","while curr != null && curr.val != target","  curr = curr.next","if curr == null return","v = new Node(val)","v.next = curr.next","curr.next = v"],K=[],W=[...d];if(W.length>=dr)return{endNodes:W,timeline:[F(W,[],[],0,"List Full",q,B,{target:$,val:A})]};if(W.length===0)return{endNodes:[],timeline:[F([],[],[],0,"List Empty",q,B,{target:$,val:A})]};K.push(F(W,[0],[{index:0,label:"CURR",color:"primary"}],1,"curr = head",q,B,{target:$,val:A}));let S=-1;for(let T=0;T<W.length;T++){if(K.push(F(W,[T],[{index:T,label:"CURR",color:"primary"}],2,"curr != null && curr.val != target?",q,B,{target:$,val:A})),W[T]===$){S=T,K.push(F(W,[T],[{index:T,label:"MATCH",color:"green"}],2,"Found target",q,B,{target:$,val:A}));break}T<W.length-1&&K.push(F(W,[T+1],[{index:T+1,label:"CURR",color:"primary"}],3,"curr = curr.next",q,B,{target:$,val:A}))}if(S===-1)return K.push(F(W,[],[],4,"Target not found",q,B,{target:$,val:A})),{endNodes:W,timeline:K};K.push(F(W,[S],[{index:S,label:"curr",color:"primary"}],5,"v = new Node(val)",q,B,{target:$,val:A},[{id:"temp",val:A,label:"v",position:"above-at-index",offsetIndex:S+1}])),K.push(F(W,[S],[{index:S,label:"curr",color:"primary"}],6,"v.next = curr.next",q,B,{target:$,val:A},[{id:"temp",val:A,label:"v",position:"above-at-index",offsetIndex:S+1}],[{from:"temp",to:S+1,curved:!0}])),K.push(F(W,[S],[{index:S,label:"curr",color:"primary"}],7,"curr.next = v",q,B,{target:$,val:A},[{id:"temp",val:A,label:"v",position:"above-at-index",offsetIndex:S+1}],[{from:S,to:"temp",curved:!0},{from:"temp",to:S+1,curved:!0}]));const j=[...W];return j.splice(S+1,0,A),K.push(F(j,[S+1],[{index:S+1,label:"Inserted",color:"green"}],7,"Inserted!",q,B,{target:$,val:A})),{endNodes:j,timeline:K}},fe=($,A)=>{const B="insertBeforeValue",q=["if head == null return","if head.val == target","  v = new Node(val)","  v.next = head; head = v","curr = head","while curr.next != null && curr.next.val != target","  curr = curr.next","if curr.next == null return","v = new Node(val)","v.next = curr.next","curr.next = v"],K=[],W=[...d];if(W.length>=dr)return{endNodes:W,timeline:[F(W,[],[],0,"List Full",q,B,{target:$,val:A})]};if(W.length===0)return{endNodes:[],timeline:[F([],[],[],0,"List Empty",q,B,{target:$,val:A})]};if(W[0]===$){K.push(F(W,[0],[{index:0,label:"MATCH",color:"green"}],2,"if head.val == target",q,B,{target:$,val:A}));const T=[A,...W];return K.push(F(W,[0],[],3,"v = new Node(val)",q,B,{target:$,val:A},[{id:"t",val:A,label:"v",position:"left-of-head"}])),K.push(F(T,[0],[{index:0,label:"HEAD",color:"green"}],4,"head = v",q,B,{target:$,val:A})),{endNodes:T,timeline:K}}K.push(F(W,[0],[{index:0,label:"CURR",color:"primary"}],5,"curr = head",q,B,{target:$,val:A}));let S=-1;for(let T=0;T<W.length-1;T++){if(K.push(F(W,[T],[{index:T,label:"CURR",color:"primary"}],6,"curr.next.val != target?",q,B,{target:$,val:A})),W[T+1]===$){S=T,K.push(F(W,[T+1],[{index:T,label:"CURR",color:"primary"},{index:T+1,label:"MATCH",color:"green"}],6,"Found target",q,B,{target:$,val:A}));break}T<W.length-2&&K.push(F(W,[T+1],[{index:T+1,label:"CURR",color:"primary"}],7,"curr = curr.next",q,B,{target:$,val:A}))}if(S===-1)return K.push(F(W,[],[],8,"Target not found",q,B,{target:$,val:A})),{endNodes:W,timeline:K};K.push(F(W,[S],[{index:S,label:"curr",color:"primary"}],9,"v = new Node(val)",q,B,{target:$,val:A},[{id:"temp",val:A,label:"v",position:"above-at-index",offsetIndex:S+1}])),K.push(F(W,[S],[{index:S,label:"curr",color:"primary"}],10,"v.next = curr.next",q,B,{target:$,val:A},[{id:"temp",val:A,label:"v",position:"above-at-index",offsetIndex:S+1}],[{from:"temp",to:S+1,curved:!0}])),K.push(F(W,[S],[{index:S,label:"curr",color:"primary"}],11,"curr.next = v",q,B,{target:$,val:A},[{id:"temp",val:A,label:"v",position:"above-at-index",offsetIndex:S+1}],[{from:S,to:"temp",curved:!0},{from:"temp",to:S+1,curved:!0}]));const j=[...W];return j.splice(S+1,0,A),K.push(F(j,[S+1],[{index:S+1,label:"Inserted",color:"green"}],11,"Inserted",q,B,{target:$,val:A})),{endNodes:j,timeline:K}},ce=($,A)=>{const B=["// Feature coming soon in the next update!"],q=[F([...d],[],[],0,`${$} is currently in development!`,B,$,{},[],[],[],"This feature is coming soon.")];return{endNodes:[...d],timeline:q}},ne=$=>{p(null);let A;const B=parseInt(X),q=parseInt(ye);switch($){case"createEmpty":A=Ae([]);break;case"createRandom":{const K=parseInt(Y)||5,W=Array.from({length:K},()=>Math.floor(Math.random()*99)+1);b(W.join(", ")),A=Ae(W)}break;case"initFromArray":{const K=g.split(",").map(W=>parseInt(W.trim())).filter(W=>!isNaN(W));if(K.length>dr){p(`Max ${dr}`);return}A=Ae(K)}break;case"clearList":A=Je();break;case"convertToArray":A=_e();break;case"iterativeTraversal":A=Re(-9999);break;case"showLength":A=Ke();break;case"findMiddle":A=Qe();break;case"recursiveTraversal":case"reverseTraversal":A=ce($);break;case"insertHead":if(isNaN(B)){p("Invalid Value");return}if(d.length>=dr){p("List Full");return}A=ze(B);break;case"insertTail":if(isNaN(B)){p("Invalid Value");return}if(d.length>=dr){p("List Full");return}A=Fe(B);break;case"insertPosition":if(isNaN(B)){p("Invalid Value");return}if(d.length>=dr){p("List Full");return}if(isNaN(q)||q<0||q>d.length){p("Bad Index");return}A=xe(q,B);break;case"insertAfterValue":if(isNaN(B)||isNaN(q)){p("Invalid Inputs: Need Val and Target");return}if(d.length>=dr){p("List Full");return}A=re(q,B);break;case"insertBeforeValue":if(isNaN(B)||isNaN(q)){p("Invalid Inputs: Need Val and Target");return}if(d.length>=dr){p("List Full");return}A=fe(q,B);break;case"sortedInsert":A=ce($);break;case"deleteHead":if(d.length===0){p("List Empty");return}A=te();break;case"deleteTail":if(d.length===0){p("List Empty");return}A=ke();break;case"deletePosition":if(d.length===0){p("List Empty");return}if(isNaN(q)||q<0||q>=d.length){p("Bad Index");return}A=Oe(q);break;case"deleteList":A=Je();break;case"deleteByValue":if(isNaN(B)){p("Invalid Value");return}A=Le(B);break;case"deleteAllOccurrences":A=ce($);break;case"linearSearch":if(isNaN(B)){p("Invalid Value");return}A=Re(B);break;case"countOccurrences":if(isNaN(B)){p("Invalid Value");return}A=Ye(B);break;case"findMiddleNode":A=Qe();break;case"findNthNode":if(isNaN(q)){p("Invalid Index");return}A=G(q);break;case"findNthFromEnd":if(isNaN(q)){p("Invalid N");return}A=ue(q);break;case"reverseList":A=se();break;default:A=ce($);break}A&&qe(A)},be=()=>{if(x==="apps")Ne("42"),Me("2");else{const $=d.length,A=$>0?$:5,B=Array.from({length:A},()=>Math.floor(Math.random()*99)+1);c(B),b(B.join(", ")),P(A.toString()),t([F(B,[],[],0,"Example List Loaded",Er.create,"create")]),n(0),a(!1)}},Ce=()=>{if(d.length>=dr){p(`Max capacity ${dr} reached`);return}const $=[...d,Math.floor(Math.random()*99)+1];c($),t([F($,[],[],0,"Node Added",[],"None")]),n(0),p(null)},$e=$=>{const A=d.filter((B,q)=>q!==$);c(A),t([F(A,[],[],0,"Node Removed",[],"None")]),n(0),p(null)},Be=($,A)=>{const B=[...d];B[$]=A,c(B),t([F(B,[],[],0,"Node Updated",[],"None")]),n(0),p(null)},je=()=>{c([]),t([F([],[],[],0,"List Cleared",[],"None")]),n(0),p(null)};y.useEffect(()=>(s&&e.length>0&&(Ie.current=window.setInterval(()=>{n($=>$<e.length-1?$+1:(a(!1),$))},1e3/o)),()=>{Ie.current&&clearInterval(Ie.current)}),[s,e.length,o]);const Ge=e[r]||{nodes:d,highlights:[],pointers:[],codeLine:-1,description:"Ready",listType:u,pseudoLines:[],opName:"",opValues:{},visited:[],output:""};return{mode:x,frames:e,currentStep:r,isPlaying:s,playbackSpeed:o,activeOp:k,error:_,createInput:g,createStep:E,createSize:Y,inputValue:X,inputIndex:ye,listType:u,initialNodes:d,currentFrame:Ge,setMode:v,setIsPlaying:a,setCurrentStep:n,setPlaybackSpeed:l,setActiveOp:N,setCreateInput:b,setCreateStep:R,setCreateSize:P,setInputValue:Ne,setInputIndex:Me,setListType:h,runAction:ne,handleExample:be,handleCanvasAdd:Ce,handleCanvasDelete:$e,handleCanvasUpdate:Be,handleCanvasClear:je}},Db=({listType:e,setListType:t,inputValue:r,setInputValue:n,inputIndex:s,setInputIndex:a,createInput:o,setCreateInput:l,error:d,runAction:c,handleExample:u,frames:h,currentStep:x})=>{const v=h[x],[k,N]=y.useState("Basics"),[_,p]=y.useState(""),g=[{id:"Basics",label:"Basics / Fundamentals",actions:[{id:"convertToArray",label:"Convert to Array",action:()=>c("convertToArray")}]},{id:"Traversal",label:"Traversal Operations",actions:[{id:"iterativeTraversal",label:"Iterative Traversal",action:()=>c("iterativeTraversal")},{id:"recursiveTraversal",label:"Recursive Traversal",action:()=>c("recursiveTraversal")},{id:"reverseTraversal",label:"Reverse Traversal (Doubly)",action:()=>c("reverseTraversal"),disabled:e!=="doubly"},{id:"showLength",label:"Show Length",action:()=>c("showLength")},{id:"findMiddle",label:"Find Middle",action:()=>c("findMiddle")}]},{id:"Insertion",label:"Insertion Operations",actions:[{id:"insertHead",label:"Insert at Head",action:()=>c("insertHead"),needsValue:!0},{id:"insertTail",label:"Insert at Tail",action:()=>c("insertTail"),needsValue:!0},{id:"insertPosition",label:"Insert at Position",action:()=>c("insertPosition"),needsValue:!0,needsIndex:!0},{id:"insertAfterValue",label:"Insert After Value",action:()=>c("insertAfterValue"),needsValue:!0,needsIndex:!0},{id:"insertBeforeValue",label:"Insert Before Value",action:()=>c("insertBeforeValue"),needsValue:!0,needsIndex:!0},{id:"sortedInsert",label:"Sorted Insert",action:()=>c("sortedInsert"),needsValue:!0}]},{id:"Deletion",label:"Deletion Operations",actions:[{id:"deleteHead",label:"Delete Head",action:()=>c("deleteHead")},{id:"deleteTail",label:"Delete Tail",action:()=>c("deleteTail")},{id:"deleteByValue",label:"Delete by Value",action:()=>c("deleteByValue"),needsValue:!0},{id:"deletePosition",label:"Delete at Position",action:()=>c("deletePosition"),needsIndex:!0},{id:"deleteAllOccurrences",label:"Delete All Occurrences",action:()=>c("deleteAllOccurrences"),needsValue:!0},{id:"deleteList",label:"Delete List",action:()=>c("deleteList")}]},{id:"Searching",label:"Searching Operations",actions:[{id:"linearSearch",label:"Linear Search",action:()=>c("linearSearch"),needsValue:!0},{id:"findNthNode",label:"Find Nth Node",action:()=>c("findNthNode"),needsIndex:!0},{id:"findNthFromEnd",label:"Find Nth from End",action:()=>c("findNthFromEnd"),needsIndex:!0},{id:"findMiddleNode",label:"Find Middle Node",action:()=>c("findMiddleNode")},{id:"countOccurrences",label:"Count Occurrences",action:()=>c("countOccurrences"),needsValue:!0}]},{id:"Advanced",label:"Advanced Operations",actions:[{id:"reverseList",label:"Reverse List",action:()=>c("reverseList")},{id:"reverseInKGroups",label:"Reverse in K Groups",action:()=>c("reverseInKGroups"),needsValue:!0},{id:"detectCycle",label:"Detect Cycle (Floyd)",action:()=>c("detectCycle")},{id:"removeCycle",label:"Remove Cycle",action:()=>c("removeCycle")},{id:"mergeTwoLists",label:"Merge Two Lists",action:()=>c("mergeTwoLists")},{id:"mergeSortList",label:"Merge Sort List",action:()=>c("mergeSortList")},{id:"checkPalindrome",label:"Check Palindrome",action:()=>c("checkPalindrome")},{id:"rotateList",label:"Rotate List",action:()=>c("rotateList"),needsIndex:!0}]},{id:"Special",label:"Special Algorithms",actions:[{id:"intersectionPoint",label:"Intersection Point",action:()=>c("intersectionPoint")},{id:"unionOfLists",label:"Union of Lists",action:()=>c("unionOfLists")},{id:"cloneRandomList",label:"Clone Random List",action:()=>c("cloneRandomList")},{id:"partitionList",label:"Partition List",action:()=>c("partitionList"),needsValue:!0},{id:"oddEvenRearrange",label:"Odd Even Rearrange",action:()=>c("oddEvenRearrange")},{id:"swapNodesPairwise",label:"Swap Nodes Pairwise",action:()=>c("swapNodesPairwise")}]}],b=g.find(P=>P.id===k),E=(b==null?void 0:b.actions)||[],R=E.find(P=>P.id===_);y.useEffect(()=>{E.length>0?p(E[0].id):p("")},[k]);const Y=()=>{R&&!R.disabled&&R.action()};return i.jsxs("div",{className:"flex flex-col gap-5 h-full overflow-y-auto pr-2",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-1.5",children:[i.jsx("label",{className:"text-xs font-bold uppercase tracking-wider text-gray-500 dark:text-[#9794c7]",children:"List Type"}),i.jsx("div",{className:"bg-gray-100 dark:bg-[#121121] p-1 rounded-lg flex shadow-inner",children:["singly","doubly","circular"].map(P=>i.jsx("button",{onClick:()=>t(P),className:`flex-1 py-1.5 text-[10px] uppercase font-bold rounded transition-all ${e===P?"bg-white dark:bg-[#2e2b52] text-primary shadow-sm":"text-gray-400 hover:text-gray-600"}`,children:P},P))})]}),i.jsxs("div",{className:"space-y-1.5",children:[i.jsx("label",{className:"text-xs font-bold uppercase tracking-wider text-gray-500 dark:text-[#9794c7]",children:"Category"}),i.jsx(Mr,{value:k,onChange:N,options:g.map(P=>({value:P.id,label:P.label}))})]}),i.jsxs("div",{className:"space-y-1.5 animate-in fade-in slide-in-from-top-1",children:[i.jsx("label",{className:"text-xs font-bold uppercase tracking-wider text-gray-500 dark:text-[#9794c7]",children:"Operation"}),i.jsx(Mr,{value:_,onChange:p,options:E.map(P=>({value:P.id,label:P.label}))})]}),i.jsxs("div",{className:"space-y-3 pt-2",children:[(R==null?void 0:R.needsArrayInput)&&i.jsxs("div",{className:"space-y-1 animate-in fade-in zoom-in-95 duration-200",children:[i.jsx("label",{className:"text-[10px] font-bold uppercase tracking-wider text-gray-500 dark:text-[#9794c7] ml-1",children:"Comma-separated Values"}),i.jsx("input",{type:"text",value:o,onChange:P=>l(P.target.value),className:"w-full bg-white dark:bg-[#121121] border border-gray-200 dark:border-[#272546] text-slate-700 dark:text-gray-300 text-sm rounded-lg px-3 py-2 outline-none focus:ring-2 focus:ring-primary shadow-sm transition-all",placeholder:"e.g. 5, 10, 15, 20",onKeyDown:P=>P.key==="Enter"&&Y()})]}),i.jsxs("div",{className:"flex gap-2 w-full",children:[(R==null?void 0:R.needsValue)&&i.jsxs("div",{className:"space-y-1 flex-1 animate-in fade-in zoom-in-95 duration-200",children:[i.jsx("label",{className:"text-[10px] font-bold uppercase tracking-wider text-gray-500 dark:text-[#9794c7] ml-1",children:"Value (K)"}),i.jsx("input",{type:"number",value:r,onChange:P=>n(P.target.value),className:"w-full bg-white dark:bg-[#121121] border border-gray-200 dark:border-[#272546] text-slate-700 dark:text-gray-300 text-sm rounded-lg px-3 py-2 outline-none focus:ring-2 focus:ring-primary shadow-sm transition-all text-center font-mono font-bold",placeholder:"0",onKeyDown:P=>P.key==="Enter"&&Y()})]}),(R==null?void 0:R.needsIndex)&&i.jsxs("div",{className:"space-y-1 flex-1 animate-in fade-in zoom-in-95 duration-200",children:[i.jsx("label",{className:"text-[10px] font-bold uppercase tracking-wider text-gray-500 dark:text-[#9794c7] ml-1",children:"Index / Target"}),i.jsx("input",{type:"number",value:s,onChange:P=>a(P.target.value),className:"w-full bg-white dark:bg-[#121121] border border-gray-200 dark:border-[#272546] text-slate-700 dark:text-gray-300 text-sm rounded-lg px-3 py-2 outline-none focus:ring-2 focus:ring-primary shadow-sm transition-all text-center font-mono font-bold",placeholder:"0",onKeyDown:P=>P.key==="Enter"&&Y()})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-2",children:[i.jsxs("button",{onClick:u,className:"flex items-center justify-center gap-1.5 py-2.5 rounded-lg bg-indigo-50 dark:bg-indigo-900/20 text-indigo-700 dark:text-indigo-300 border border-indigo-200 dark:border-indigo-900/40 hover:bg-indigo-100 dark:hover:bg-indigo-900/40 text-[13px] font-bold transition-all shadow-sm group",children:[i.jsx("span",{className:"material-symbols-outlined text-[18px] group-hover:rotate-12 transition-transform",children:"auto_fix"}),"Example"]}),i.jsxs("button",{onClick:Y,disabled:R==null?void 0:R.disabled,className:`flex items-center justify-center gap-1.5 py-2.5 rounded-lg text-white text-[13px] font-bold transition-all shadow-md shadow-indigo-500/20 ${R!=null&&R.disabled?"opacity-50 cursor-not-allowed bg-gray-400":"bg-indigo-600 hover:bg-indigo-500"}`,children:[i.jsx("span",{className:"material-symbols-outlined text-[20px]",children:R!=null&&R.disabled?"block":"play_arrow"}),"Run"]})]}),d&&i.jsxs("div",{className:"p-2.5 text-xs text-red-500 bg-red-50 dark:bg-red-900/10 border border-red-100 dark:border-red-900/20 rounded-lg animate-in shake font-medium flex items-center gap-2 mt-2",children:[i.jsx("span",{className:"material-symbols-outlined text-[16px]",children:"error"}),d]})]})]}),i.jsx("div",{className:"flex-1 mt-4"}),v&&i.jsxs("div",{className:"space-y-4 pt-4 border-t border-gray-100 dark:border-[#272546]",children:[v.visited&&v.visited.length>0&&i.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-2",children:[i.jsx("label",{className:"text-xs font-bold uppercase tracking-wider text-gray-500 dark:text-[#9794c7]",children:"Visited Array"}),i.jsx("div",{className:"flex flex-wrap gap-1.5 mt-2 bg-white dark:bg-[#151426] p-2 rounded-xl border border-gray-100 dark:border-[#272546]",children:v.visited.map((P,X)=>i.jsx("div",{className:"size-6 flex items-center justify-center bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-400 font-mono font-bold text-xs rounded border border-emerald-200 dark:border-emerald-800",children:P},X))})]}),v.output&&i.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-2",children:[i.jsx("label",{className:"text-xs font-bold uppercase tracking-wider text-gray-500 dark:text-[#9794c7]",children:"Output Log"}),i.jsx("div",{className:"p-4 mt-2 rounded-xl bg-indigo-50 dark:bg-indigo-900/10 border border-indigo-200 dark:border-indigo-900/30 shadow-sm",children:i.jsx("p",{className:"text-sm font-mono text-indigo-700 dark:text-indigo-300 break-words leading-relaxed font-bold",children:v.output})})]})]})]})},sh={insertHead:{c:{lines:["struct Node* v = (struct Node*)malloc(sizeof(struct Node));","v->data = val;","v->next = head;","head = v;","if (tail == NULL) tail = v;"],mapping:{0:[0,1],1:2,2:3,3:4}},cpp:{lines:["Node* v = new Node(val);","v->next = head;","head = v;","if (tail == nullptr) tail = v;"],mapping:{0:0,1:1,2:2,3:3}},java:{lines:["Node v = new Node(val);","v.next = head;","head = v;","if (tail == null) tail = v;"],mapping:{0:0,1:1,2:2,3:3}},python:{lines:["v = Node(val)","v.next = head","head = v","if tail is None: tail = v"],mapping:{0:0,1:1,2:2,3:3}}},insertTail:{c:{lines:["struct Node* v = (struct Node*)malloc(sizeof(struct Node));","v->data = val;","v->next = NULL;","if (tail != NULL) tail->next = v;","tail = v;","if (head == NULL) head = v;"],mapping:{0:[0,1,2],1:3,2:4,3:5}},cpp:{lines:["Node* v = new Node(val);","if (tail != nullptr) tail->next = v;","tail = v;","if (head == nullptr) head = v;"],mapping:{0:0,1:1,2:2,3:3}},java:{lines:["Node v = new Node(val);","if (tail != null) tail.next = v;","tail = v;","if (head == null) head = v;"],mapping:{0:0,1:1,2:2,3:3}},python:{lines:["v = Node(val)","if tail is not None: tail.next = v","tail = v","if head is None: head = v"],mapping:{0:0,1:1,2:2,3:3}}},insertIndex:{c:{lines:["struct Node* v = (struct Node*)malloc(sizeof(struct Node));","v->data = val;","struct Node* curr = head;","for (int i = 0; i < index - 1; i++) {","    curr = curr->next;","}","v->next = curr->next;","curr->next = v;"],mapping:{0:[0,1],1:2,2:3,3:4,4:6,5:7}},cpp:{lines:["Node* v = new Node(val);","Node* curr = head;","for (int i = 0; i < index - 1; i++) {","    curr = curr->next;","}","v->next = curr->next;","curr->next = v;"],mapping:{0:0,1:1,2:2,3:3,4:5,5:6}},java:{lines:["Node v = new Node(val);","Node curr = head;","for (int i = 0; i < index - 1; i++) {","    curr = curr.next;","}","v.next = curr.next;","curr.next = v;"],mapping:{0:0,1:1,2:2,3:3,4:5,5:6}},python:{lines:["v = Node(val)","curr = head","for i in range(index - 1):","    curr = curr.next","v.next = curr.next","curr.next = v"],mapping:{0:0,1:1,2:2,3:3,4:4,5:5}}},removeHead:{c:{lines:["if (head == NULL) return;","struct Node* temp = head;","head = head->next;","free(temp);","if (head == NULL) tail = NULL;"],mapping:{0:0,1:2,2:[4]}},cpp:{lines:["if (head == nullptr) return;","Node* temp = head;","head = head->next;","delete temp;","if (head == nullptr) tail = nullptr;"],mapping:{0:0,1:2,2:4}},java:{lines:["if (head == null) return;","head = head.next;","if (head == null) tail = null;"],mapping:{0:0,1:1,2:2}},python:{lines:["if head is None: return","head = head.next","if head is None: tail = None"],mapping:{0:0,1:1,2:2}}},removeTail:{c:{lines:["if (head == NULL) return;","struct Node* curr = head;","while (curr->next != tail) {","    curr = curr->next;","}","curr->next = NULL;","tail = curr;","free(tail_old);"],mapping:{0:0,1:1,2:2,3:3,4:5,5:6}},cpp:{lines:["if (head == nullptr) return;","Node* curr = head;","while (curr->next != tail) {","    curr = curr->next;","}","curr->next = nullptr;","delete tail;","tail = curr;"],mapping:{0:0,1:1,2:2,3:3,4:5,5:7}},java:{lines:["if (head == null) return;","Node curr = head;","while (curr.next != tail) {","    curr = curr.next;","}","curr.next = null;","tail = curr;"],mapping:{0:0,1:1,2:2,3:3,4:5,5:6}},python:{lines:["if head is None: return","curr = head","while curr.next != tail:","    curr = curr.next","curr.next = None","tail = curr"],mapping:{0:0,1:1,2:2,3:3,4:4,5:5}}},removeIndex:{c:{lines:["struct Node* curr = head;","for (int i = 0; i < index - 1; i++) {","    curr = curr->next;","}","struct Node* temp = curr->next;","curr->next = temp->next;","free(temp);"],mapping:{0:0,1:1,2:2,3:5}},cpp:{lines:["Node* curr = head;","for (int i = 0; i < index - 1; i++) {","    curr = curr->next;","}","Node* temp = curr->next;","curr->next = temp->next;","delete temp;"],mapping:{0:0,1:1,2:2,3:5}},java:{lines:["Node curr = head;","for (int i = 0; i < index - 1; i++) {","    curr = curr.next;","}","curr.next = curr.next.next;"],mapping:{0:0,1:1,2:2,3:4}},python:{lines:["curr = head","for i in range(index - 1):","    curr = curr.next","curr.next = curr.next.next"],mapping:{0:0,1:1,2:2,3:3}}},search:{c:{lines:["struct Node* curr = head;","while (curr != NULL) {","    if (curr->data == target) return true;","    curr = curr->next;","}","return false;"],mapping:{0:0,1:1,2:2,3:3,4:5}},cpp:{lines:["Node* curr = head;","while (curr != nullptr) {","    if (curr->val == target) return true;","    curr = curr->next;","}","return false;"],mapping:{0:0,1:1,2:2,3:3,4:5}},java:{lines:["Node curr = head;","while (curr != null) {","    if (curr.val == target) return true;","    curr = curr.next;","}","return false;"],mapping:{0:0,1:1,2:2,3:3,4:5}},python:{lines:["curr = head","while curr is not None:","    if curr.val == target: return True","    curr = curr.next","return False"],mapping:{0:0,1:1,2:2,3:3,4:4}}},create:{c:{lines:["struct Node* head = NULL; struct Node* tail = NULL;","for (int i = 0; i < N; i++) {","    struct Node* v = malloc(sizeof(struct Node));","    v->data = val; v->next = NULL;","    if (head == NULL) head = v;","    else tail->next = v;","    tail = v;","}"],mapping:{0:0,1:1,2:[2,3],3:4,4:5,5:6}},cpp:{lines:["Node* head = nullptr; Node* tail = nullptr;","for (int val : input) {","    Node* v = new Node(val);","    if (head == nullptr) head = v;","    else tail->next = v;","    tail = v;","}"],mapping:{0:0,1:1,2:2,3:3,4:4,5:5}},java:{lines:["Node head = null, tail = null;","for (int val : input) {","    Node v = new Node(val);","    if (head == null) head = v;","    else tail.next = v;","    tail = v;","}"],mapping:{0:0,1:1,2:2,3:3,4:4,5:5}},python:{lines:["head = None; tail = None","for val in input:","    v = Node(val)","    if head is None: head = v","    else: tail.next = v","    tail = v"],mapping:{0:0,1:1,2:2,3:3,4:4,5:5}}}},Fb=({currentFrame:e,codeLanguage:t,setCodeLanguage:r})=>{const[n,s]=y.useState("pseudo");return i.jsxs("div",{className:"flex flex-col h-full",children:[i.jsxs("div",{className:"flex border-b border-gray-200 dark:border-[#272546]",children:[i.jsx("button",{onClick:()=>s("pseudo"),className:`flex-1 py-2 text-[10px] font-bold uppercase tracking-wider transition-colors ${n==="pseudo"?"text-primary border-b-2 border-primary":"text-gray-400 hover:text-gray-300"}`,children:"Pseudocode"}),i.jsx("button",{onClick:()=>s("code"),className:`flex-1 py-2 text-[10px] font-bold uppercase tracking-wider transition-colors ${n==="code"?"text-primary border-b-2 border-primary":"text-gray-400 hover:text-gray-300"}`,children:"Code"}),i.jsx("button",{onClick:()=>s("info"),className:`flex-1 py-2 text-[10px] font-bold uppercase tracking-wider transition-colors ${n==="info"?"text-primary border-b-2 border-primary":"text-gray-400 hover:text-gray-300"}`,children:"Info"})]}),i.jsxs("div",{className:"flex-1 overflow-y-auto min-h-0 bg-gray-50/50 dark:bg-transparent",children:[n==="pseudo"&&i.jsx("div",{className:"p-4 font-mono text-xs text-gray-600 dark:text-gray-400 space-y-1",children:e.pseudoLines&&e.pseudoLines.length>0?e.pseudoLines.map((a,o)=>i.jsxs("div",{className:`px-2 py-1.5 rounded-sm border-l-2 transition-all ${o===e.codeLine?"bg-primary/10 text-primary dark:text-white border-primary font-bold shadow-sm":"border-transparent opacity-80"}`,children:[i.jsx("span",{className:"mr-3 select-none opacity-50",children:o}),a]},o)):i.jsx("div",{className:"text-center italic text-gray-500 mt-4",children:"Select an operation to view pseudocode."})}),n==="code"&&i.jsxs("div",{className:"flex flex-col h-full",children:[i.jsx("div",{className:"p-2 border-b border-gray-100 dark:border-[#272546] flex gap-1 bg-white dark:bg-[#151426]",children:["c","cpp","java","python"].map(a=>i.jsx("button",{onClick:()=>r(a),className:`flex-1 py-1 rounded text-[10px] font-bold uppercase ${t===a?"bg-primary text-white":"text-gray-400 hover:bg-gray-100 dark:hover:bg-white/5"}`,children:a==="cpp"?"C++":a.toUpperCase()},a))}),i.jsx("div",{className:"p-4 font-mono text-xs text-gray-600 dark:text-gray-400 overflow-y-auto space-y-0.5",children:(()=>{if(!e.opName||!sh[e.opName])return i.jsx("div",{className:"text-center italic text-gray-500 mt-4",children:"No code available."});const a=sh[e.opName][t],o=a.mapping[e.codeLine],l=Array.isArray(o)?o:o!==void 0?[o]:[];return a.lines.map((d,c)=>{let u=d;return e.opValues&&Object.entries(e.opValues).forEach(([h,x])=>{u=u.replace(new RegExp(`\\b${h}\\b`,"g"),String(x))}),i.jsxs("div",{className:`px-2 py-1 -mx-2 rounded flex gap-3 transition-colors duration-200 ${l.includes(c)?"bg-indigo-50 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300 border-l-2 border-indigo-500":"border-l-2 border-transparent"}`,children:[i.jsx("span",{className:"text-gray-300 dark:text-gray-600 select-none w-4 text-right",children:c+1}),i.jsx("span",{className:"whitespace-pre",children:u})]},c)})})()})]}),n==="info"&&i.jsxs("div",{className:"p-4 space-y-6",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-[10px] uppercase font-bold text-gray-400 mb-2",children:"Internal State"}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsxs("div",{className:"bg-white dark:bg-[#151426] p-2 rounded border border-gray-100 dark:border-[#272546]",children:[i.jsx("div",{className:"text-[10px] text-gray-500",children:"Size"}),i.jsx("div",{className:"text-lg font-mono font-bold text-primary",children:e.nodes.length})]}),i.jsxs("div",{className:"bg-white dark:bg-[#151426] p-2 rounded border border-gray-100 dark:border-[#272546]",children:[i.jsx("div",{className:"text-[10px] text-gray-500",children:"Head"}),i.jsx("div",{className:"text-lg font-mono font-bold text-primary",children:e.nodes.length>0?e.nodes[0]:"null"})]})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-[10px] uppercase font-bold text-gray-400 mb-2",children:"Time Complexity"}),e.opName&&ca[e.opName]?i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-center bg-white dark:bg-[#151426] p-2 rounded border border-gray-100 dark:border-[#272546]",children:[i.jsx("span",{className:"text-xs text-gray-500",children:"Best Case"}),i.jsx("span",{className:"font-mono text-xs font-bold text-green-500",children:ca[e.opName].best})]}),i.jsxs("div",{className:"flex justify-between items-center bg-white dark:bg-[#151426] p-2 rounded border border-gray-100 dark:border-[#272546]",children:[i.jsx("span",{className:"text-xs text-gray-500",children:"Average Case"}),i.jsx("span",{className:"font-mono text-xs font-bold text-yellow-500",children:ca[e.opName].avg})]}),i.jsxs("div",{className:"flex justify-between items-center bg-white dark:bg-[#151426] p-2 rounded border border-gray-100 dark:border-[#272546]",children:[i.jsx("span",{className:"text-xs text-gray-500",children:"Worst Case"}),i.jsx("span",{className:"font-mono text-xs font-bold text-red-500",children:ca[e.opName].worst})]})]}):i.jsx("div",{className:"text-xs text-gray-500 italic",children:"Select an operation to view complexity."})]})]})]})]})},Mb=({activeTool:e,setActiveTool:t,onAdd:r,onClear:n})=>{const s=[{id:"edit",icon:"edit",label:"Edit Value"},{id:"delete",icon:"delete",label:"Delete Node"}];return i.jsxs("div",{className:"absolute top-4 left-4 bg-white dark:bg-[#1e1c33] p-1.5 rounded-xl shadow-[0_8px_30px_rgb(0,0,0,0.12)] border border-gray-200 dark:border-[#272546] flex flex-row items-center gap-1 z-50 animate-in slide-in-from-left-4 fade-in",children:[s.map(a=>i.jsxs("button",{onClick:()=>t(e===a.id?null:a.id),className:`relative w-10 h-10 flex items-center justify-center rounded-lg transition-all duration-200 group
                        ${e===a.id?"bg-primary text-white shadow-lg shadow-primary/30":"text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-[#2a2845]"}`,title:a.label,children:[i.jsx("span",{className:"material-symbols-outlined text-[20px]",children:a.icon}),i.jsx("div",{className:"absolute -bottom-10 left-1/2 -translate-x-1/2 px-2 py-1 bg-gray-900 text-white text-[10px] font-medium rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap pointer-events-none",children:a.label})]},a.id)),i.jsx("div",{className:"w-[1px] h-6 bg-gray-200 dark:bg-[#272546] mx-1"}),i.jsxs("button",{onClick:r,className:"relative w-10 h-10 flex items-center justify-center rounded-lg text-emerald-500 hover:bg-emerald-50 dark:hover:bg-emerald-900/20 transition-all duration-200 group",title:"Add Node (Tail)",children:[i.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"add_box"}),i.jsx("div",{className:"absolute -bottom-10 left-1/2 -translate-x-1/2 px-2 py-1 bg-gray-900 text-white text-[10px] font-medium rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap pointer-events-none",children:"Add Node"})]}),i.jsxs("button",{onClick:n,className:"relative w-10 h-10 flex items-center justify-center rounded-lg text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 transition-all duration-200 group",title:"Clear List",children:[i.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"delete_sweep"}),i.jsx("div",{className:"absolute -bottom-10 left-1/2 -translate-x-1/2 px-2 py-1 bg-gray-900 text-white text-[10px] font-medium rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap pointer-events-none",children:"Clear List"})]})]})};function Ub(){var re,fe;const{createInput:e,inputValue:t,inputIndex:r,listType:n,currentFrame:s,frames:a,currentStep:o,isPlaying:l,playbackSpeed:d,error:c,setCreateInput:u,setInputValue:h,setInputIndex:x,setListType:v,setCurrentStep:k,setIsPlaying:N,setPlaybackSpeed:_,runAction:p,handleExample:g,handleCanvasAdd:b,handleCanvasDelete:E,handleCanvasUpdate:R,handleCanvasClear:Y}=Ob(),[P,X]=y.useState(null),[Ne,ye]=y.useState(null),[Me,Ie]=y.useState(.6),F=y.useRef(null),Ae=y.useRef(null),[qe,ze]=y.useState(1),[Fe,xe]=y.useState({x:0,y:0}),[te,ke]=y.useState(!1),[Oe,Re]=y.useState({x:0,y:0}),[_e,Ke]=y.useState("python"),{setIsSidebarOpen:Je}=Ls();y.useEffect(()=>{Je(!1)},[Je]);const se=ce=>{ce.preventDefault();const ne=ce.clientY,be=Me,Ce=Be=>{if(!F.current)return;const je=F.current.offsetHeight,Ge=Be.clientY-ne,$=Math.min(.8,Math.max(.2,be+Ge/je));Ie($)},$e=()=>{document.removeEventListener("mousemove",Ce),document.removeEventListener("mouseup",$e)};document.addEventListener("mousemove",Ce),document.addEventListener("mouseup",$e)};y.useEffect(()=>{if(!Ae.current||s.nodes.length===0)return;const ce=s.nodes.length*150+200,ne=Ae.current.clientWidth-40;let be=.8;ce>ne&&(be=Math.min(.8,ne/ce)),ze(be)},[s.nodes.length]);const Qe=ce=>{ce.ctrlKey||ce.metaKey;{const ne=-ce.deltaY;ze(be=>Math.min(Math.max(.2,be+ne*.001),3))}},Ye=(ce,ne,be)=>{if(be.stopPropagation(),P==="delete")E(ce);else if(P==="edit"){const Ce=be.currentTarget.getBoundingClientRect();ye({index:ce,val:ne||0,x:Ce.left+Ce.width/2,y:Ce.bottom+10})}},Le=ce=>{if(ce.key==="Enter"&&Ne){const ne=parseInt(ce.target.value);isNaN(ne)||R(Ne.index,ne),ye(null)}else ce.key==="Escape"&&ye(null)},G=i.jsxs("div",{className:"h-full flex flex-col relative",ref:F,children:[i.jsx("div",{style:{height:`${Me*100}%`},className:"min-h-0 overflow-y-auto border-b border-gray-200 dark:border-[#272546] p-4",children:i.jsx(Db,{listType:n,setListType:v,createInput:e,setCreateInput:u,inputValue:t,setInputValue:h,inputIndex:r,setInputIndex:x,error:c,runAction:p,handleExample:g,frames:a,currentStep:o})}),i.jsx("div",{className:"h-1 bg-gray-100 dark:bg-[#272546] hover:bg-primary cursor-row-resize transition-colors absolute w-full z-10",style:{top:`${Me*100}%`},onMouseDown:se}),i.jsx("div",{className:"flex-1 min-h-0 overflow-hidden bg-white dark:bg-[#1e1c33]",children:i.jsx(Fb,{currentFrame:s,codeLanguage:_e,setCodeLanguage:Ke})})]}),ue=i.jsxs("div",{className:"w-full bg-white dark:bg-[#131221] border-t border-gray-200 dark:border-[#272546] px-8 py-4 flex items-center justify-between gap-8 h-20 shadow-md relative z-20",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("button",{onClick:()=>k(0),className:"text-gray-400 hover:text-white transition-colors",children:i.jsx("span",{className:"material-symbols-outlined text-[24px]",children:"skip_previous"})}),i.jsx("button",{onClick:()=>k(ce=>Math.max(0,ce-1)),className:"text-gray-400 hover:text-white transition-colors",children:i.jsx("span",{className:"material-symbols-outlined text-[28px]",children:"fast_rewind"})}),i.jsx("button",{onClick:()=>N(!l),className:"rounded-full flex items-center justify-center text-white bg-primary size-12 shadow-lg shadow-primary/30 transition-transform hover:scale-105 active:scale-95",children:i.jsx("span",{className:"material-symbols-outlined filled text-[28px]",children:l?"pause":"play_arrow"})}),i.jsx("button",{onClick:()=>k(ce=>Math.min(a.length-1,ce+1)),className:"text-gray-400 hover:text-white transition-colors",children:i.jsx("span",{className:"material-symbols-outlined text-[28px]",children:"fast_forward"})}),i.jsx("button",{onClick:()=>k(a.length-1),className:"text-gray-400 hover:text-white transition-colors",children:i.jsx("span",{className:"material-symbols-outlined text-[24px]",children:"skip_next"})})]}),i.jsxs("div",{className:"flex-1 flex flex-col gap-2",children:[i.jsxs("div",{className:"flex justify-between text-xs font-medium font-mono text-gray-500 dark:text-gray-400",children:[i.jsxs("span",{children:["Step ",o+1,"/",a.length||1]}),i.jsxs("span",{className:"text-primary",children:[Math.round((o+1)/(a.length||1)*100),"%"]})]}),i.jsx("div",{className:"h-1.5 w-full bg-gray-200 dark:bg-[#272546] rounded-full overflow-hidden relative cursor-pointer",onClick:ce=>{const ne=ce.currentTarget.getBoundingClientRect(),be=(ce.clientX-ne.left)/ne.width;k(Math.floor(be*(a.length-1)))},children:i.jsx("div",{className:"h-full bg-primary relative rounded-full",style:{width:`${(o+1)/(a.length||1)*100}%`}})})]}),i.jsxs("div",{className:"flex items-center gap-3 border-l border-gray-200 dark:border-[#272546] w-40 pl-6",children:[i.jsx("span",{className:"material-symbols-outlined text-gray-400 text-sm",children:"speed"}),i.jsx("input",{type:"range",min:"0.5",max:"3",step:"0.5",value:d,onChange:ce=>_(parseFloat(ce.target.value)),className:"w-full h-1 bg-gray-200 dark:bg-[#272546] rounded-lg appearance-none cursor-pointer accent-primary"}),i.jsxs("span",{className:"text-xs font-mono text-gray-500 w-8",children:[d,"x"]})]})]});return i.jsxs(Dn,{title:"Linked List",sidebarPosition:"right",contentClassName:"flex-1 flex flex-col relative z-0 overflow-hidden",sidebarNoPadding:!0,sidebarNoScroll:!0,sidebar:G,rightSidebar:null,leftSidebar:null,controls:ue,children:[i.jsx(Mb,{activeTool:P,setActiveTool:ce=>{X(ce),ye(null)},onAdd:b,onClear:Y}),Ne&&i.jsxs("div",{className:"fixed z-[100] bg-white dark:bg-[#1e1c33] p-2 rounded-lg shadow-xl border border-gray-200 dark:border-[#272546] animate-in zoom-in-95 duration-200",style:{left:Ne.x,top:Ne.y,transform:"translateX(-50%)"},children:[i.jsx("input",{type:"number",autoFocus:!0,defaultValue:Ne.val,onKeyDown:Le,onBlur:()=>ye(null),className:"w-20 bg-gray-50 dark:bg-[#121121] border border-gray-200 dark:border-[#383564] rounded px-2 py-1 text-sm text-center font-bold outline-none focus:ring-2 focus:ring-primary"}),i.jsx("div",{className:"absolute -top-2 left-1/2 -translate-x-1/2 w-4 h-4 bg-white dark:bg-[#1e1c33] border-t border-l border-gray-200 dark:border-[#272546] rotate-45"})]}),i.jsxs("div",{ref:Ae,className:`flex-1 relative overflow-hidden flex flex-col items-center justify-center bg-gray-50/50 dark:bg-black/20 ${te?"cursor-grabbing":"cursor-grab"} ${P?"cursor-crosshair":""}`,onMouseDown:ce=>{ke(!0),Re({x:ce.clientX,y:ce.clientY})},onMouseMove:ce=>{te&&(xe(ne=>({x:ne.x+ce.clientX-Oe.x,y:ne.y+ce.clientY-Oe.y})),Re({x:ce.clientX,y:ce.clientY}))},onMouseUp:()=>ke(!1),onMouseLeave:()=>ke(!1),onWheel:Qe,onClick:()=>{P&&ye(null)},children:[i.jsxs("div",{className:"flex items-center transition-transform duration-100 ease-out origin-center",style:{transform:`translate(${Fe.x}px, ${Fe.y}px) scale(${qe})`},children:[s.nodes.length===0&&(!s.tempNodes||s.tempNodes.length===0)?i.jsx("div",{className:"opacity-30 text-2xl font-bold uppercase text-gray-400",children:"Empty List"}):s.nodes.map((ce,ne)=>{const be=s.highlights.includes(ne);let Ce=s.pointers.filter($e=>$e.index===ne);return ne===0&&!Ce.some($e=>$e.label==="HEAD")&&Ce.push({index:ne,label:"HEAD",color:"red"}),ne===s.nodes.length-1&&!Ce.some($e=>$e.label==="TAIL")&&Ce.push({index:ne,label:"TAIL",color:"green"}),i.jsxs("div",{className:`flex items-center group relative ${P?"cursor-pointer hover:scale-105 transition-transform":""}`,onClick:$e=>Ye(ne,ce,$e),children:[i.jsxs("div",{className:"relative z-10",children:[i.jsx("div",{className:"absolute -top-12 left-1/2 -translate-x-1/2 flex flex-col-reverse gap-1",children:Ce.map(($e,Be)=>i.jsx("div",{className:`px-2 py-0.5 rounded text-[10px] font-bold uppercase shadow-sm whitespace-nowrap ${$e.color==="red"?"bg-rose-500 text-white":$e.color==="green"?"bg-emerald-500 text-white":$e.color==="blue"?"bg-blue-500 text-white":"bg-white dark:bg-[#383564] border border-gray-200 dark:border-white/10 text-gray-600 dark:text-gray-300"}`,children:$e.label},Be))}),i.jsxs("div",{className:`w-28 h-12 rounded-lg border-2 flex items-center justify-center text-xl font-bold font-mono shadow-sm transition-all ${be?"border-primary bg-primary/10 text-primary scale-110 shadow-[0_0_15px_rgba(66,54,231,0.3)]":"border-indigo-200 dark:border-[#383564] bg-blue-50/50 dark:bg-[#1e1e24] text-slate-800 dark:text-white"} ${P?"hover:border-primary hover:shadow-md":""}`,children:[ce,i.jsxs("div",{className:"absolute top-0 left-1 text-[9px] text-gray-400 p-1 opacity-50 border-r border-b border-gray-100 dark:border-[#2e2b4d] rounded-br",children:["idx: ",ne]}),n==="doubly"&&i.jsx("div",{className:"absolute left-0 h-full w-4 border-r border-gray-200 dark:border-[#383564]"}),i.jsx("div",{className:"absolute right-0 h-full w-8 border-l border-gray-200 dark:border-[#383564] bg-gray-50 dark:bg-[#151426] flex items-center justify-center",children:i.jsx("div",{className:"size-2 rounded-full bg-gray-400"})})]})]}),ne<s.nodes.length-1&&i.jsx("div",{className:"w-16 h-8 relative flex items-center justify-center text-gray-400",children:i.jsxs("svg",{className:"w-full h-full overflow-visible",viewBox:"0 0 64 32",children:[i.jsx("path",{d:"M0 16 H62",stroke:"currentColor",strokeWidth:"2",markerEnd:"url(#arrowhead)"}),n==="doubly"&&i.jsx("path",{d:"M64 24 H2",stroke:"currentColor",strokeWidth:"2",markerEnd:"url(#arrowhead)",opacity:"0.5"})]})}),ne===s.nodes.length-1&&n==="circular"&&i.jsx("div",{className:"absolute top-full left-1/2 w-full h-16 border-b-2 border-l-2 border-r-2 border-dashed border-gray-400/50 rounded-b-3xl pointer-events-none",style:{left:`calc(-${ne*100}% - ${ne*64}px + 56px)`,width:`calc(${ne*100}% + ${ne*64}px)`},children:i.jsx("div",{className:"absolute bottom-2 right-1/2 translate-x-1/2 bg-white dark:bg-[#121121] px-2 text-[10px] text-gray-400 font-mono",children:"Next pts to Head"})})]},ne)}),(re=s.tempNodes)==null?void 0:re.map((ce,ne)=>{let be=0,Ce=0;const je=112+64;return ce.position==="left-of-head"?be=-je:ce.position==="right-of-tail"?be=s.nodes.length*je:ce.position==="above-at-index"&&(be=(ce.offsetIndex||0)*je,Ce=-100),i.jsx("div",{className:"absolute top-0 flex items-center z-20 transition-all duration-500 ease-out",style:{left:`${be}px`,transform:`translateY(${Ce}px)`},children:i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute -top-8 left-1/2 -translate-x-1/2",children:i.jsx("div",{className:"px-2 py-0.5 rounded text-[10px] font-bold uppercase shadow-sm whitespace-nowrap bg-blue-500 text-white",children:ce.label})}),i.jsxs("div",{className:"w-28 h-12 rounded-lg border-2 flex items-center justify-center text-xl font-bold font-mono shadow-xl border-blue-500 bg-blue-500/10 text-blue-500",children:[ce.val,i.jsx("div",{className:"absolute right-0 h-full w-8 border-l border-blue-200 dark:border-blue-500/30 bg-blue-50/50 dark:bg-blue-900/10 flex items-center justify-center",children:i.jsx("div",{className:"size-2 rounded-full bg-blue-400"})})]})]})},`temp-${ne}`)}),n!=="circular"&&s.nodes.length>0&&i.jsxs("div",{className:"ml-2 flex items-center gap-1 opacity-50",children:[i.jsx("div",{className:"w-8 h-[2px] bg-gray-400"}),i.jsx("div",{className:"px-2 py-1 text-xs font-bold text-gray-400 border border-dashed border-gray-300 dark:border-white/10 rounded bg-gray-50 dark:bg-white/5",children:"NULL"})]}),i.jsxs("svg",{className:"absolute top-0 left-0 w-full h-full pointer-events-none overflow-visible z-0",style:{minWidth:"100%",minHeight:"100%"},children:[i.jsxs("defs",{children:[i.jsx("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"7",refX:"9",refY:"3.5",orient:"auto",children:i.jsx("polygon",{points:"0 0, 10 3.5, 0 7",fill:"currentColor"})}),i.jsx("marker",{id:"arrowhead-blue",markerWidth:"10",markerHeight:"7",refX:"9",refY:"3.5",orient:"auto",children:i.jsx("polygon",{points:"0 0, 10 3.5, 0 7",fill:"#3b82f6"})}),i.jsx("marker",{id:"arrowhead-red",markerWidth:"10",markerHeight:"7",refX:"9",refY:"3.5",orient:"auto",children:i.jsx("polygon",{points:"0 0, 10 3.5, 0 7",fill:"#ef4444"})}),i.jsx("marker",{id:"arrowhead-green",markerWidth:"10",markerHeight:"7",refX:"9",refY:"3.5",orient:"auto",children:i.jsx("polygon",{points:"0 0, 10 3.5, 0 7",fill:"#10b981"})})]}),(fe=s.tempArrows)==null?void 0:fe.map((ce,ne)=>{const Be=q=>{var K;if(typeof q=="number")return q*176+56;if(q==="null")return s.nodes.length*176+20;if(q==="temp"){const W=(K=s.tempNodes)==null?void 0:K[0];if(!W)return 0;if(W.position==="left-of-head")return-120;if(W.position==="right-of-tail")return s.nodes.length*176+56;if(W.position==="above-at-index")return(W.offsetIndex||0)*176+56}return 0},je=q=>{var K;if(q==="temp"){const W=(K=s.tempNodes)==null?void 0:K[0];return(W==null?void 0:W.position)==="above-at-index"?-76:24}return 24},Ge=Be(ce.from),$=je(ce.from),A=Be(ce.to),B=je(ce.to);if(ce.curved){const q=(Ge+A)/2,K=$-60;return i.jsx("path",{d:`M ${Ge} ${$} Q ${q} ${K} ${A} ${B}`,stroke:ce.color||"red",strokeWidth:"2",fill:"none",markerEnd:`url(#arrowhead-${ce.color==="green"?"green":"red"})`},ne)}return i.jsx("line",{x1:Ge,y1:$,x2:A,y2:B,stroke:ce.color||"blue",strokeWidth:"2",markerEnd:`url(#arrowhead-${ce.color==="green"?"green":"blue"})`},ne)})]})]}),s&&i.jsx("div",{className:"absolute bottom-4 right-4 z-40 flex flex-col items-end gap-2 max-w-md w-full pointer-events-none",children:i.jsxs("div",{className:"bg-white/90 dark:bg-[#1e1c33]/90 backdrop-blur-sm p-4 rounded-xl border border-gray-200 dark:border-[#272546] shadow-xl pointer-events-auto transition-all duration-300 transform translate-y-0 opacity-100 w-full",children:[i.jsx("h4",{className:"text-[10px] uppercase font-bold text-gray-400 mb-1 tracking-wider",children:"Current Operation"}),i.jsx("p",{className:"text-sm font-medium text-slate-700 dark:text-slate-200 leading-relaxed",children:s.description||"Ready to visualize..."})]})})]})]})}const kr=15,ih=[10,20,30],ah={enqueue:{best:"O(1)",avg:"O(1)",worst:"O(1)",space:"O(1)"},dequeue:{best:"O(1)",avg:"O(1)",worst:"O(1)",space:"O(1)"},peek:{best:"O(1)",avg:"O(1)",worst:"O(1)",space:"O(1)"},create:{best:"O(1)",avg:"O(1)",worst:"O(1)",space:"O(N)"},binaryNum:{best:"O(N)",avg:"O(N)",worst:"O(N)",space:"O(N)"},hotPotato:{best:"O(N*K)",avg:"O(N*K)",worst:"O(N*K)",space:"O(N)"}},zb={enqueue:["if rear == capacity - 1, return Queue Overflow","if front == -1, front = 0","rear = rear + 1","queue[rear] = value","return"],dequeue:["if front == -1, return Queue Underflow","value = queue[front]","if front == rear, front = rear = -1","else front = front + 1","return value"],peek:["if front == -1, return Queue Empty","return queue[front]"],create:["allocate memory for size N","front = -1, rear = -1","return queue reference"],binaryNum:["queue.enqueue('1')","while N > 0:","  current = queue.dequeue()","  print(current)","  queue.enqueue(current + '0')","  queue.enqueue(current + '1')","  N--"],hotPotato:["for player in players: queue.enqueue(player)","while queue.size > 1:","  for i = 0 to K:","    queue.enqueue(queue.dequeue())","  queue.dequeue() // eliminate","return queue.dequeue() // winner"]},Bb=`class Queue {
private:
    int* queue;
    int front, rear;
    int capacity;

public:
    Queue(int size) {
        queue = new int[size];
        capacity = size;
        front = rear = -1;
    }

    void enqueue(int value) {
        if (rear == capacity - 1) {
            cout << "Queue Overflow";
            return;
        }
        if (front == -1) front = 0;
        queue[++rear] = value;
    }

    int dequeue() {
        if (front == -1) {
            cout << "Queue Underflow";
            return -1;
        }
        int val = queue[front];
        if (front == rear) front = rear = -1;
        else front++;
        return val;
    }

    int peek() {
        if (front == -1) {
            cout << "Queue Empty";
            return -1;
        }
        return queue[front];
    }
};`,Vb=()=>{const[e,t]=y.useState(ih),[r,n]=y.useState([]),[s,a]=y.useState(0),[o,l]=y.useState(!1),[d,c]=y.useState(1),[u,h]=y.useState(null),[x,v]=y.useState(null),[k,N]=y.useState("standard"),[_,p]=y.useState("5"),[g,b]=y.useState(ih.join(", ")),[E,R]=y.useState("42"),[Y,P]=y.useState("5"),[X,Ne]=y.useState("6"),[ye,Me]=y.useState("2"),Ie=y.useRef(null),F=(G,ue,re,fe,ce,ne)=>({queue:[...G],highlights:ue,pointers:re,codeLine:fe,description:ce,internalState:{capacity:kr,size:G.length,front:G.length>0?0:-1,rear:G.length>0?G.length-1:-1,currentOp:ne}}),Ae=(G,ue)=>{const re=[],fe=`ENQUEUE(${ue})`;let ce=[...G],ne=ce.length>0?0:-1,be=ce.length>0?ce.length-1:-1;return re.push(F(ce,[],[{index:be,label:"rear",color:"primary"},{index:ne,label:"front",color:"primary"}],0,"Check for Queue Overflow...",fe)),ce.length>=kr?(re.push(F(ce,[],[{index:be,label:"rear",color:"red"}],0,"Error: Queue Overflow",fe)),{startQueue:G,endQueue:G,timeline:re}):(ne===-1&&(re.push(F(ce,[],[{index:0,label:"front",color:"green"}],1,"Initialize front = 0",fe)),ne=0),re.push(F(ce,[],[{index:be+1,label:"rear",color:"primary"},{index:ne,label:"front",color:"primary"}],2,"Increment rear pointer",fe)),be++,re.push(F(ce,[],[{index:be,label:"rear",color:"primary"},{index:ne,label:"front",color:"primary"}],3,`Assign queue[rear] = "${ue}"`,fe)),ce.push(ue),re.push(F(ce,[be],[{index:be,label:"rear",color:"green"},{index:ne,label:"front",color:"primary"}],4,`Enqueued "${ue}"`,fe)),re.push(F(ce,[],[{index:be,label:"rear",color:"primary"},{index:ne,label:"front",color:"primary"}],4,"Done",fe)),{startQueue:G,endQueue:ce,timeline:re})},qe=G=>{const ue=[],re="DEQUEUE()";let fe=[...G],ce=fe.length>0?0:-1,ne=fe.length>0?fe.length-1:-1;if(ue.push(F(fe,[],[{index:ce,label:"front",color:"primary"}],0,"Check for Queue Underflow...",re)),fe.length===0)return ue.push(F(fe,[],[],0,"Error: Queue Underflow",re)),{startQueue:G,endQueue:G,timeline:ue};const be=fe[0];return ue.push(F(fe,[0],[{index:ce,label:"front",color:"primary"},{index:ne,label:"rear",color:"primary"}],1,`Read value "${be}"`,re)),ue.push(F(fe,[0],[{index:ce,label:"front",color:"red"}],3,"Removing element from front...",re)),fe.shift(),ne--,ne<0&&(ce=-1,ne=-1),ue.push(F(fe,[],[{index:ce,label:"front",color:"primary"},{index:ne,label:"rear",color:"primary"}],4,`Returned "${be}"`,re)),{startQueue:G,endQueue:fe,timeline:ue}},ze=G=>{const ue=[],re="PEEK()";let fe=[...G],ce=fe.length>0?0:-1,ne=fe.length>0?fe.length-1:-1;return fe.length===0?(ue.push(F(fe,[],[],0,"Error: Queue Empty",re)),{startQueue:G,endQueue:G,timeline:ue}):(ue.push(F(fe,[0],[{index:ce,label:"front",color:"green"},{index:ne,label:"rear",color:"primary"}],1,`Front value is "${fe[0]}"`,re)),{startQueue:G,endQueue:G,timeline:ue})},Fe=G=>{n(G.timeline),a(0),l(!0),t(G.endQueue)},xe=()=>{let G=parseInt(E);if(isNaN(G)&&(G=E.trim()),G===""){v("Invalid Input");return}if(e.length>=kr){v("Queue Overflow");return}const ue=Ae(e,G);Fe(ue)},te=()=>{if(e.length===0){v("Queue Underflow");return}const G=qe(e);Fe(G)},ke=()=>{if(e.length===0){v("Queue Empty");return}const G=ze(e);Fe(G)},Oe=()=>{const G=parseInt(_);if(isNaN(G)||G<=0||G>kr)return;let ue=[];g.trim()&&(ue=g.split(",").map(ne=>ne.trim()).filter(ne=>ne!=="").map(ne=>{const be=parseInt(ne);return isNaN(be)?ne:be})),ue.length>G&&(ue=ue.slice(0,G)),t(ue);const re=ue.length>0?0:-1,fe=ue.length>0?ue.length-1:-1,ce=[];re!==-1&&ce.push({index:re,label:"front",color:"primary"}),fe!==-1&&ce.push({index:fe,label:"rear",color:"primary"}),n([F(ue,[],ce,2,`Queue Initialized (Size ${ue.length})`,"CREATE")]),a(0),l(!1)},Re=()=>{const G=e.length,ue=G>0?G:5,re=Array.from({length:ue},()=>Math.floor(Math.random()*99)+1);t(re),b(re.join(", ")),p(ue.toString());const fe=0,ce=re.length-1;n([F(re,[],[{index:fe,label:"front",color:"primary"},{index:ce,label:"rear",color:"primary"}],2,"Example Queue Loaded","EXAMPLE")]),a(0),l(!1)},_e=()=>{if(e.length>=kr){v("Queue Overflow");return}const G=Math.floor(Math.random()*99)+1,ue=[...e,G];t(ue);const re=0,fe=ue.length-1;n([F(ue,[],[{index:re,label:"front",color:"primary"},{index:fe,label:"rear",color:"primary"}],0,`Enqueued ${G}`,"None")]),a(0),v(null)},Ke=()=>{if(e.length===0){v("Queue Underflow");return}const G=e.slice(1);t(G);const ue=G.length>0?0:-1,re=G.length>0?G.length-1:-1,fe=[];ue!==-1&&fe.push({index:ue,label:"front",color:"primary"}),re!==-1&&fe.push({index:re,label:"rear",color:"primary"}),n([F(G,[],fe,0,"Dequeued front element","None")]),a(0),v(null)},Je=()=>{t([]),n([F([],[],[],0,"Queue Cleared","None")]),a(0),v(null)},se=(G,ue)=>{const re=[...e];re[G]=ue,t(re);const fe=re.length>0?0:-1,ce=re.length>0?re.length-1:-1,ne=[];fe!==-1&&ne.push({index:fe,label:"front",color:"primary"}),ce!==-1&&ne.push({index:ce,label:"rear",color:"primary"}),n([F(re,[G],ne,0,`Updated index ${G} to ${ue}`,"None")]),a(0),v(null)},Qe=()=>{const G=parseInt(Y);if(isNaN(G)||G<1||G>15){v("Please enter a valid number between 1 and 15");return}const ue=[];let re=["1"];ue.push(F(re,[0],[{index:0,label:"front",color:"primary"},{index:0,label:"rear",color:"primary"}],0,'Initial Queue: ["1"]',"APP"));for(let fe=1;fe<=G;fe++){const ce=re[0];re=re.slice(1);const ne=ce+"0",be=ce+"1";re.length<kr&&re.push(ne),re.length<kr&&re.push(be);const Ce=re.length>0?0:-1,$e=re.length>0?re.length-1:-1,Be=[];Ce!==-1&&Be.push({index:Ce,label:"front",color:"primary"}),$e!==-1&&Be.push({index:$e,label:"rear",color:"primary"}),ue.push(F(re,[],Be,0,`Generated ${ce}. Appended ${ne}, ${be}`,"APP"))}t([]),n(ue),a(0),l(!0),v(null)},Ye=()=>{const G=parseInt(X),ue=parseInt(ye);if(isNaN(G)||G<2||G>kr){v(`Players must be between 2 and ${kr}`);return}if(isNaN(ue)||ue<0){v("Passes must be >= 0");return}const re=[];let fe=Array.from({length:G},(ce,ne)=>`P${ne+1}`);for(re.push(F(fe,[],[{index:0,label:"front",color:"primary"},{index:fe.length-1,label:"rear",color:"primary"}],0,`Initialized with ${G} players`,"APP"));fe.length>1;){for(let be=0;be<ue;be++){const Ce=fe[0];fe=[...fe.slice(1),Ce],re.push(F(fe,[fe.length-1],[{index:0,label:"front",color:"primary"},{index:fe.length-1,label:"rear",color:"primary"}],0,`Passed potato to ${Ce}`,"APP"))}const ce=fe[0];fe=fe.slice(1);const ne=[];fe.length>0&&(ne.push({index:0,label:"front",color:"primary"}),ne.push({index:fe.length-1,label:"rear",color:"primary"})),re.push(F(fe,[],ne,0,`${ce} is eliminated!`,"APP"))}re.push(F(fe,[0],[{index:0,label:"front",color:"primary"},{index:0,label:"rear",color:"primary"}],0,`${fe[0]} wins the game!`,"APP")),t([]),n(re),a(0),l(!0),v(null)};y.useEffect(()=>(o&&r.length>0?Ie.current=window.setInterval(()=>{a(G=>G<r.length-1?G+1:(l(!1),G))},1e3/d):Ie.current&&clearInterval(Ie.current),()=>{Ie.current&&clearInterval(Ie.current)}),[o,r.length,d]);const Le=r[s]||{queue:e,highlights:[],pointers:e.length>0?[{index:0,label:"front",color:"primary"},{index:e.length-1,label:"rear",color:"primary"}]:[],codeLine:-1,description:"Ready",internalState:{capacity:kr,size:e.length,front:e.length>0?0:-1,rear:e.length>0?e.length-1:-1,currentOp:"None"}};return{initialQueue:e,frames:r,currentStep:s,isPlaying:o,playbackSpeed:d,activeOp:u,error:x,mode:k,createSize:_,createInput:g,enqueueValue:E,binaryNumInput:Y,hotPotatoPlayers:X,hotPotatoPasses:ye,currentFrame:Le,setIsPlaying:l,setCurrentStep:a,setPlaybackSpeed:c,setActiveOp:h,setError:v,setMode:N,setCreateSize:p,setCreateInput:b,setEnqueueValue:R,setBinaryNumInput:P,setHotPotatoPlayers:Ne,setHotPotatoPasses:Me,handleEnqueue:xe,handleDequeue:te,handlePeek:ke,handleCreateCustom:Oe,handleExample:Re,handleCanvasEnqueue:_e,handleCanvasDequeue:Ke,handleCanvasClear:Je,handleCanvasUpdate:se,handleBinaryNumbers:Qe,handleHotPotato:Ye}},qb=({activeOp:e,setActiveOp:t,mode:r,setMode:n,enqueueValue:s,setEnqueueValue:a,handleEnqueue:o,handleDequeue:l,handlePeek:d,binaryNumInput:c,setBinaryNumInput:u,hotPotatoPlayers:h,setHotPotatoPlayers:x,hotPotatoPasses:v,setHotPotatoPasses:k,handleBinaryNumbers:N,handleHotPotato:_,handleExample:p,error:g})=>{const b=r==="standard"?[{id:"enqueue",label:"Enqueue Element"},{id:"dequeue",label:"Dequeue Element"},{id:"peek",label:"Peek Front"}]:[{id:"binaryNum",label:"Binary Numbers"},{id:"hotPotato",label:"Hot Potato"}];y.useEffect(()=>{!e&&r==="standard"?t("enqueue"):!e&&r==="apps"&&t("binaryNum")},[r]);const E=()=>{switch(e){case"enqueue":o();break;case"dequeue":l();break;case"peek":d();break;case"binaryNum":N();break;case"hotPotato":_();break}};return i.jsxs("div",{className:"flex flex-col gap-6",children:[i.jsxs("div",{className:"bg-gray-100 dark:bg-[#121121] p-1.5 rounded-xl flex gap-1 border border-gray-200 dark:border-[#272546]",children:[i.jsx("button",{onClick:()=>{n("standard"),t("enqueue")},className:`flex-1 py-2 text-xs font-bold rounded-lg transition-all ${r==="standard"?"bg-white dark:bg-[#272546] text-primary shadow-sm":"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"}`,children:"Standard"}),i.jsx("button",{onClick:()=>{n("apps"),t("binaryNum")},className:`flex-1 py-2 text-xs font-bold rounded-lg transition-all ${r==="apps"?"bg-white dark:bg-[#272546] text-primary shadow-sm":"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"}`,children:"Applications"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-1.5",children:[i.jsx("label",{className:"text-xs font-bold uppercase tracking-wider text-gray-500 dark:text-[#9794c7]",children:"Operation"}),i.jsx(Mr,{value:e||"",options:b.map(R=>({value:R.id,label:R.label})),onChange:R=>t(R),placeholder:"Select Operation..."})]}),i.jsxs("div",{className:"animate-in fade-in slide-in-from-top-2",children:[e==="enqueue"&&i.jsxs("div",{className:"space-y-3 bg-gray-50/50 dark:bg-white/5 p-4 rounded-xl border border-gray-100 dark:border-white/5",children:[i.jsx("span",{className:"text-[10px] text-gray-400 uppercase font-bold tracking-tight",children:"Value to Enqueue"}),i.jsx("input",{type:"text",value:s,onChange:R=>a(R.target.value),className:"w-full bg-white dark:bg-[#121121] border border-gray-200 dark:border-[#383564] rounded-lg px-3 py-2 text-sm text-center font-bold"})]}),(e==="dequeue"||e==="peek")&&i.jsx("div",{className:"p-4 rounded-xl bg-gray-50/50 dark:bg-white/5 border border-gray-100 dark:border-white/5",children:i.jsx("p",{className:"text-xs text-gray-500 italic leading-relaxed text-center",children:e==="dequeue"?"Remove and return the element from the front of the queue.":"View the front element without removing it."})}),e==="binaryNum"&&i.jsxs("div",{className:"space-y-4 bg-gray-50/50 dark:bg-white/5 p-4 rounded-xl border border-gray-100 dark:border-white/5",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("span",{className:"text-[10px] text-gray-400 uppercase font-bold tracking-tight",children:"Generate N Binary Numbers"}),i.jsx("input",{type:"number",min:"1",max:"15",value:c,onChange:R=>u(R.target.value),className:"w-full bg-white dark:bg-[#121121] border border-gray-200 dark:border-[#383564] rounded-lg px-3 py-2 text-sm text-center font-bold"})]}),i.jsx("p",{className:"text-xs text-gray-500 italic leading-relaxed text-center",children:"Uses a queue to systematically generate binary numbers up to N by appending '0' and '1' to dequeued values."})]}),e==="hotPotato"&&i.jsxs("div",{className:"space-y-4 bg-gray-50/50 dark:bg-white/5 p-4 rounded-xl border border-gray-100 dark:border-white/5",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("span",{className:"text-[10px] text-gray-400 uppercase font-bold tracking-tight",children:"Players"}),i.jsx("input",{type:"number",min:"2",max:"15",value:h,onChange:R=>x(R.target.value),className:"w-full bg-white dark:bg-[#121121] border border-gray-200 dark:border-[#383564] rounded-lg px-2 py-2 text-sm text-center font-bold"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("span",{className:"text-[10px] text-gray-400 uppercase font-bold tracking-tight",children:"Passes"}),i.jsx("input",{type:"number",min:"0",value:v,onChange:R=>k(R.target.value),className:"w-full bg-white dark:bg-[#121121] border border-gray-200 dark:border-[#383564] rounded-lg px-2 py-2 text-sm text-center font-bold"})]})]}),i.jsx("p",{className:"text-xs text-gray-500 italic leading-relaxed text-center",children:"Simulates the Hot Potato / Josephus Problem. After N passes, the person holding the potato is eliminated."})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-2",children:[i.jsxs("button",{onClick:p,className:"flex items-center justify-center gap-1.5 py-2.5 rounded-lg bg-indigo-50 dark:bg-indigo-900/20 text-indigo-700 dark:text-indigo-300 border border-indigo-200 dark:border-indigo-900/40 hover:bg-indigo-100 dark:hover:bg-indigo-900/40 text-[13px] font-bold transition-all shadow-sm group",children:[i.jsx("span",{className:"material-symbols-outlined text-[18px] group-hover:rotate-12 transition-transform",children:"auto_fix"}),"Example"]}),i.jsxs("button",{onClick:E,className:`flex items-center justify-center gap-1.5 py-2.5 rounded-lg text-white text-[13px] font-bold transition-all shadow-md shadow-indigo-500/20 ${e==="dequeue"?"bg-red-500 hover:bg-red-600 shadow-red-500/20":"bg-indigo-600 hover:bg-indigo-500 shadow-indigo-500/20"}`,children:[i.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"play_arrow"}),"Run"]})]}),g&&i.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/10 border border-red-100 dark:border-red-900/30 rounded-xl animate-in shake duration-500",children:i.jsx("p",{className:"text-red-600 dark:text-red-400 text-xs font-medium leading-relaxed",children:g})})]})]})},Hb=({activeTab:e,activeOp:t,currentFrame:r})=>{const n=t?ah[t]:ah.enqueue,s=t?zb[t]:[];return e==="code"?i.jsxs("div",{className:"flex flex-col gap-2 h-full",children:[i.jsx("h3",{className:"text-xs font-bold uppercase tracking-wider text-gray-400 dark:text-[#9794c7] mb-2 pl-2",children:"Implementation"}),i.jsx("div",{className:"bg-[#121121] border border-[#383564] rounded-lg p-3 overflow-auto flex-1 font-mono text-xs text-gray-300",children:i.jsx("pre",{children:Bb})})]}):e==="pseudo"?i.jsxs("div",{className:"flex flex-col gap-2 h-full",children:[i.jsx("h3",{className:"text-xs font-bold uppercase tracking-wider text-gray-400 dark:text-[#9794c7] mb-2 pl-2",children:"Pseudocode"}),i.jsx("div",{className:"bg-[#121121] border border-[#383564] rounded-lg p-4 font-mono text-xs text-gray-400",children:i.jsxs("div",{className:"space-y-1",children:[s.map((a,o)=>i.jsxs("p",{className:`px-2 py-1 -mx-2 rounded border-l-2 transition-colors ${o===r.codeLine?"text-primary dark:text-white bg-primary/10 dark:bg-primary/20 border-primary":"border-transparent"}`,children:[o+1,". ",a]},o)),s.length===0&&i.jsx("span",{className:"text-gray-500 italic",children:"Select an operation to see logic..."})]})})]}):i.jsxs("div",{className:"flex flex-col gap-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-xs font-bold uppercase tracking-wider text-gray-400 dark:text-[#9794c7] mb-2 pl-2",children:"Complexity"}),i.jsxs("div",{className:"bg-white/5 dark:bg-[#1c1a32]/50 border border-gray-200 dark:border-[#383564] rounded-xl p-4 text-xs font-mono text-gray-400",children:[i.jsxs("div",{className:"flex justify-between border-b border-white/10 pb-2 mb-2",children:[i.jsx("span",{className:"text-white font-bold uppercase",children:t||"QUEUE"}),i.jsx("span",{className:"text-primary",children:n.avg})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Best"}),i.jsx("span",{className:"text-emerald-400",children:n.best})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Avg"}),i.jsx("span",{className:"text-amber-400",children:n.avg})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Worst"}),i.jsx("span",{className:"text-rose-400",children:n.worst})]}),i.jsxs("div",{className:"flex justify-between border-t border-white/10 pt-1 mt-1",children:[i.jsx("span",{children:"Space"}),i.jsx("span",{className:"text-blue-400",children:n.space})]})]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xs font-bold uppercase tracking-wider text-gray-400 dark:text-[#9794c7] mb-2 pl-2",children:"Internal State"}),i.jsx("div",{className:"bg-white/5 dark:bg-[#1c1a32]/50 border border-gray-200 dark:border-[#383564] rounded-xl p-4 text-xs font-mono text-gray-400",children:i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between border-b border-gray-200 dark:border-white/5 pb-1",children:[i.jsx("span",{children:"Capacity"}),i.jsx("span",{className:"text-primary font-bold",children:r.internalState.capacity})]}),i.jsxs("div",{className:"flex justify-between border-b border-gray-200 dark:border-white/5 pb-1",children:[i.jsx("span",{children:"Size"}),i.jsx("span",{className:"text-slate-900 dark:text-white font-bold",children:r.internalState.size})]}),i.jsxs("div",{className:"flex justify-between border-b border-gray-200 dark:border-white/5 pb-1",children:[i.jsx("span",{children:"Front Index"}),i.jsx("span",{className:"text-slate-900 dark:text-white font-bold",children:r.internalState.front})]}),i.jsxs("div",{className:"flex justify-between border-b border-gray-200 dark:border-white/5 pb-1",children:[i.jsx("span",{children:"Rear Index"}),i.jsx("span",{className:"text-slate-900 dark:text-white font-bold",children:r.internalState.rear})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Op"}),i.jsx("span",{className:"text-orange-400 font-bold uppercase",children:r.internalState.currentOp})]})]})})]})]})},Wb=({activeTool:e,setActiveTool:t,onEnqueue:r,onDequeue:n,onClear:s})=>i.jsxs("div",{className:"absolute top-4 left-4 bg-white dark:bg-[#1e1c33] p-1.5 rounded-xl shadow-[0_8px_30px_rgb(0,0,0,0.12)] border border-gray-200 dark:border-[#272546] flex flex-row items-center gap-1 z-50 animate-in slide-in-from-left-4 fade-in",children:[i.jsxs("button",{onClick:r,className:"relative w-10 h-10 flex items-center justify-center rounded-lg text-emerald-500 hover:bg-emerald-50 dark:hover:bg-emerald-900/20 transition-all duration-200 group",title:"Enqueue (Add)",children:[i.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"add_box"}),i.jsx("div",{className:"absolute -bottom-10 left-1/2 -translate-x-1/2 px-2 py-1 bg-gray-900 text-white text-[10px] font-medium rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap pointer-events-none",children:"Enqueue"})]}),i.jsxs("button",{onClick:()=>t(e==="edit"?null:"edit"),className:`relative w-10 h-10 flex items-center justify-center rounded-lg transition-all duration-200 group ${e==="edit"?"bg-blue-100 dark:bg-blue-900/40 text-blue-600 dark:text-blue-400 shadow-inner":"text-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20"}`,title:"Edit Values",children:[i.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"edit"}),i.jsx("div",{className:"absolute -bottom-10 left-1/2 -translate-x-1/2 px-2 py-1 bg-gray-900 text-white text-[10px] font-medium rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap pointer-events-none z-50",children:"Edit Values"})]}),i.jsxs("button",{onClick:n,className:"relative w-10 h-10 flex items-center justify-center rounded-lg text-amber-500 hover:bg-amber-50 dark:hover:bg-amber-900/20 transition-all duration-200 group",title:"Dequeue (Remove)",children:[i.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"indeterminate_check_box"}),i.jsx("div",{className:"absolute -bottom-10 left-1/2 -translate-x-1/2 px-2 py-1 bg-gray-900 text-white text-[10px] font-medium rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap pointer-events-none",children:"Dequeue"})]}),i.jsx("div",{className:"w-[1px] h-6 bg-gray-200 dark:bg-[#272546] mx-1"}),i.jsxs("button",{onClick:s,className:"relative w-10 h-10 flex items-center justify-center rounded-lg text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 transition-all duration-200 group",title:"Clear Queue",children:[i.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"delete_sweep"}),i.jsx("div",{className:"absolute -bottom-10 left-1/2 -translate-x-1/2 px-2 py-1 bg-gray-900 text-white text-[10px] font-medium rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap pointer-events-none",children:"Clear Queue"})]})]}),Kb=()=>{const{frames:e,currentStep:t,isPlaying:r,playbackSpeed:n,activeOp:s,error:a,enqueueValue:o,mode:l,binaryNumInput:d,hotPotatoPlayers:c,hotPotatoPasses:u,currentFrame:h,setIsPlaying:x,setCurrentStep:v,setPlaybackSpeed:k,setActiveOp:N,setEnqueueValue:_,setMode:p,setBinaryNumInput:g,setHotPotatoPlayers:b,setHotPotatoPasses:E,handleEnqueue:R,handleDequeue:Y,handlePeek:P,handleExample:X,handleCanvasEnqueue:Ne,handleCanvasDequeue:ye,handleCanvasClear:Me,handleCanvasUpdate:Ie,handleBinaryNumbers:F,handleHotPotato:Ae}=Vb(),[qe,ze]=y.useState("pseudo"),[Fe,xe]=y.useState(.5),[te,ke]=y.useState(!1),Oe=y.useRef(null),[Re,_e]=y.useState({x:0,y:0}),[Ke,Je]=y.useState(1),[se,Qe]=y.useState(!1),[Ye,Le]=y.useState({x:0,y:0}),[G,ue]=y.useState(null),[re,fe]=y.useState(null),ce=je=>{Qe(!0),Le({x:je.clientX,y:je.clientY})},ne=je=>{if(!se)return;const Ge=je.clientX-Ye.x,$=je.clientY-Ye.y;_e(A=>({x:A.x+Ge,y:A.y+$})),Le({x:je.clientX,y:je.clientY})},be=()=>Qe(!1),Ce=je=>{if(je.ctrlKey)return;const Ge=-je.deltaY*.001;Je($=>Math.min(Math.max(.5,$+Ge),3))},$e=(je,Ge,$)=>{if(G==="edit"){$.stopPropagation();const A=$.currentTarget.getBoundingClientRect();fe({index:je,value:String(Ge),x:A.left+A.width/2,y:A.top-10})}},Be=je=>{ke(!0),je.preventDefault()};return y.useEffect(()=>{const je=$=>{if(!te||!Oe.current)return;const A=Oe.current.getBoundingClientRect(),B=$.clientY-A.top,q=Math.max(.2,Math.min(.8,B/A.height));xe(q)},Ge=()=>{ke(!1)};return te&&(window.addEventListener("mousemove",je),window.addEventListener("mouseup",Ge)),()=>{window.removeEventListener("mousemove",je),window.removeEventListener("mouseup",Ge)}},[te]),i.jsxs(Dn,{title:"Queue",sidebarPosition:"right",contentClassName:"flex-1 flex flex-col relative z-10 overflow-hidden",sidebarNoPadding:!0,sidebarNoScroll:!0,sidebar:i.jsxs("div",{className:"h-full flex flex-col relative",ref:Oe,children:[i.jsx("div",{style:{height:`${Fe*100}%`},className:"min-h-0 overflow-y-auto border-b border-gray-200 dark:border-[#272546] p-4",children:i.jsx(qb,{activeOp:s,setActiveOp:N,mode:l,setMode:p,enqueueValue:o,setEnqueueValue:_,binaryNumInput:d,setBinaryNumInput:g,hotPotatoPlayers:c,setHotPotatoPlayers:b,hotPotatoPasses:u,setHotPotatoPasses:E,handleEnqueue:R,handleDequeue:Y,handlePeek:P,handleBinaryNumbers:F,handleHotPotato:Ae,handleExample:X,error:a})}),i.jsx("div",{className:"h-1 bg-gray-200 dark:bg-[#383564] cursor-row-resize hover:bg-primary transition-colors shrink-0 z-50",onMouseDown:Be}),i.jsxs("div",{className:"flex-1 min-h-0 flex flex-col bg-gray-50/50 dark:bg-[#1c1a32]/20 overflow-hidden",children:[i.jsx("div",{className:"flex p-1 bg-gray-100 dark:bg-[#121121] border-b border-gray-200 dark:border-[#272546] shrink-0",children:["pseudo","code","info"].map(je=>i.jsx("button",{onClick:()=>ze(je),className:`flex-1 py-1.5 text-[10px] uppercase font-bold rounded-md transition-all ${qe===je?"bg-white dark:bg-[#1c1a32] text-primary shadow-sm":"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"}`,children:je},je))}),i.jsx("div",{className:"flex-1 overflow-y-auto p-4 custom-scrollbar",children:i.jsx(Hb,{activeTab:qe,activeOp:s,currentFrame:h})})]})]}),controls:i.jsxs("div",{className:"w-full h-16 bg-white dark:bg-[#1e1c33] border-t border-gray-200 dark:border-[#272546] flex items-center px-6 gap-6 z-20",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:()=>v(0),className:"size-8 rounded-full flex items-center justify-center text-gray-500 hover:text-white transition-colors hover:bg-white/5",title:"Start",children:i.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"skip_previous"})}),i.jsx("button",{onClick:()=>v(je=>Math.max(0,je-1)),className:"size-8 rounded-full flex items-center justify-center text-gray-500 hover:text-white transition-colors hover:bg-white/5",title:"Prev",children:i.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"fast_rewind"})}),i.jsx("button",{onClick:()=>x(!r),className:`size-10 rounded-full flex items-center justify-center text-white shadow-lg transition-transform hover:scale-105 active:scale-95 ${r?"bg-red-500":"bg-primary"}`,children:i.jsx("span",{className:"material-symbols-outlined text-[24px] filled",children:r?"pause":"play_arrow"})}),i.jsx("button",{onClick:()=>v(je=>Math.min(e.length-1,je+1)),className:"size-8 rounded-full flex items-center justify-center text-gray-500 hover:text-white transition-colors hover:bg-white/5",title:"Next",children:i.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"fast_forward"})}),i.jsx("button",{onClick:()=>v(e.length-1),className:"size-8 rounded-full flex items-center justify-center text-gray-500 hover:text-white transition-colors hover:bg-white/5",title:"End",children:i.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"skip_next"})})]}),i.jsxs("div",{className:"flex-1 flex flex-col justify-center gap-1.5",children:[i.jsxs("div",{className:"flex justify-between text-xs font-medium text-gray-400",children:[i.jsxs("span",{children:["Step ",t+1,"/",e.length||1]}),i.jsx("span",{className:"truncate max-w-[200px]",children:h.description})]}),i.jsx("div",{className:"h-1.5 w-full bg-[#272546] rounded-full overflow-hidden relative cursor-pointer",onClick:je=>{const Ge=je.currentTarget.getBoundingClientRect(),$=(je.clientX-Ge.left)/Ge.width;v(Math.floor($*(e.length-1)))},children:i.jsx("div",{className:"h-full bg-primary relative rounded-full",style:{width:`${(t+1)/(e.length||1)*100}%`}})})]}),i.jsxs("div",{className:"flex items-center gap-3 w-32 border-l border-[#272546] pl-4",children:[i.jsx("span",{className:"material-symbols-outlined text-gray-500 text-sm",children:"speed"}),i.jsx("input",{type:"range",min:"0.5",max:"3",step:"0.5",value:n,onChange:je=>k(parseFloat(je.target.value)),className:"w-full h-1 bg-[#272546] rounded-lg appearance-none cursor-pointer accent-primary"})]})]}),children:[i.jsx(Wb,{activeTool:G,setActiveTool:ue,onEnqueue:Ne,onDequeue:ye,onClear:Me}),i.jsxs("div",{className:`flex-1 flex flex-col items-center justify-center overflow-hidden relative z-0 ${se?"cursor-grabbing":"cursor-grab"}`,onMouseDown:ce,onMouseMove:ne,onMouseUp:be,onMouseLeave:be,onWheel:Ce,children:[i.jsx("div",{className:"flex flex-row items-center justify-center gap-1 transition-transform duration-75 ease-out origin-center p-10 min-h-[400px] relative items-end pb-32",style:{transform:`translate(${Re.x}px, ${Re.y}px) scale(${Ke})`},children:i.jsxs("div",{className:"relative flex items-end gap-1 px-4 py-8 border-b-2 border-gray-300 dark:border-gray-700 min-w-[300px] min-h-[100px] justify-start",children:[h.queue.length===0&&i.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-gray-400 text-sm",children:"Queue Empty"}),h.queue.map((je,Ge)=>{const $=h.highlights.includes(Ge),A=h.pointers.filter(B=>B.index===Ge);return i.jsxs("div",{className:`relative w-16 h-16 flex-shrink-0 animate-in fade-in zoom-in duration-300 ${G==="edit"?"cursor-pointer hover:-translate-y-1 transition-transform":""}`,onClick:B=>$e(Ge,String(je),B),children:[i.jsx("div",{className:`
                                            w-full h-full rounded-lg flex items-center justify-center text-lg font-mono font-bold shadow-md border-2 transition-all duration-300
                                            ${$?"bg-primary text-white border-primary scale-110 z-10 shadow-[0_0_20px_rgba(66,54,231,0.5)]":"bg-white dark:bg-[#1c1a32] border-gray-300 dark:border-[#383564] text-slate-900 dark:text-white"}
                                        `,children:je}),i.jsx("div",{className:"absolute -bottom-8 left-1/2 -translate-x-1/2 text-xs text-gray-400 font-mono",children:Ge}),A.map((B,q)=>i.jsxs("div",{className:"absolute -top-10 left-1/2 -translate-x-1/2 flex flex-col items-center z-20",style:{top:`-${3+q*2.5}rem`},children:[i.jsx("span",{className:`text-[10px] uppercase font-black px-1.5 py-0.5 rounded shadow-sm border mb-0.5 whitespace-nowrap ${B.color==="primary"?"text-white bg-primary border-primary":B.color==="green"?"text-white bg-emerald-500 border-emerald-500":"text-white bg-rose-500 border-rose-500"}`,children:B.label}),i.jsx("span",{className:`material-symbols-outlined text-2xl drop-shadow-md ${B.color==="primary"?"text-primary":B.color==="green"?"text-emerald-500":"text-rose-500"}`,children:"arrow_drop_down"})]},B.label))]},Ge)})]})}),re&&i.jsxs("div",{className:"fixed z-50 bg-white dark:bg-[#1e1c33] p-2 rounded-lg shadow-xl border border-gray-200 dark:border-[#383564] flex gap-2 animate-in zoom-in-95 duration-200",style:{left:re.x,top:re.y,transform:"translate(-50%, -100%)"},children:[i.jsx("input",{type:"text",value:re.value,onChange:je=>fe({...re,value:je.target.value}),onKeyDown:je=>{je.key==="Enter"?(Ie(re.index,re.value),fe(null),ue(null)):je.key==="Escape"&&fe(null)},autoFocus:!0,className:"w-20 px-2 py-1 bg-gray-50 dark:bg-[#121121] border border-gray-200 dark:border-[#383564] rounded text-sm font-mono focus:outline-none focus:ring-2 focus:ring-primary"}),i.jsx("button",{onClick:()=>{Ie(re.index,re.value),fe(null),ue(null)},className:"px-2 py-1 bg-primary text-white rounded text-xs font-bold hover:bg-indigo-500",children:"Save"}),i.jsx("button",{onClick:()=>fe(null),className:"px-2 py-1 bg-gray-200 dark:bg-[#272546] text-gray-600 dark:text-gray-300 rounded text-xs font-bold hover:bg-gray-300 dark:hover:bg-[#383564]",children:i.jsx("span",{className:"material-symbols-outlined text-[14px]",children:"close"})})]})]})]})},oh={bubble:{c:{lines:["for (int i = 0; i < n-1; i++) {","    for (int j = 0; j < n-i-1; j++) {","        if (arr[j] > arr[j+1]) {","            swap(&arr[j], &arr[j+1]);","        }","    }","}"],mapping:{0:0,1:1,2:2,3:3}},cpp:{lines:["for (int i = 0; i < n-1; i++) {","    for (int j = 0; j < n-i-1; j++) {","        if (arr[j] > arr[j+1]) {","            std::swap(arr[j], arr[j+1]);","        }","    }","}"],mapping:{0:0,1:1,2:2,3:3}},java:{lines:["for (int i = 0; i < n-1; i++) {","    for (int j = 0; j < n-i-1; j++) {","        if (arr[j] > arr[j+1]) {","            int temp = arr[j];","            arr[j] = arr[j+1];","            arr[j+1] = temp;","        }","    }","}"],mapping:{0:0,1:1,2:2,3:[3,4,5]}},python:{lines:["for i in range(n-1):","    for j in range(n-i-1):","        if arr[j] > arr[j+1]:","            arr[j], arr[j+1] = arr[j+1], arr[j]"],mapping:{0:0,1:1,2:2,3:3}}},selection:{c:{lines:["for (int i = 0; i < n-1; i++) {","    int min_idx = i;","    for (int j = i+1; j < n; j++)","        if (arr[j] < arr[min_idx])","            min_idx = j;","    swap(&arr[min_idx], &arr[i]);","}"],mapping:{0:0,1:1,2:2,3:3,4:4,5:5}},cpp:{lines:["for (int i = 0; i < n-1; i++) {","    int min_idx = i;","    for (int j = i+1; j < n; j++)","        if (arr[j] < arr[min_idx])","            min_idx = j;","    std::swap(arr[min_idx], arr[i]);","}"],mapping:{0:0,1:1,2:2,3:3,4:4,5:5}},java:{lines:["for (int i = 0; i < n-1; i++) {","    int min_idx = i;","    for (int j = i+1; j < n; j++)","        if (arr[j] < arr[min_idx])","            min_idx = j;","    int temp = arr[min_idx];","    arr[min_idx] = arr[i];","    arr[i] = temp;","}"],mapping:{0:0,1:1,2:2,3:3,4:4,5:[5,6,7]}},python:{lines:["for i in range(n-1):","    min_idx = i","    for j in range(i+1, n):","        if arr[j] < arr[min_idx]:","            min_idx = j","    arr[i], arr[min_idx] = arr[min_idx], arr[i]"],mapping:{0:0,1:1,2:2,3:3,4:4,5:5}}},merge:{c:{lines:["void merge(int arr[], int l, int m, int r) {","    int n1 = m - l + 1;","    int n2 = r - m;","    int L[n1], R[n2];","    for (int i = 0; i < n1; i++) L[i] = arr[l + i];","    for (int j = 0; j < n2; j++) R[j] = arr[m + 1 + j];","    int i = 0, j = 0, k = l;","    while (i < n1 && j < n2) {","        if (L[i] <= R[j]) arr[k++] = L[i++];","        else arr[k++] = R[j++];","    }","    while (i < n1) arr[k++] = L[i++];","    while (j < n2) arr[k++] = R[j++];","}","void mergeSort(int arr[], int l, int r) {","    if (l < r) {","        int m = l + (r - l) / 2;","        mergeSort(arr, l, m);","        mergeSort(arr, m + 1, r);","        merge(arr, l, m, r);","    }","}"],mapping:{0:14,1:15,2:17,3:18,4:19,5:0,6:20}},cpp:{lines:["void merge(vector<int>& arr, int l, int m, int r) {","    int n1 = m - l + 1;","    int n2 = r - m;","    vector<int> L(n1), R(n2);","    for (int i = 0; i < n1; i++) L[i] = arr[l + i];","    for (int j = 0; j < n2; j++) R[j] = arr[m + 1 + j];","    int i = 0, j = 0, k = l;","    while (i < n1 && j < n2) {","        if (L[i] <= R[j]) arr[k++] = L[i++];","        else arr[k++] = R[j++];","    }","    while (i < n1) arr[k++] = L[i++];","    while (j < n2) arr[k++] = R[j++];","}","void mergeSort(vector<int>& arr, int l, int r) {","    if (l < r) {","        int m = l + (r - l) / 2;","        mergeSort(arr, l, m);","        mergeSort(arr, m + 1, r);","        merge(arr, l, m, r);","    }","}"],mapping:{0:14,1:15,2:17,3:18,4:19,5:0,6:20}},java:{lines:["void merge(int arr[], int l, int m, int r) {","    int n1 = m - l + 1;","    int n2 = r - m;","    int L[] = new int[n1];","    int R[] = new int[n2];","    for (int i = 0; i < n1; ++i) L[i] = arr[l + i];","    for (int j = 0; j < n2; ++j) R[j] = arr[m + 1 + j];","    int i = 0, j = 0, k = l;","    while (i < n1 && j < n2) {","        if (L[i] <= R[j]) arr[k++] = L[i++];","        else arr[k++] = R[j++];","    }","    while (i < n1) arr[k++] = L[i++];","    while (j < n2) arr[k++] = R[j++];","}","void sort(int arr[], int l, int r) {","    if (l < r) {","        int m = l + (r - l) / 2;","        sort(arr, l, m);","        sort(arr, m + 1, r);","        merge(arr, l, m, r);","    }","}"],mapping:{0:15,1:16,2:18,3:19,4:20,5:0,6:21}},python:{lines:["def merge(arr, l, m, r):","    n1 = m - l + 1","    n2 = r - m","    L = arr[l:m+1]","    R = arr[m+1:r+1]","    i = j = 0","    k = l","    while i < n1 and j < n2:","        if L[i] <= R[j]:","            arr[k] = L[i]; i += 1","        else:","            arr[k] = R[j]; j += 1","        k += 1","    while i < n1:","        arr[k] = L[i]; i += 1; k += 1","    while j < n2:","        arr[k] = R[j]; j += 1; k += 1","","def mergeSort(arr, l, r):","    if l < r:","        m = l + (r - l) // 2","        mergeSort(arr, l, m)","        mergeSort(arr, m + 1, r)","        merge(arr, l, m, r)"],mapping:{0:19,1:20,2:22,3:23,4:24,5:0,6:25}}},quick:{c:{lines:["int partition(int arr[], int low, int high) {","    int pivot = arr[high];","    int i = (low - 1);","    for (int j = low; j <= high - 1; j++) {","        if (arr[j] < pivot) {","            i++;","            swap(&arr[i], &arr[j]);","        }","    }","    swap(&arr[i + 1], &arr[high]);","    return (i + 1);","}","void quickSort(int arr[], int low, int high) {","    if (low < high) {","        int pi = partition(arr, low, high);","        quickSort(arr, low, pi - 1);","        quickSort(arr, pi + 1, high);","    }","}"],mapping:{0:13,1:14,2:15,3:16,4:17,5:0,6:6}},cpp:{lines:["int partition(vector<int>& arr, int low, int high) {","    int pivot = arr[high];","    int i = (low - 1);","    for (int j = low; j <= high - 1; j++) {","        if (arr[j] < pivot) {","            i++;","            std::swap(arr[i], arr[j]);","        }","    }","    std::swap(arr[i + 1], arr[high]);","    return (i + 1);","}","void quickSort(vector<int>& arr, int low, int high) {","    if (low < high) {","        int pi = partition(arr, low, high);","        quickSort(arr, low, pi - 1);","        quickSort(arr, pi + 1, high);","    }","}"],mapping:{0:13,1:14,2:15,3:16,4:17,5:0,6:6}},java:{lines:["int partition(int arr[], int low, int high) {","    int pivot = arr[high];","    int i = (low - 1);","    for (int j = low; j < high; j++) {","        if (arr[j] < pivot) {","            i++;","            int temp = arr[i];","            arr[i] = arr[j];","            arr[j] = temp;","        }","    }","    int temp = arr[i+1];","    arr[i+1] = arr[high];","    arr[high] = temp;","    return i+1;","}","void sort(int arr[], int low, int high) {","    if (low < high) {","        int pi = partition(arr, low, high);","        sort(arr, low, pi - 1);","        sort(arr, pi + 1, high);","    }","}"],mapping:{0:17,1:18,2:19,3:20,4:21,5:0,6:12}},python:{lines:["def partition(arr, low, high):","    pivot = arr[high]","    i = low - 1","    for j in range(low, high):","        if arr[j] <= pivot:","            i = i + 1","            arr[i], arr[j] = arr[j], arr[i]","    arr[i + 1], arr[high] = arr[high], arr[i + 1]","    return i + 1","","def quickSort(arr, low, high):","    if low < high:","        pi = partition(arr, low, high)","        quickSort(arr, low, pi - 1)","        quickSort(arr, pi + 1, high)"],mapping:{0:11,1:12,2:13,3:14,4:15,5:0,6:7}}}},Gb={"Bubble Sort":{name:"Bubble Sort",description:"A simple sorting algorithm that repeatedly steps through the list, compares adjacent elements and swaps them if they are in the wrong order.",complexity:{time:{best:"O(n)",average:"O(n)",worst:"O(n)"},space:"O(1)"},legend:[{label:"Compare",colorClass:"bg-indigo-500",description:"Elements currently being compared"},{label:"Swap",colorClass:"bg-amber-500",description:"Elements being swapped"},{label:"Sorted",colorClass:"bg-emerald-500",description:"Elements in their final sorted position"}]},"Selection Sort":{name:"Selection Sort",description:"Sorts an array by repeatedly finding the minimum element from unsorted part and putting it at the beginning.",complexity:{time:{best:"O(n)",average:"O(n)",worst:"O(n)"},space:"O(1)"},legend:[{label:"Current Min",colorClass:"bg-rose-500",description:"Current minimum found"},{label:"Compare",colorClass:"bg-indigo-500",description:"Being compared with current min"},{label:"Sorted",colorClass:"bg-emerald-500",description:"Sorted partition"}]},"Insertion Sort":{name:"Insertion Sort",description:"Builds the final sorted array one item at a time, similar to how you sort playing cards in your hand.",complexity:{time:{best:"O(n)",average:"O(n)",worst:"O(n)"},space:"O(1)"},legend:[{label:"Key",colorClass:"bg-rose-500",description:"Element being inserted"},{label:"Compare",colorClass:"bg-indigo-500",description:"Compared with key"},{label:"Sorted Sublist",colorClass:"bg-emerald-500",description:"Implicitly sorted part"}]},"Merge Sort":{name:"Merge Sort",description:"A Divide and Conquer algorithm. It divides the input array into two halves, calls itself for the two halves, and then merges the two sorted halves.",complexity:{time:{best:"O(n log n)",average:"O(n log n)",worst:"O(n log n)"},space:"O(n)"},legend:[{label:"Left Partition",colorClass:"bg-indigo-400",description:"Left subarray"},{label:"Right Partition",colorClass:"bg-purple-400",description:"Right subarray"},{label:"Merging",colorClass:"bg-amber-400",description:"Currently being merged"},{label:"Sorted",colorClass:"bg-emerald-500",description:"Merged and sorted segment"}]},"Quick Sort":{name:"Quick Sort",description:"A Divide and Conquer algorithm. It picks an element as pivot and partitions the given array around the picked pivot.",complexity:{time:{best:"O(n log n)",average:"O(n log n)",worst:"O(n)"},space:"O(log n)"},legend:[{label:"Pivot",colorClass:"bg-rose-500",description:"Element chosen as pivot"},{label:"Left < Pivot",colorClass:"bg-indigo-400",description:"Elements smaller than pivot"},{label:"Right > Pivot",colorClass:"bg-purple-400",description:"Elements larger than pivot"},{label:"Sorted",colorClass:"bg-emerald-500",description:"Pivot in final position"}]}};let At=null,Ya=null;const Qb=()=>{At||(At=new(window.AudioContext||window.webkitAudioContext),Ya=At.createGain(),Ya.connect(At.destination))},Jb=(e,t="sine",r=.1,n=.1)=>{try{if(At||Qb(),!At||!Ya)return;At.state==="suspended"&&At.resume();const s=At.createOscillator(),a=At.createGain();s.type=t,s.frequency.setValueAtTime(e,At.currentTime),a.gain.setValueAtTime(0,At.currentTime),a.gain.linearRampToValueAtTime(n,At.currentTime+.01),a.gain.exponentialRampToValueAtTime(.001,At.currentTime+r),s.connect(a),a.connect(Ya),s.start(),s.stop(At.currentTime+r),setTimeout(()=>{s.disconnect(),a.disconnect()},r*1e3+100)}catch(s){console.error("Audio playback error",s)}},Yb=(e,t=0,r=100)=>{const o=200+(e-t)/(r-t)*400;Jb(o,"sine",.1,.05)},Xe=(e,t,r,n,s,a,o)=>({array:[...e],highlights:[...t],sortedIndices:[...r],codeLine:n,variables:{...s},description:a,mergeLevels:o?JSON.parse(JSON.stringify(o)):void 0}),Xb=e=>{const t=[],r=e.length;let n=[...e],s=[];t.push(Xe(n,[],[],0,{n:r,i:0},"Start Bubble Sort"));for(let a=0;a<r-1;a++){t.push(Xe(n,[],s,0,{n:r,i:a,j:0},`Starting pass i=${a}`));let o=!1;for(let l=0;l<r-a-1;l++)t.push(Xe(n,[l,l+1],s,1,{n:r,i:a,j:l,"arr[j]":n[l],"arr[j+1]":n[l+1]},`Compare indices ${l} & ${l+1}`)),n[l]>n[l+1]&&(t.push(Xe(n,[l,l+1],s,2,{n:r,i:a,j:l,"arr[j]":n[l],"arr[j+1]":n[l+1]},`Swap: ${n[l]} > ${n[l+1]}`)),[n[l],n[l+1]]=[n[l+1],n[l]],o=!0,t.push(Xe(n,[l,l+1],s,3,{n:r,i:a,j:l,"arr[j]":n[l],"arr[j+1]":n[l+1]},"Swapped")));if(s.push(r-1-a),!o)break}return t.push(Xe(n,[],Array.from({length:r},(a,o)=>o),0,{n:r},"Sorted!")),t},Zb=e=>{const t=[],r=e.length;let n=[...e],s=[];t.push(Xe(n,[],[],0,{n:r,i:0},"Start Selection Sort"));for(let a=0;a<r-1;a++){let o=a;t.push(Xe(n,[a],s,0,{n:r,i:a,min_idx:o},`Starting pass i=${a}, min_idx=${o}`));for(let l=a+1;l<r;l++)t.push(Xe(n,[o,l],s,2,{n:r,i:a,j:l,min_idx:o,"arr[j]":n[l],val_min:n[o]},`Compare arr[${l}] < arr[${o}]?`)),n[l]<n[o]&&(o=l,t.push(Xe(n,[o],s,3,{n:r,i:a,j:l,min_idx:o},`New min found at ${o}`)));t.push(Xe(n,[a,o],s,4,{n:r,i:a,min_idx:o},`Swap arr[${a}] and arr[${o}]`)),[n[o],n[a]]=[n[a],n[o]],s.push(a),t.push(Xe(n,[a,o],s,5,{n:r,i:a,min_idx:o},"Swapped"))}return t.push(Xe(n,[],Array.from({length:r},(a,o)=>o),0,{n:r},"Sorted!")),t},ew=e=>{const t=[],r=e.length;let n=[...e],s=[];t.push(Xe(n,[],[],0,{n:r,i:1},"Start Insertion Sort"));for(let a=1;a<r;a++){let o=n[a],l=a-1;for(t.push(Xe(n,[a],s,0,{n:r,i:a,key:o,j:l},`Select key=${o} at index ${a}`));l>=0&&n[l]>o;)t.push(Xe(n,[l,l+1],s,2,{n:r,i:a,key:o,j:l,"arr[j]":n[l]},`Compare ${n[l]} > ${o}`)),n[l+1]=n[l],t.push(Xe(n,[l,l+1],s,3,{n:r,i:a,key:o,j:l},`Shift ${n[l]} to right`)),l=l-1;n[l+1]=o,t.push(Xe(n,[l+1],s,5,{n:r,i:a,key:o,j:l+1},`Insert key at ${l+1}`))}return t.push(Xe(n,[],Array.from({length:r},(a,o)=>o),7,{n:r},"Sorted!")),t},tw=e=>{const t=[],r=[...e],n=Math.ceil(Math.log2(r.length))+2;let s=Array.from({length:n},()=>[]);s[0]=[{id:"root",values:[...r],startIdx:0,state:"default"}],t.push(Xe(r,[],[],0,{n:r.length},"Start Merge Sort",s));let a=0;const o=(d,c,u,h)=>{const x=c-d+1,v=u-c;let k=s[h];const N=k.findIndex(X=>X.startIdx===d),_=k.findIndex(X=>X.startIdx===c+1);N!==-1&&(k[N].state="left"),_!==-1&&(k[_].state="right"),t.push(Xe(r,[],[],5,{low:d,mid:c,high:u},`Merging levels at depth ${h}`,s));const p=r.slice(d,c+1),g=r.slice(c+1,u+1),b=s[h-1].findIndex(X=>X.startIdx===d);b!==-1&&(s[h-1][b].values=[],s[h-1][b].state="merging");let E=0,R=0,Y=d;const P=[];for(;E<x&&R<v;)t.push(Xe(r,[d+E,c+1+R],[],5,{i:E,j:R,L:p[E],R:g[R]},`Comparing ${p[E]} and ${g[R]}`,s)),p[E]<=g[R]?(r[Y]=p[E],P.push(p[E]),b!==-1&&(s[h-1][b].values=[...P]),t.push(Xe(r,[Y],[],5,{val:p[E]},`Taking ${p[E]} from left`,s)),E++):(r[Y]=g[R],P.push(g[R]),b!==-1&&(s[h-1][b].values=[...P]),t.push(Xe(r,[Y],[],5,{val:g[R]},`Taking ${g[R]} from right`,s)),R++),Y++;for(;E<x;)r[Y]=p[E],P.push(p[E]),b!==-1&&(s[h-1][b].values=[...P]),t.push(Xe(r,[Y],[],5,{val:p[E]},`Taking remaining ${p[E]} from left`,s)),E++,Y++;for(;R<v;)r[Y]=g[R],P.push(g[R]),b!==-1&&(s[h-1][b].values=[...P]),t.push(Xe(r,[Y],[],5,{val:g[R]},`Taking remaining ${g[R]} from right`,s)),R++,Y++;b!==-1&&(s[h-1][b].state="sorted"),N!==-1&&(k[N].state="default"),_!==-1&&(k[_].state="default"),t.push(Xe(r,[],[],5,{low:d,high:u},`Merged range ${d}-${u}`,s))},l=(d,c,u)=>{if(d>=c)return;const h=d+Math.floor((c-d)/2),x=r.slice(d,h+1),v=r.slice(h+1,c+1);s[u+1].push({id:`g-${a++}`,startIdx:d,values:x,state:"default"}),s[u+1].push({id:`g-${a++}`,startIdx:h+1,values:v,state:"default"}),s[u+1].sort((k,N)=>k.startIdx-N.startIdx),t.push(Xe(r,[],[],0,{low:d,mid:h,high:c},`Splitting ${d}-${c} into ${d}-${h} and ${h+1}-${c}`,s)),l(d,h,u+1),l(h+1,c,u+1),o(d,h,c,u+1)};return l(0,r.length-1,0),t.push(Xe(r,[],Array.from({length:r.length},(d,c)=>c),0,{},"Merge Sort Complete!",s)),t},rw=e=>{const t=[],r=[...e],n=r.length;let s=Array.from({length:n},()=>[]);s[0]=[{id:"root",values:[...r],startIdx:0,state:"default"}],t.push(Xe(r,[],[],0,{n:r.length},"Start Quick Sort",s));let a=0;const o=(d,c,u)=>{let h=r[c];const x=s[u].findIndex(k=>k.startIdx===d);x!==-1&&(s[u][x].state="merging"),t.push(Xe(r,[c],[],0,{low:d,high:c,pivot:h},`Partitioning range ${d}-${c} with pivot ${h}`,s));let v=d-1;for(let k=d;k<c;k++)t.push(Xe(r,[k,c],[],2,{j:k,pivot:h,"arr[j]":r[k]},`Comparing ${r[k]} < ${h}`,s)),r[k]<h&&(v++,[r[v],r[k]]=[r[k],r[v]],x!==-1&&(s[u][x].values=r.slice(d,c+1)),t.push(Xe(r,[v,k],[],3,{i:v,j:k,pivot:h},`Swap ${r[v]} and ${r[k]}`,s)));return[r[v+1],r[c]]=[r[c],r[v+1]],x!==-1&&(s[u][x].values=r.slice(d,c+1)),t.push(Xe(r,[v+1,c],[],4,{i:v+1,high:c},`Place pivot at ${v+1}`,s)),x!==-1&&(s[u][x].state="default"),v+1},l=(d,c,u)=>{if(d<c){s[u]||(s[u]=[]),t.push(Xe(r,[],[],0,{low:d,high:c},`QuickSort range ${d}-${c}`,s));let h=o(d,c,u);if(s[u+1]||(s[u+1]=[]),h-1>=d){const x=r.slice(d,h);s[u+1].push({id:`g-${a++}`,startIdx:d,values:x,state:"left"})}if(s[u+1].push({id:`g-${a++}`,startIdx:h,values:[r[h]],state:"sorted"}),h+1<=c){const x=r.slice(h+1,c+1);s[u+1].push({id:`g-${a++}`,startIdx:h+1,values:x,state:"right"})}s[u+1].sort((x,v)=>x.startIdx-v.startIdx),t.push(Xe(r,[h],[],0,{pi:h},`Pivot ${r[h]} placed. Recursing...`,s)),l(d,h-1,u+1),l(h+1,c,u+1)}else if(d===c){s[u]||(s[u]=[]);const h=s[u].findIndex(x=>x.startIdx===d);h!==-1&&(s[u][h].state="sorted"),s[u+1]||(s[u+1]=[]),s[u+1].push({id:`g-${a++}`,startIdx:d,values:[r[d]],state:"sorted"}),s[u+1].sort((x,v)=>x.startIdx-v.startIdx),t.push(Xe(r,[d],[],0,{low:d},`Single element ${r[d]} is sorted`,s))}};return l(0,r.length-1,0),t.push(Xe(r,[],Array.from({length:r.length},(d,c)=>c),0,{},"Quick Sort Complete!",s)),t},nw=()=>{const[e,t]=y.useState([]),[r,n]=y.useState([]),[s,a]=y.useState(0),[o,l]=y.useState("Bubble Sort"),[d,c]=y.useState("bubble"),[u,h]=y.useState(!1),[x,v]=y.useState(1),[k,N]=y.useState(!0),{setIsSidebarOpen:_}=Ls(),[p,g]=y.useState("python"),[b,E]=y.useState(!1),[R,Y]=y.useState(""),[P,X]=y.useState(!0),[Ne,ye]=y.useState(!1),[Me,Ie]=y.useState(!0),F=y.useRef(null),Ae=y.useRef(null);y.useEffect(()=>{ze();const G=ue=>{F.current&&!F.current.contains(ue.target)&&ye(!1)};return document.addEventListener("mousedown",G),()=>document.removeEventListener("mousedown",G)},[]);const qe=G=>{l(G),h(!1),a(0);let ue="bubble";G==="Bubble Sort"?ue="bubble":G==="Selection Sort"?ue="selection":G==="Insertion Sort"?ue="insertion":G==="Merge Sort"?ue="merge":G==="Quick Sort"&&(ue="quick"),c(ue),e.length>0&&xe(e,ue)},ze=()=>{const G=Array.from({length:15},()=>Math.floor(Math.random()*90)+10);t(G),xe(G,d),E(!1),Y("")},Fe=()=>{try{const G=R.split(",").map(ue=>parseInt(ue.trim())).filter(ue=>!isNaN(ue));G.length>0&&(t(G),xe(G,d),E(!1))}catch(G){console.error("Invalid input",G)}},xe=(G,ue)=>{let re=[];ue==="bubble"?re=Xb(G):ue==="selection"?re=Zb(G):ue==="insertion"?re=ew(G):ue==="merge"?re=tw(G):ue==="quick"&&(re=rw(G)),n(re),a(0),h(!1)};y.useEffect(()=>(u&&r.length>0&&(Ae.current=window.setInterval(()=>{a(G=>G<r.length-1?G+1:(h(!1),G))},1e3/x)),()=>{Ae.current&&clearInterval(Ae.current)}),[u,r.length,x]),y.useEffect(()=>{if(k&&r.length>0&&s<r.length){const G=r[s];if(G&&G.highlights.length>0){const ue=G.array[G.highlights[0]];typeof ue=="number"&&Yb(ue)}}},[s,k,r]);const te=r[s]||{array:e,highlights:[],sortedIndices:[],codeLine:0,variables:{},description:"Ready"},ke=te.array&&te.array.length>0?te.array:e,[Oe,Re]=y.useState("controls");y.useEffect(()=>{_(!0)},[_]);const _e=()=>i.jsxs("div",{className:"flex items-center gap-1 p-2 border-b border-gray-200 dark:border-[#272546] bg-gray-50/50 dark:bg-[#1a1828]/50",children:[i.jsxs("button",{onClick:()=>Re("controls"),className:`flex-1 flex items-center justify-center gap-2 py-2 px-2 rounded-lg text-xs font-bold transition-all ${Oe==="controls"?"bg-white dark:bg-[#272546] text-primary shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-[#2d2b4d]"}`,children:[i.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"tune"}),i.jsx("span",{className:"hidden sm:inline",children:"Controls"})]}),i.jsxs("button",{onClick:()=>Re("code"),className:`flex-1 flex items-center justify-center gap-2 py-2 px-2 rounded-lg text-xs font-bold transition-all ${Oe==="code"?"bg-white dark:bg-[#272546] text-primary shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-[#2d2b4d]"}`,children:[i.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"terminal"}),i.jsx("span",{className:"hidden sm:inline",children:"Code"})]}),i.jsxs("button",{onClick:()=>Re("pseudocode"),className:`flex-1 flex items-center justify-center gap-2 py-2 px-2 rounded-lg text-xs font-bold transition-all ${Oe==="pseudocode"?"bg-white dark:bg-[#272546] text-primary shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-[#2d2b4d]"}`,children:[i.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"code"}),i.jsx("span",{className:"hidden sm:inline",children:"Pseudo"})]}),i.jsxs("button",{onClick:()=>Re("info"),className:`flex-1 flex items-center justify-center gap-2 py-2 px-2 rounded-lg text-xs font-bold transition-all ${Oe==="info"?"bg-white dark:bg-[#272546] text-primary shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-[#2d2b4d]"}`,children:[i.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"info"}),i.jsx("span",{className:"hidden sm:inline",children:"Info"})]})]}),Ke=()=>i.jsxs("div",{className:"flex flex-col h-full overflow-y-auto p-4 space-y-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Algorithm"}),i.jsxs("div",{className:"relative",ref:F,children:[i.jsxs("button",{onClick:()=>ye(!Ne),className:"w-full bg-white dark:bg-[#1e1c33] border border-gray-200 dark:border-[#272546] text-slate-700 dark:text-slate-200 py-2.5 pl-3 pr-3 rounded-xl text-sm font-bold shadow-sm focus:outline-none focus:ring-2 focus:ring-primary/50 cursor-pointer flex items-center justify-between transition-all hover:border-primary/50",children:[i.jsx("span",{children:o}),i.jsx("span",{className:`material-symbols-outlined text-[20px] text-slate-400 transition-transform duration-200 ${Ne?"rotate-180":""}`,children:"expand_more"})]}),Ne&&i.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white dark:bg-[#1e1c33] border border-gray-200 dark:border-[#272546] rounded-xl shadow-xl overflow-hidden z-20 animate-in fade-in zoom-in-95 duration-100 origin-top",children:i.jsx("div",{className:"p-1 max-h-60 overflow-y-auto",children:["Bubble Sort","Selection Sort","Insertion Sort","Merge Sort","Quick Sort"].map(G=>i.jsxs("button",{onClick:()=>{qe(G),ye(!1)},className:`w-full text-left px-3 py-2.5 rounded-lg text-sm font-medium transition-colors flex items-center justify-between ${o===G?"bg-primary/10 text-primary":"text-slate-600 dark:text-slate-300 hover:bg-gray-50 dark:hover:bg-[#2d2b4d] hover:text-slate-900 dark:hover:text-white"}`,children:[G,o===G&&i.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"check"})]},G))})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Playback"}),i.jsxs("button",{onClick:()=>h(!u),className:`w-full py-2.5 rounded-xl text-sm font-bold flex items-center justify-center gap-2 transition-all ${u?"bg-red-500 hover:bg-red-600 text-white shadow-lg shadow-red-500/30":"bg-primary hover:bg-primary/90 text-white shadow-lg shadow-primary/30"}`,children:[i.jsx("span",{className:"material-symbols-outlined text-[20px]",children:u?"pause":"play_arrow"}),u?"Pause Visualization":"Start Visualization"]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Input Array"}),i.jsx("div",{className:"flex flex-col gap-2",children:b?i.jsxs("div",{className:"bg-white dark:bg-[#1e1c33] p-3 rounded-xl border border-gray-200 dark:border-[#272546] animate-in slide-in-from-top-2 shadow-sm",children:[i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsx("span",{className:"text-xs font-bold text-slate-500",children:"Values (comma separated)"}),i.jsx("button",{onClick:()=>E(!1),className:"text-gray-400 hover:text-red-500",children:i.jsx("span",{className:"material-symbols-outlined text-sm",children:"close"})})]}),i.jsx("input",{type:"text",value:R,onChange:G=>Y(G.target.value),placeholder:"e.g. 10, 5, 8, 3...",className:"w-full bg-gray-50 dark:bg-[#151426] border border-gray-200 dark:border-[#272546] rounded-lg px-3 py-2 text-xs font-mono mb-3 focus:ring-2 focus:ring-primary/50 outline-none dark:text-white transition-all"}),i.jsx("button",{onClick:Fe,className:"w-full bg-primary hover:bg-primary/90 text-white text-xs font-bold py-2 rounded-lg transition-colors shadow-sm",children:"Visualize Array"})]}):i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsxs("button",{onClick:ze,className:"text-white bg-primary hover:bg-primary/90 rounded-xl px-3 py-2.5 text-xs font-bold flex items-center justify-center gap-2 transition-colors shadow-sm shadow-primary/20",children:[i.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"refresh"}),"Random"]}),i.jsxs("button",{onClick:()=>E(!0),className:"text-slate-600 dark:text-slate-300 bg-white dark:bg-[#1e1c33] border border-gray-200 dark:border-[#272546] hover:bg-gray-50 dark:hover:bg-[#2d2b4d] rounded-xl px-3 py-2.5 text-xs font-bold flex items-center justify-center gap-2 transition-colors shadow-sm",children:[i.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"edit"}),"Custom"]})]})})]}),i.jsx("div",{className:"border-t border-gray-100 dark:border-[#272546]"}),i.jsxs("div",{className:"pt-2 border-t border-gray-100 dark:border-[#272546]",children:[i.jsxs("button",{onClick:()=>Ie(!Me),className:"w-full flex items-center justify-between p-2 rounded-lg hover:bg-gray-50 dark:hover:bg-[#1e1c33] transition-colors",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"material-symbols-outlined text-primary text-[20px]",children:"data_object"}),i.jsx("span",{className:"text-slate-900 dark:text-white font-bold text-sm",children:"Execution Trace"})]}),i.jsx("span",{className:`material-symbols-outlined text-gray-400 transition-transform duration-200 ${Me?"rotate-180":""}`,children:"expand_more"})]}),Me&&i.jsxs("div",{className:"mt-4 space-y-4 animate-in fade-in slide-in-from-top-2 duration-200",children:[i.jsxs("div",{className:"bg-white dark:bg-[#1a1828] p-4 rounded-xl border border-gray-200 dark:border-[#272546] shadow-sm",children:[i.jsx("h4",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider mb-3",children:"Local Variables"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[Object.entries(te.variables).map(([G,ue])=>i.jsxs("div",{className:"bg-gray-50 dark:bg-[#232136] p-2 rounded-lg border border-gray-100 dark:border-white/5",children:[i.jsx("span",{className:"text-[10px] text-slate-500 block mb-0.5 font-mono",children:G}),i.jsx("span",{className:"font-mono text-slate-900 dark:text-white text-sm font-semibold",children:ue})]},G)),Object.keys(te.variables).length===0&&i.jsx("span",{className:"text-xs text-gray-400 italic col-span-2 text-center py-2",children:"No active variables"})]})]}),i.jsxs("div",{className:"bg-white dark:bg-[#1a1828] p-4 rounded-xl border border-gray-200 dark:border-[#272546] shadow-sm",children:[i.jsx("h4",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider mb-3",children:"Current Step Log"}),i.jsxs("div",{className:"flex gap-3 items-start",children:[i.jsx("div",{className:"shrink-0 size-6 rounded-full bg-primary/10 text-primary flex items-center justify-center text-[10px] font-bold font-mono mt-0.5",children:s}),i.jsx("p",{className:"text-slate-600 dark:text-slate-300 text-sm leading-relaxed",children:te.description})]})]})]})]})]}),Je=()=>i.jsxs("div",{className:"flex flex-col h-full min-h-0",children:[i.jsx("div",{className:"px-4 py-3 border-b border-gray-100 dark:border-[#272546] bg-white dark:bg-[#1e1c33] shrink-0",children:i.jsx("div",{className:"flex p-1 bg-gray-100 dark:bg-[#151426] rounded-lg",children:["c","cpp","java","python"].map(G=>i.jsx("button",{onClick:()=>g(G),className:`flex-1 px-2 py-1.5 rounded-md text-[10px] font-bold uppercase transition-all duration-200 ${p===G?"bg-white dark:bg-[#272546] text-primary shadow-sm scale-100":"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 hover:bg-gray-200/50 dark:hover:bg-white/5"}`,children:G==="c"?"C":G==="cpp"?"C++":G==="java"?"Java":"Python"},G))})}),i.jsx("div",{className:"flex-1 p-4 font-mono text-xs text-gray-600 dark:text-gray-400 overflow-y-auto bg-gray-50/50 dark:bg-[#131221]/50",children:i.jsx("div",{className:"space-y-0.5",children:(()=>{if(!oh[d])return i.jsx("span",{className:"text-gray-500 italic px-2",children:"No code available."});const G=oh[d][p],ue=G.mapping[te.codeLine],re=Array.isArray(ue)?ue:ue!==void 0?[ue]:[];return G.lines.map((fe,ce)=>{const ne=re.includes(ce);let be="";if(ne){const Ce=[];Object.entries(te.variables).forEach(([$e,Be])=>{const je=$e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");$e.includes("[")||$e.includes(".")?fe.includes($e)&&Ce.push(`${$e}=${Be}`):new RegExp(`\\b${je}\\b`).test(fe)&&Ce.push(`${$e}=${Be}`)}),Ce.length>0&&(be=` // ${Ce.join(", ")}`)}return i.jsxs("div",{className:`px-3 py-1 -mx-2 rounded flex gap-3 transition-colors duration-200 ${ne?"bg-indigo-100 dark:bg-indigo-900/40 text-indigo-700 dark:text-indigo-200 border-l-2 border-indigo-500 font-bold":"border-l-2 border-transparent hover:bg-gray-100 dark:hover:bg-white/5"}`,children:[i.jsx("span",{className:`select-none w-6 text-right ${ne?"text-indigo-400 dark:text-indigo-400":"text-gray-300 dark:text-gray-600"}`,children:ce+1}),i.jsxs("span",{className:"whitespace-pre flex-1",children:[fe,ne&&be&&i.jsx("span",{className:"text-emerald-600 dark:text-emerald-400 font-bold ml-4 inline-block",children:be})]})]},ce)})})()})})]}),se=()=>i.jsx("div",{className:"flex-1 flex flex-col min-h-0 bg-gray-50/50 dark:bg-[#131221]/50",children:i.jsxs("div",{className:"p-8 text-center",children:[i.jsx("div",{className:"inline-flex size-12 rounded-full bg-gray-100 dark:bg-[#272546] items-center justify-center mb-3",children:i.jsx("span",{className:"material-symbols-outlined text-gray-400 dark:text-gray-500",children:"code"})}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 font-medium",children:"Simplified pseudocode view coming soon."}),i.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-600 mt-1",children:"Please use the Code tab for implementation details."})]})}),Qe=()=>{const G=Gb[o];return G?i.jsxs("div",{className:"flex flex-col h-full overflow-y-auto p-4 space-y-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("h3",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Description"}),i.jsx("p",{className:"text-sm text-slate-700 dark:text-slate-300 leading-relaxed bg-white dark:bg-[#232136] p-3 rounded-xl border border-gray-100 dark:border-white/5 shadow-sm",children:G.description})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h3",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Time Complexity"}),i.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[i.jsxs("div",{className:"bg-emerald-50 dark:bg-emerald-900/10 p-2 rounded-lg border border-emerald-100 dark:border-emerald-500/20 text-center",children:[i.jsx("div",{className:"text-[10px] text-emerald-600 dark:text-emerald-400 font-bold mb-1",children:"BEST"}),i.jsx("div",{className:"text-xs font-mono font-bold text-emerald-700 dark:text-emerald-300",children:G.complexity.time.best})]}),i.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/10 p-2 rounded-lg border border-amber-100 dark:border-amber-500/20 text-center",children:[i.jsx("div",{className:"text-[10px] text-amber-600 dark:text-amber-400 font-bold mb-1",children:"AVERAGE"}),i.jsx("div",{className:"text-xs font-mono font-bold text-amber-700 dark:text-amber-300",children:G.complexity.time.average})]}),i.jsxs("div",{className:"bg-rose-50 dark:bg-rose-900/10 p-2 rounded-lg border border-rose-100 dark:border-rose-500/20 text-center",children:[i.jsx("div",{className:"text-[10px] text-rose-600 dark:text-rose-400 font-bold mb-1",children:"WORST"}),i.jsx("div",{className:"text-xs font-mono font-bold text-rose-700 dark:text-rose-300",children:G.complexity.time.worst})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h3",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Space Complexity"}),i.jsx("div",{className:"bg-indigo-50 dark:bg-indigo-900/10 p-2 rounded-lg border border-indigo-100 dark:border-indigo-500/20 text-center",children:i.jsx("div",{className:"text-xs font-mono font-bold text-indigo-700 dark:text-indigo-300",children:G.complexity.space})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h3",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Color Legend"}),i.jsx("div",{className:"bg-white dark:bg-[#232136] rounded-xl border border-gray-100 dark:border-white/5 divide-y divide-gray-100 dark:divide-white/5 overflow-hidden",children:G.legend.map((ue,re)=>i.jsxs("div",{className:"flex items-center gap-3 p-3",children:[i.jsx("div",{className:`size-4 rounded-md shadow-sm border border-black/5 ${ue.colorClass}`}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"text-xs font-bold text-slate-700 dark:text-slate-200",children:ue.label}),ue.description&&i.jsx("div",{className:"text-[10px] text-slate-500 dark:text-slate-400 leading-tight",children:ue.description})]})]},re))})]})]}):i.jsx("div",{className:"p-4 text-gray-500",children:"No info available"})},Ye=i.jsxs("div",{className:"flex flex-col h-full bg-white dark:bg-[#1e1c33] border-l border-gray-200 dark:border-[#272546]",children:[_e(),i.jsxs("div",{className:"flex-1 overflow-hidden relative",children:[Oe==="controls"&&Ke(),Oe==="code"&&Je(),Oe==="pseudocode"&&se(),Oe==="info"&&Qe()]})]}),Le=i.jsxs(i.Fragment,{children:[!P&&i.jsxs("button",{onClick:()=>X(!0),className:"fixed bottom-6 left-1/2 -translate-x-1/2 z-30 bg-white dark:bg-[#1e1c33] border border-gray-200 dark:border-[#272546] rounded-full px-4 py-2 shadow-lg flex items-center gap-2 text-xs font-bold text-slate-600 dark:text-slate-300 hover:text-primary transition-all hover:scale-105 active:scale-95",children:[i.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"tune"}),"Show Timeline"]}),i.jsxs("div",{className:`transition-all duration-300 z-30 w-full bg-white dark:bg-[#131221] border-t border-gray-200 dark:border-[#272546] flex items-center justify-between gap-6 px-6 shadow-[0_-4px_20px_rgba(0,0,0,0.05)] relative ${P?"h-16 opacity-100 translate-y-0":"h-0 opacity-0 translate-y-full overflow-hidden"}`,children:[i.jsx("button",{onClick:()=>X(!1),className:"absolute -top-3 left-1/2 -translate-x-1/2 bg-white dark:bg-[#272546] border border-gray-200 dark:border-transparent rounded-full p-1 shadow-sm text-gray-400 hover:text-red-500 transition-colors z-40 hidden group-hover:block hover:block",title:"Hide Timeline",children:i.jsx("span",{className:"material-symbols-outlined text-[16px]",children:"expand_more"})}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:()=>a(0),className:"p-1.5 rounded-full hover:bg-gray-100 dark:hover:bg-white/5 text-gray-400 hover:text-slate-900 dark:hover:text-white transition-colors",children:i.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"skip_previous"})}),i.jsx("button",{onClick:()=>a(G=>Math.max(0,G-1)),className:"p-1.5 rounded-full hover:bg-gray-100 dark:hover:bg-white/5 text-gray-400 hover:text-slate-900 dark:hover:text-white transition-colors",children:i.jsx("span",{className:"material-symbols-outlined text-[24px]",children:"fast_rewind"})}),i.jsx("button",{onClick:()=>h(!u),className:"mx-2 rounded-full flex items-center justify-center text-white shadow-lg shadow-primary/30 transition-transform hover:scale-105 active:scale-95 bg-primary size-10",children:i.jsx("span",{className:"material-symbols-outlined filled text-[24px]",children:u?"pause":"play_arrow"})}),i.jsx("button",{onClick:()=>a(G=>Math.min(r.length-1,G+1)),className:"p-1.5 rounded-full hover:bg-gray-100 dark:hover:bg-white/5 text-gray-400 hover:text-slate-900 dark:hover:text-white transition-colors",children:i.jsx("span",{className:"material-symbols-outlined text-[24px]",children:"fast_forward"})}),i.jsx("button",{onClick:()=>a(r.length-1),className:"p-1.5 rounded-full hover:bg-gray-100 dark:hover:bg-white/5 text-gray-400 hover:text-slate-900 dark:hover:text-white transition-colors",children:i.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"skip_next"})})]}),i.jsxs("div",{className:"flex-1 flex flex-col gap-1.5",children:[i.jsxs("div",{className:"flex justify-between text-[10px] font-medium font-mono text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[i.jsx("span",{children:"Timeline"}),i.jsxs("span",{className:"text-primary",children:[Math.round(s/(r.length>0?r.length-1:1)*100),"%"]})]}),i.jsxs("div",{className:"h-1 w-full bg-gray-100 dark:bg-[#1e1c33] rounded-full overflow-hidden relative cursor-pointer group",onClick:G=>{const ue=G.currentTarget.getBoundingClientRect(),re=(G.clientX-ue.left)/ue.width;a(Math.floor(re*(r.length-1)))},children:[i.jsx("div",{className:"h-full bg-primary relative rounded-full transition-all duration-100 ease-out",style:{width:`${s/(r.length>0?r.length-1:1)*100}%`}}),i.jsx("div",{className:"absolute inset-0 bg-primary/20 opacity-0 group-hover:opacity-100 transition-opacity",style:{width:`${s/(r.length>0?r.length-1:1)*100}%`}})]})]}),i.jsx("div",{className:"flex items-center gap-2 border-l border-gray-100 dark:border-[#272546] pl-6",children:i.jsx("button",{onClick:()=>N(!k),className:`p-2 rounded-full transition-colors ${k?"text-primary bg-primary/10":"text-gray-400 hover:bg-gray-100 dark:hover:bg-white/5"}`,title:k?"Mute Sounds":"Enable Sounds",children:i.jsx("span",{className:"material-symbols-outlined text-[20px]",children:k?"volume_up":"volume_off"})})}),i.jsxs("div",{className:"flex items-center gap-3 min-w-[140px] border-l border-gray-100 dark:border-[#272546] pl-6",children:[i.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider",children:"Speed"}),i.jsx("input",{type:"range",min:"0.5",max:"5",step:"0.5",value:x,onChange:G=>v(parseFloat(G.target.value)),className:"w-full h-1 bg-gray-200 dark:bg-[#1e1c33] rounded-lg appearance-none cursor-pointer accent-primary"}),i.jsxs("span",{className:"text-[10px] font-mono text-slate-900 dark:text-white w-6 text-right",children:[x,"x"]}),i.jsx("button",{onClick:()=>X(!1),className:"ml-2 text-gray-300 hover:text-slate-500 dark:hover:text-slate-300 transition-colors",title:"Hide Controls",children:i.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"expand_more"})})]})]})]});return i.jsxs(Dn,{title:"Sorting",sidebar:null,sidebarPosition:"right",rightSidebar:Ye,rightSidebarWidth:350,controls:Le,children:[i.jsxs("div",{className:"absolute top-2 left-0 w-full z-10 px-6 py-2 flex flex-wrap items-center justify-between gap-4 pointer-events-none",children:[i.jsx("div",{}),i.jsxs("div",{className:"flex gap-2 pointer-events-auto",children:[i.jsxs("div",{className:"bg-white dark:bg-[#1e1c33] border border-gray-200 dark:border-[#272546] rounded-xl px-3 py-2 flex flex-col min-w-[70px] shadow-sm backdrop-blur-md",children:[i.jsx("span",{className:"text-[9px] text-slate-500 dark:text-slate-400 font-bold uppercase tracking-wider",children:"Array Size"}),i.jsx("span",{className:"text-lg font-mono font-bold text-slate-900 dark:text-white leading-none mt-0.5",children:ke.length})]}),i.jsxs("div",{className:"bg-white dark:bg-[#1e1c33] border border-gray-200 dark:border-[#272546] rounded-xl px-3 py-2 flex flex-col min-w-[70px] shadow-sm backdrop-blur-md",children:[i.jsx("span",{className:"text-[9px] text-slate-500 dark:text-slate-400 font-bold uppercase tracking-wider",children:"Step"}),i.jsxs("span",{className:"text-lg font-mono font-bold text-slate-900 dark:text-white leading-none mt-0.5",children:[s,"/",r.length>0?r.length-1:0]})]})]})]}),(o==="Merge Sort"||o==="Quick Sort")&&te.mergeLevels?i.jsx("div",{className:"absolute inset-0 top-0 bottom-0 px-4 py-12 pt-24 overflow-y-auto flex flex-col items-center",children:i.jsx("div",{className:"flex flex-col gap-6 w-full max-w-4xl mx-auto",children:te.mergeLevels.map((G,ue)=>i.jsx("div",{className:"flex justify-center relative h-16 w-full",children:G.map(re=>{const fe=Math.max(ke.length,1),ce=re.startIdx/fe*100,ne=re.values.length/fe*100;let be="border-slate-300 dark:border-slate-600",Ce="bg-white dark:bg-[#1e1c33]",$e="text-slate-700 dark:text-slate-300",Be="scale-100",je="z-10";return re.state==="left"?(be="border-indigo-400 dark:border-indigo-500",Ce="bg-indigo-50 dark:bg-indigo-900/20"):re.state==="right"?(be="border-purple-400 dark:border-purple-500",Ce="bg-purple-50 dark:bg-purple-900/20"):re.state==="sorted"?(be="border-emerald-400 dark:border-emerald-500",Ce="bg-emerald-50 dark:bg-emerald-900/20",$e="text-emerald-700 dark:text-emerald-300"):re.state==="merging"?(be="border-amber-400 dark:border-amber-500",Ce="bg-amber-50 dark:bg-amber-900/20",Be="scale-105 shadow-lg",je="z-20"):re.state==="pivot"&&(be="border-rose-500 dark:border-rose-500",Ce="bg-rose-50 dark:bg-rose-900/20",$e="text-rose-700 dark:text-rose-300",Be="scale-110 shadow-xl",je="z-30"),i.jsx("div",{className:`absolute top-0 h-full transition-all duration-300 flex items-center justify-center p-1 ${je}`,style:{left:`${ce}%`,width:`${ne}%`},children:i.jsx("div",{className:`flex items-center justify-center gap-0.5 w-full h-full border-2 rounded-lg ${be} ${Ce} ${Be} transition-all duration-300`,children:re.values.map((Ge,$)=>i.jsx("div",{className:`flex-1 flex items-center justify-center h-full text-[10px] sm:text-xs font-mono font-bold ${$e}`,children:Ge},$))})},re.id)})},ue))})}):i.jsx("div",{className:"absolute inset-0 top-0 bottom-0 px-6 lg:px-12 flex items-end justify-center gap-2 lg:gap-4 pb-12 pt-28",children:ke.map((G,ue)=>{const re=te.highlights.includes(ue),fe=te.sortedIndices.includes(ue);return i.jsxs("div",{className:`flex-1 max-w-[4rem] rounded-t-lg relative group transition-all duration-300
                                        ${re?"bg-primary shadow-[0_0_20px_rgba(99,102,241,0.5)] z-20 scale-105":fe?"bg-emerald-500/80 dark:bg-emerald-500/60":"bg-indigo-300/30 dark:bg-[#2d2b42] border border-indigo-300/50 dark:border-transparent"}`,style:{height:`${G}%`},children:[i.jsx("span",{className:`absolute bottom-2 left-1/2 -translate-x-1/2 text-[10px] font-mono font-bold ${re||fe?"text-white":"text-slate-600 dark:text-slate-400"}`,children:G}),re&&i.jsxs("div",{className:"absolute -bottom-16 left-1/2 -translate-x-1/2 z-50",children:[i.jsxs("div",{className:"bg-slate-900 text-white text-[10px] font-bold font-mono px-2 py-1 rounded-lg shadow-xl whitespace-nowrap mb-1",children:["Val: ",G]}),i.jsxs("div",{className:"bg-primary/10 border border-primary/20 text-primary text-[10px] font-bold font-mono px-2 py-1 rounded-lg shadow-sm whitespace-nowrap",children:["Idx: ",ue]})]})]},ue)})})]})},Ut=8,lh=[10,20,30],dh={push:{best:"O(1)",avg:"O(1)",worst:"O(1)",space:"O(1)"},pop:{best:"O(1)",avg:"O(1)",worst:"O(1)",space:"O(1)"},peek:{best:"O(1)",avg:"O(1)",worst:"O(1)",space:"O(1)"},create:{best:"O(1)",avg:"O(1)",worst:"O(1)",space:"O(N)"},app_reverse:{best:"O(N)",avg:"O(N)",worst:"O(N)",space:"O(N)"},app_balanced_parentheses:{best:"O(N)",avg:"O(N)",worst:"O(N)",space:"O(N)"},app_postfix_eval:{best:"O(N)",avg:"O(N)",worst:"O(N)",space:"O(N)"},app_browser_history:{best:"O(1)",avg:"O(1)",worst:"O(1)",space:"O(N)"}},sw={push:["if top == capacity - 1, return Stack Overflow","top = top + 1","stack[top] = value","return"],pop:["if top == -1, return Stack Underflow","value = stack[top]","top = top - 1","return value"],peek:["if top == -1, return Stack Empty","return stack[top]"],create:["allocate memory for size N","top = -1","return stack reference"],app_reverse:["create empty string result","push all characters of input to stack","while stack is not empty:","  char = pop()","  result += char","return result"],app_balanced_parentheses:["for each char in input:","  if char is '(', '{', '[': push(char)","  else if char is ')', '}', ']':","    if stack empty: return Invalid","    top = pop()","    if top matches char: continue","    else: return Invalid","if stack empty: return Valid","else: return Invalid"],app_postfix_eval:["for each token in expression:","  if token is number: push(token)","  if token is operator (+, -, *, /):","    a = pop(), b = pop()","    result = evaluate(b, a, operator)","    push(result)","return pop() (final result)"],app_browser_history:["Visit(url):","  BackStack.push(current)","  ForwardStack.clear()","  current = url","Back():","  ForwardStack.push(current)","  current = BackStack.pop()","Forward():","  BackStack.push(current)","  current = ForwardStack.pop()"]},iw=`class Stack {
private:
    int* stack;
    int top;
    int capacity;

public:
    Stack(int size) {
        stack = new int[size];
        capacity = size;
        top = -1;
    }

    void push(int value) {
        if (top == capacity - 1) {
            cout << "Stack Overflow";
            return;
        }
        stack[++top] = value;
    }

    int pop() {
        if (top == -1) {
            cout << "Stack Underflow";
            return -1;
        }
        return stack[top--];
    }

    int peek() {
        if (top == -1) {
            cout << "Stack Empty";
            return -1;
        }
        return stack[top];
    }
};`,aw=()=>{var q,K,W;const[e,t]=y.useState([lh]),[r,n]=y.useState([]),[s,a]=y.useState(0),[o,l]=y.useState(!1),[d,c]=y.useState(1),[u,h]=y.useState(null),[x,v]=y.useState(null),[k,N]=y.useState("standard"),[_,p]=y.useState(0),[g,b]=y.useState("5"),[E,R]=y.useState(lh.join(", ")),[Y,P]=y.useState("42"),[X,Ne]=y.useState("HELLO"),[ye,Me]=y.useState("{[()]}"),[Ie,F]=y.useState("5 3 + 2 *"),[Ae,qe]=y.useState("Home"),[ze,Fe]=y.useState("google.com"),xe=y.useRef(null),te=(S,j,T,O,ie,D,f="")=>{var m,w;return{stacks:S.map(C=>[...C]),highlights:j,pointers:T,codeLine:O,description:ie,internalState:{capacity:Ut,size:((m=S[_])==null?void 0:m.length)||0,top:(((w=S[_])==null?void 0:w.length)||0)-1,currentOp:D,output:f}}},ke=(S,j,T)=>{const O=[],ie=`PUSH (Stack ${T+1})`,D=S.map(m=>[...m]),f=D[T];return f?(O.push(te(D,[],[{index:f.length-1,label:"top",color:"primary"}],0,`Check Stack ${T+1} Overflow`,ie)),f.length>=Ut?(O.push(te(D,[],[{index:f.length-1,label:"top",color:"red"}],1,"Stack Overflow Error!",ie)),{endStacks:D,timeline:O}):(O.push(te(D,[],[{index:f.length,label:"top",color:"primary"}],1,"Increment Top",ie)),f.push(j),O.push(te(D,[f.length-1],[{index:f.length-1,label:"top",color:"green"}],2,`Insert ${j} at Top`,ie)),{endStacks:D,timeline:O})):{endStacks:S,timeline:[]}},Oe=(S,j)=>{const T=[],O=`POP (Stack ${j+1})`,ie=S.map(m=>[...m]),D=ie[j];if(T.push(te(ie,[],[{index:D.length-1,label:"top",color:"primary"}],0,`Check Stack ${j+1} Underflow`,O)),D.length===0)return T.push(te(ie,[],[],1,"Stack Underflow Error!",O)),{endStacks:ie,timeline:T};const f=D[D.length-1];return T.push(te(ie,[D.length-1],[{index:D.length-1,label:"top",color:"red"}],2,`Retrieve Value: ${f}`,O)),D.pop(),T.push(te(ie,[],[{index:D.length-1,label:"top",color:"primary"}],3,"Decrement Top",O)),{endStacks:ie,timeline:T}},Re=(S,j)=>{const T=[],O=`PEEK (Stack ${j+1})`,ie=S.map(f=>[...f]),D=ie[j];return D.length===0?(T.push(te(ie,[],[],0,"Stack Empty",O)),{endStacks:ie,timeline:T}):(T.push(te(ie,[D.length-1],[{index:D.length-1,label:"top",color:"primary"}],1,`Peek Top: ${D[D.length-1]}`,O)),{endStacks:ie,timeline:T})},_e=S=>{const j=[],T="REVERSE STRING";let O=[];j.push(te([[]],[],[],0,"Initialize empty stack",T)),j.push(te([[]],[],[],1,`Pushing characters of "${S}"...`,T));for(let D=0;D<S.length;D++){const f=S[D];if(O.length>=Ut)return j.push(te([O],[],[{index:O.length-1,label:"top",color:"red"}],1,"Stack Overflow during push!",T)),{endStacks:[O],timeline:j};O.push(f),j.push(te([[...O]],[O.length-1],[{index:O.length-1,label:"top",color:"green"}],1,`Pushed '${f}'`,T))}j.push(te([[...O]],[],[{index:O.length-1,label:"top",color:"primary"}],2,"Now popping to reverse...",T,""));let ie="";for(;O.length>0;){const D=O[O.length-1];j.push(te([[...O]],[O.length-1],[{index:O.length-1,label:"top",color:"primary"}],3,`Pop '${D}'`,T,ie)),O.pop(),ie+=D,j.push(te([[...O]],[],[{index:Math.max(-1,O.length-1),label:"top",color:"primary"}],4,"Building result...",T,ie))}return j.push(te([[]],[],[],5,"Reversal Complete",T,ie)),{endStacks:[[]],timeline:j}},Ke=S=>{const j=[],T="CHECK BALANCE";let O=[],ie="";const D=(f,m)=>f==="("&&m===")"||f==="{"&&m==="}"||f==="["&&m==="]";j.push(te([[]],[],[],0,"Initialize empty stack",T));for(let f=0;f<S.length;f++){const m=S[f];if(["(","{","["].includes(m)){if(O.length>=Ut)return j.push(te([O],[],[{index:O.length-1,label:"top",color:"red"}],1,"Stack Overflow!",T,ie)),{endStacks:[O],timeline:j};O.push(m),j.push(te([[...O]],[O.length-1],[{index:O.length-1,label:"top",color:"green"}],1,`Push open bracket '${m}'`,T,ie))}else if([")","}","]"].includes(m)){if(O.length===0)return ie="Invalid",j.push(te([[]],[],[],3,`Found '${m}' but stack empty. Mismatch!`,T,ie)),{endStacks:[[]],timeline:j};const w=O[O.length-1];if(j.push(te([[...O]],[O.length-1],[{index:O.length-1,label:"top",color:"primary"}],4,`Found '${m}', checking top...`,T,ie)),O.pop(),D(w,m))j.push(te([[...O]],[],[{index:Math.max(-1,O.length-1),label:"top",color:"primary"}],5,`Match! '${w}' and '${m}'`,T,ie));else return ie="Invalid",j.push(te([[...O]],[],[],6,`Mismatch! '${w}' and '${m}'`,T,ie)),{endStacks:[O],timeline:j}}}return O.length===0?(ie="Valid",j.push(te([[]],[],[],7,"Stack empty. All matched.",T,ie))):(ie="Invalid",j.push(te([[...O]],[],[{index:O.length-1,label:"top",color:"red"}],8,"Stack not empty. Unmatched brackets.",T,ie))),{endStacks:[O],timeline:j}},Je=S=>{const j=[],T="POSTFIX EVAL";let O="";const D=[...S.trim().split(/\s+/)].reverse(),f=[];for(j.push(te([D,f],[],[],0,"Initialize: Stack 1 (Input), Stack 2 (Eval)",T));D.length>0;){const m=D.pop();if(j.push(te([D,f],[],[{index:D.length,label:"top",color:"primary"}],1,`Read token '${m}' from Input`,T,O)),!isNaN(parseFloat(m))&&isFinite(Number(m))){if(f.length>=Ut)return j.push(te([D,f],[],[{index:f.length-1,label:"top",color:"red"}],1,"Eval Stack Overflow!",T,O)),{endStacks:[D,f],timeline:j};f.push(Number(m)),j.push(te([D,f],[f.length-1],[{index:f.length-1,label:"top",color:"green"}],1,`Push number ${m} to Eval Stack`,T,O))}else if(["+","-","*","/"].includes(m)){if(f.length<2)return O="Error",j.push(te([D,f],[],[],3,`Operator '${m}' needs 2 operands`,T,O)),{endStacks:[D,f],timeline:j};const w=f.pop(),C=f.pop();j.push(te([D,f],[],[],3,`Pop ${w}, Pop ${C} from Eval Stack`,T,O));let I=0;switch(m){case"+":I=C+w;break;case"-":I=C-w;break;case"*":I=C*w;break;case"/":I=Math.trunc(C/w);break}if(f.length>=Ut)return j.push(te([D,f],[],[{index:f.length-1,label:"top",color:"red"}],1,"Stack Overflow on Result!",T,O)),{endStacks:[D,f],timeline:j};j.push(te([D,f],[],[],4,`Calc: ${C} ${m} ${w} = ${I}`,T,O)),f.push(I),j.push(te([D,f],[f.length-1],[{index:f.length-1,label:"top",color:"primary"}],5,`Push result ${I} to Eval Stack`,T,O))}else return O="Invalid Token",j.push(te([D,f],[],[],0,`Unknown token: ${m}`,T,O)),{endStacks:[D,f],timeline:j}}return f.length===1?(O=String(f[0]),j.push(te([D,f],[0],[{index:0,label:"top",color:"green"}],6,`Final Result: ${O}`,T,O))):(O="Error",j.push(te([D,f],[],[],6,"Eval Stack should have 1 item left",T,O))),{endStacks:[D,f],timeline:j}},se=(S,j,T)=>{const O=[],ie=`VISIT: ${T}`,D=`Current: ${j}`,f=[...S[0]||[]],m=[...S[1]||[]];O.push(te([f,m],[],[],0,`Starting visit to ${T}`,ie,D)),f.length>=Ut&&(O.push(te([f,m],[],[],1,"Back Stack Overflow! Truncating...",ie,D)),f.shift()),f.push(j),O.push(te([f,m],[f.length-1],[{index:f.length-1,label:"top",color:"green"}],1,`Pushed '${j}' to Back History`,ie,D));const w=[];O.push(te([f,w],[],[],2,"Cleared Forward History",ie,D));const C=`Current: ${T}`;return O.push(te([f,w],[],[],3,`Updated Current Page to '${T}'`,ie,C)),{endStacks:[f,w],timeline:O,newCurrent:T}},Qe=(S,j)=>{const T=[],O="BACK",ie=`Current: ${j}`,D=[...S[0]||[]],f=[...S[1]||[]];if(D.length===0)return T.push(te([D,f],[],[],0,"No Back History",O,ie)),{endStacks:[D,f],timeline:T,newCurrent:j};T.push(te([D,f],[],[],0,"Going Back...",O,ie)),f.length>=Ut&&(T.push(te([D,f],[],[],1,"Forward Stack Overflow! Truncating...",O,ie)),f.shift()),f.push(j),T.push(te([D,f],[D.length-1],[{index:f.length-1,label:"top",color:"primary"}],1,`Pushed '${j}' to Forward History`,O,ie));const m=D.pop(),w=`Current: ${m}`;return T.push(te([D,f],[],[],2,`Popped '${m}' from Back History. Revisit it.`,O,w)),{endStacks:[D,f],timeline:T,newCurrent:m}},Ye=(S,j)=>{const T=[],O="FORWARD",ie=`Current: ${j}`,D=[...S[0]||[]],f=[...S[1]||[]];if(f.length===0)return T.push(te([D,f],[],[],0,"No Forward History",O,ie)),{endStacks:[D,f],timeline:T,newCurrent:j};T.push(te([D,f],[],[],0,"Going Forward...",O,ie)),D.length>=Ut&&(T.push(te([D,f],[],[],1,"Back Stack Overflow! Truncating...",O,ie)),D.shift()),D.push(j),T.push(te([D,f],[D.length-1],[{index:D.length-1,label:"top",color:"primary"}],1,`Pushed '${j}' to Back History`,O,ie));const m=f.pop(),w=`Current: ${m}`;return T.push(te([D,f],[],[],2,`Popped '${m}' from Forward History. Revisit it.`,O,w)),{endStacks:[D,f],timeline:T,newCurrent:m}},Le=S=>{n(S.timeline),a(0),l(!0),t(S.endStacks)},G=()=>{let S=parseInt(Y);if(isNaN(S)&&(S=Y.trim()),S===""){v("Invalid Input");return}if(e[_],(e[_]||[]).length>=Ut){v("Stack Overflow");return}const T=e.length>_?e:[...e,[]];for(;T.length<=_;)T.push([]);const O=ke(T,S,_);Le(O)},ue=()=>{if((e[_]||[]).length===0){v("Stack Underflow");return}const j=e.length>_?e:[...e,[]];for(;j.length<=_;)j.push([]);const T=Oe(j,_);Le(T)},re=()=>{if((e[_]||[]).length===0){v("Stack Empty");return}const j=e.length>_?e:[...e,[]];for(;j.length<=_;)j.push([]);const T=Re(j,_);Le(T)},fe=()=>{const S=e[_]||[];if(S.length>=Ut){v("Stack Overflow");return}const j=Math.floor(Math.random()*99)+1,T=[...e];for(;T.length<=_;)T.push([]);T[_]=[...S,j],t(T),n([te(T,[],[{index:T[_].length-1,label:"top",color:"primary"}],0,`Pushed ${j}`,"None")]),a(0),v(null)},ce=()=>{const S=e[_]||[];if(S.length===0){v("Stack Underflow");return}const j=[...e],T=[...S];T.pop(),j[_]=T,t(j);const O=T.length>0?[{index:T.length-1,label:"top",color:"primary"}]:[];n([te(j,[],O,0,"Popped top element","None")]),a(0),v(null)},ne=()=>{const S=[...e];for(;S.length<=_;)S.push([]);S[_]=[],t(S),n([te(S,[],[],0,"Stack Cleared","None")]),a(0),v(null)},be=(S,j)=>{const T=e[_]||[],O=[...e],ie=[...T];if(S>=0&&S<ie.length){ie[S]=j,O[_]=ie,t(O);const D=ie.length>0?[{index:ie.length-1,label:"top",color:"primary"}]:[];n([te(O,[S],D,0,`Updated index ${S} to ${j}`,"None")]),a(0),v(null)}};y.useEffect(()=>(o&&r.length>0?xe.current=window.setInterval(()=>{a(S=>S<r.length-1?S+1:(l(!1),S))},1e3/d):xe.current&&clearInterval(xe.current),()=>{xe.current&&clearInterval(xe.current)}),[o,r.length,d]);const Ce=r[s]||{stacks:e,highlights:[],pointers:((q=e[_])==null?void 0:q.length)>0?[{index:e[_].length-1,label:"top",color:"primary"}]:[],codeLine:-1,description:"Ready",internalState:{capacity:Ut,size:((K=e[_])==null?void 0:K.length)||0,top:(((W=e[_])==null?void 0:W.length)||0)-1,currentOp:"None"}};return{initialStacks:e,frames:r,currentStep:s,isPlaying:o,playbackSpeed:d,activeOp:u,error:x,mode:k,activeStackIndex:_,createSize:g,createInput:E,pushValue:Y,appInput:X,balancedInput:ye,postfixInput:Ie,browserCurrent:Ae,browserInput:ze,currentFrame:Ce,setIsPlaying:l,setCurrentStep:a,setPlaybackSpeed:c,setActiveOp:h,setError:v,setMode:N,setActiveStackIndex:p,setCreateSize:b,setCreateInput:R,setPushValue:P,setAppInput:Ne,setBalancedInput:Me,setPostfixInput:F,setBrowserCurrent:qe,setBrowserInput:Fe,handlePush:G,handlePop:ue,handlePeek:re,handleCanvasPush:fe,handleCanvasPop:ce,handleCanvasClear:ne,handleCanvasUpdate:be,handleReverseString:()=>{if(!X.trim()){v("Invalid Input");return}const S=_e(X);Le(S)},handleBalancedParentheses:()=>{if(!ye.trim()){v("Invalid Input");return}const S=Ke(ye);Le(S)},handlePostfixEval:()=>{if(!Ie.trim()){v("Invalid Input");return}const S=Je(Ie);Le(S)},handleBrowserVisit:()=>{if(!ze.trim()){v("Invalid URL");return}const S=e.length>=2?e:[[],[]],j=se(S,Ae,ze);qe(j.newCurrent),t(j.endStacks),n(j.timeline),a(0),l(!0)},handleBrowserBack:()=>{const S=e.length>=2?e:[[],[]];if(S[0].length===0){v("No back history");return}const j=Qe(S,Ae);qe(j.newCurrent),t(j.endStacks),n(j.timeline),a(0),l(!0)},handleBrowserForward:()=>{const S=e.length>=2?e:[[],[]];if(S[1].length===0){v("No forward history");return}const j=Ye(S,Ae);qe(j.newCurrent),t(j.endStacks),n(j.timeline),a(0),l(!0)},handleExample:()=>{if(k==="applications")switch(u){case"app_reverse":Ne("ALGORITHM");break;case"app_balanced_parentheses":Me("{[()]}");break;case"app_postfix_eval":F("10 5 + 2 *");break;case"app_browser_history":Fe("github.com");break}else{const j=(e[_]||[]).length,T=j>0?j:5,O=Array.from({length:T},()=>Math.floor(Math.random()*99)+1),ie=[...e];for(;ie.length<=_;)ie.push([]);ie[_]=O,t(ie),R(O.join(", ")),b(T.toString()),n([te(ie,[],[{index:O.length-1,label:"top",color:"primary"}],2,"Example Stack Loaded","EXAMPLE")]),a(0),l(!1)}}}},ow=({mode:e,setMode:t,activeOp:r,setActiveOp:n,pushValue:s,setPushValue:a,handlePush:o,handlePop:l,handlePeek:d,appInput:c,setAppInput:u,handleReverseString:h,balancedInput:x,setBalancedInput:v,handleBalancedParentheses:k,postfixInput:N,setPostfixInput:_,handlePostfixEval:p,browserInput:g,setBrowserInput:b,handleBrowserVisit:E,handleBrowserBack:R,handleBrowserForward:Y,handleExample:P,error:X,currentFrame:Ne})=>{const ye=e==="standard"?[{id:"push",label:"Push Element"},{id:"pop",label:"Pop Element"},{id:"peek",label:"Peek Top"}]:[{id:"app_reverse",label:"Reverse String"},{id:"app_balanced_parentheses",label:"Balanced Parentheses"},{id:"app_postfix_eval",label:"Postfix Evaluator"},{id:"app_browser_history",label:"Browser History"}];y.useEffect(()=>{r||n(ye[0].id)},[e]);const Me=()=>{switch(r){case"push":o();break;case"pop":l();break;case"peek":d();break;case"app_reverse":h();break;case"app_balanced_parentheses":k();break;case"app_postfix_eval":p();break;case"app_browser_history":E();break}};return i.jsxs("div",{className:"flex flex-col gap-6 h-full overflow-y-auto pr-1",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-1.5",children:[i.jsx("label",{className:"text-xs font-bold uppercase tracking-wider text-gray-500 dark:text-[#9794c7]",children:"Work Mode"}),i.jsxs("div",{className:"bg-gray-100 dark:bg-[#121121] p-1 rounded-lg flex shadow-inner",children:[i.jsx("button",{onClick:()=>t("standard"),className:`flex-1 py-2 text-[11px] uppercase font-bold rounded-md transition-all ${e==="standard"?"bg-white dark:bg-[#2e2b52] text-primary shadow-sm":"text-gray-400 hover:text-gray-600"}`,children:"Standard"}),i.jsx("button",{onClick:()=>t("applications"),className:`flex-1 py-2 text-[11px] uppercase font-bold rounded-md transition-all ${e==="applications"?"bg-white dark:bg-[#2e2b52] text-primary shadow-sm":"text-gray-400 hover:text-gray-600"}`,children:"Apps"})]})]}),i.jsxs("div",{className:"space-y-1.5",children:[i.jsx("label",{className:"text-xs font-bold uppercase tracking-wider text-gray-500 dark:text-[#9794c7]",children:"Operation"}),i.jsx(Mr,{value:r||"",options:ye.map(Ie=>({value:Ie.id,label:Ie.label})),onChange:Ie=>n(Ie),placeholder:"Select Operation..."})]}),i.jsxs("div",{className:"animate-in fade-in slide-in-from-top-2",children:[r==="push"&&i.jsxs("div",{className:"space-y-3 bg-gray-50/50 dark:bg-white/5 p-4 rounded-xl border border-gray-100 dark:border-white/5",children:[i.jsx("span",{className:"text-[10px] text-gray-400 uppercase font-bold tracking-tight",children:"Value to Push"}),i.jsx("input",{type:"text",value:s,onChange:Ie=>a(Ie.target.value),className:"w-full bg-white dark:bg-[#121121] border border-gray-200 dark:border-[#383564] rounded-lg px-3 py-2 text-sm text-center font-bold"})]}),(r==="pop"||r==="peek")&&i.jsx("div",{className:"p-4 rounded-xl bg-gray-50/50 dark:bg-white/5 border border-gray-100 dark:border-white/5",children:i.jsx("p",{className:"text-xs text-gray-500 italic leading-relaxed",children:r==="pop"?"Remove and return the top element of the stack.":"View the top element without removing it."})}),r==="app_reverse"&&i.jsxs("div",{className:"space-y-3 bg-gray-50/50 dark:bg-white/5 p-4 rounded-xl border border-gray-100 dark:border-white/5",children:[i.jsx("span",{className:"text-[10px] text-gray-400 uppercase font-bold tracking-tight",children:"Input Text"}),i.jsx("input",{type:"text",value:c,onChange:Ie=>u(Ie.target.value),className:"w-full bg-white dark:bg-[#121121] border border-gray-200 dark:border-[#383564] rounded-lg px-3 py-2 text-sm",maxLength:Ut})]}),r==="app_balanced_parentheses"&&i.jsxs("div",{className:"space-y-3 bg-gray-50/50 dark:bg-white/5 p-4 rounded-xl border border-gray-100 dark:border-white/5",children:[i.jsx("span",{className:"text-[10px] text-gray-400 uppercase font-bold tracking-tight",children:"Expression"}),i.jsx("input",{type:"text",value:x,onChange:Ie=>v(Ie.target.value),className:"w-full bg-white dark:bg-[#121121] border border-gray-200 dark:border-[#383564] rounded-lg px-3 py-2 text-sm"})]}),r==="app_postfix_eval"&&i.jsxs("div",{className:"space-y-3 bg-gray-50/50 dark:bg-white/5 p-4 rounded-xl border border-gray-100 dark:border-white/5",children:[i.jsx("span",{className:"text-[10px] text-gray-400 uppercase font-bold tracking-tight",children:"Postfix Expression"}),i.jsx("input",{type:"text",value:N,onChange:Ie=>_(Ie.target.value),className:"w-full bg-white dark:bg-[#121121] border border-gray-200 dark:border-[#383564] rounded-lg px-3 py-2 text-sm font-mono",placeholder:"e.g. 5 3 + 2 *"})]}),r==="app_browser_history"&&i.jsxs("div",{className:"space-y-3 bg-gray-50/50 dark:bg-white/5 p-4 rounded-xl border border-gray-100 dark:border-white/5",children:[i.jsx("span",{className:"text-[10px] text-gray-400 uppercase font-bold tracking-tight",children:"URL Path"}),i.jsx("input",{type:"text",value:g,onChange:Ie=>b(Ie.target.value),className:"w-full bg-white dark:bg-[#121121] border border-gray-200 dark:border-[#383564] rounded-lg px-3 py-2 text-sm",placeholder:"e.g. google.com"}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsxs("button",{onClick:R,className:"bg-gray-100 dark:bg-[#272546] hover:bg-gray-200 dark:hover:bg-[#383564] text-slate-700 dark:text-white text-[11px] font-bold py-2 rounded-lg flex items-center justify-center gap-1 transition-colors",children:[i.jsx("span",{className:"material-symbols-outlined text-sm",children:"arrow_back"})," Back"]}),i.jsxs("button",{onClick:Y,className:"bg-gray-100 dark:bg-[#272546] hover:bg-gray-200 dark:hover:bg-[#383564] text-slate-700 dark:text-white text-[11px] font-bold py-2 rounded-lg flex items-center justify-center gap-1 transition-colors",children:["Forward ",i.jsx("span",{className:"material-symbols-outlined text-sm",children:"arrow_forward"})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-2",children:[i.jsxs("button",{onClick:P,className:"flex items-center justify-center gap-1.5 py-2.5 rounded-lg bg-indigo-50 dark:bg-indigo-900/20 text-indigo-700 dark:text-indigo-300 border border-indigo-200 dark:border-indigo-900/40 hover:bg-indigo-100 dark:hover:bg-indigo-900/40 text-[13px] font-bold transition-all shadow-sm group",children:[i.jsx("span",{className:"material-symbols-outlined text-[18px] group-hover:rotate-12 transition-transform",children:"auto_fix"}),"Example"]}),i.jsxs("button",{onClick:Me,className:`flex items-center justify-center gap-1.5 py-2.5 rounded-lg text-white text-[13px] font-bold transition-all shadow-md shadow-indigo-500/20 ${r==="pop"?"bg-red-500 hover:bg-red-600 shadow-red-500/20":"bg-indigo-600 hover:bg-indigo-500 shadow-indigo-500/20"}`,children:[i.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"play_arrow"}),"Run"]})]}),X&&i.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/10 border border-red-100 dark:border-red-900/30 rounded-xl animate-in shake duration-500",children:i.jsx("p",{className:"text-red-600 dark:text-red-400 text-xs font-medium leading-relaxed",children:X})})]}),e==="applications"&&Ne.internalState.output&&i.jsxs("div",{className:"space-y-2 mt-auto",children:[i.jsx("label",{className:"text-xs font-bold uppercase tracking-wider text-gray-500 dark:text-[#9794c7]",children:"Application Result"}),i.jsxs("div",{className:"p-4 rounded-xl bg-green-50 dark:bg-green-900/10 border border-green-100 dark:border-green-900/30 shadow-sm animate-in zoom-in-95 duration-200",children:[i.jsx("div",{className:"text-[10px] text-green-600 dark:text-green-400 font-bold mb-1",children:"OUTPUT"}),i.jsx("p",{className:"text-sm font-mono font-bold text-green-700 dark:text-green-300 break-words leading-relaxed",children:Ne.internalState.output})]})]})]})},lw=({activeTab:e,activeOp:t,currentFrame:r})=>{const n=t?dh[t]:dh.push,s=t?sw[t]:[];return e==="code"?i.jsxs("div",{className:"flex flex-col gap-2 h-full",children:[i.jsx("h3",{className:"text-xs font-bold uppercase tracking-wider text-gray-400 dark:text-[#9794c7] mb-2 pl-2",children:"Implementation"}),i.jsx("div",{className:"bg-[#121121] border border-[#383564] rounded-lg p-3 overflow-auto flex-1 font-mono text-xs text-gray-300",children:i.jsx("pre",{children:iw})})]}):e==="pseudo"?i.jsxs("div",{className:"flex flex-col gap-2 h-full",children:[i.jsx("h3",{className:"text-xs font-bold uppercase tracking-wider text-gray-400 dark:text-[#9794c7] mb-2 pl-2",children:"Pseudocode"}),i.jsx("div",{className:"bg-[#121121] border border-[#383564] rounded-lg p-4 font-mono text-xs text-gray-400",children:i.jsxs("div",{className:"space-y-1",children:[s.map((a,o)=>i.jsxs("p",{className:`px-2 py-1 -mx-2 rounded border-l-2 transition-colors ${o===r.codeLine?"text-primary dark:text-white bg-primary/10 dark:bg-primary/20 border-primary":"border-transparent"}`,children:[o+1,". ",a]},o)),s.length===0&&i.jsx("span",{className:"text-gray-500 italic",children:"Select an operation to see logic..."})]})})]}):i.jsxs("div",{className:"flex flex-col gap-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-xs font-bold uppercase tracking-wider text-gray-400 dark:text-[#9794c7] mb-2 pl-2",children:"Complexity"}),i.jsxs("div",{className:"bg-white/5 dark:bg-[#1c1a32]/50 border border-gray-200 dark:border-[#383564] rounded-xl p-4 text-xs font-mono text-gray-400",children:[i.jsxs("div",{className:"flex justify-between border-b border-white/10 pb-2 mb-2",children:[i.jsx("span",{className:"text-white font-bold uppercase",children:t||"STACK"}),i.jsx("span",{className:"text-primary",children:n.avg})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Best"}),i.jsx("span",{className:"text-emerald-400",children:n.best})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Avg"}),i.jsx("span",{className:"text-amber-400",children:n.avg})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Worst"}),i.jsx("span",{className:"text-rose-400",children:n.worst})]}),i.jsxs("div",{className:"flex justify-between border-t border-white/10 pt-1 mt-1",children:[i.jsx("span",{children:"Space"}),i.jsx("span",{className:"text-blue-400",children:n.space})]})]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xs font-bold uppercase tracking-wider text-gray-400 dark:text-[#9794c7] mb-2 pl-2",children:"Internal State"}),i.jsx("div",{className:"bg-white/5 dark:bg-[#1c1a32]/50 border border-gray-200 dark:border-[#383564] rounded-xl p-4 text-xs font-mono text-gray-400",children:i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between border-b border-gray-200 dark:border-white/5 pb-1",children:[i.jsx("span",{children:"Capacity"}),i.jsx("span",{className:"text-primary font-bold",children:r.internalState.capacity})]}),i.jsxs("div",{className:"flex justify-between border-b border-gray-200 dark:border-white/5 pb-1",children:[i.jsx("span",{children:"Size"}),i.jsx("span",{className:"text-slate-900 dark:text-white font-bold",children:r.internalState.size})]}),i.jsxs("div",{className:"flex justify-between border-b border-gray-200 dark:border-white/5 pb-1",children:[i.jsx("span",{children:"Top Index"}),i.jsx("span",{className:"text-slate-900 dark:text-white font-bold",children:r.internalState.top})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Op"}),i.jsx("span",{className:"text-orange-400 font-bold uppercase",children:r.internalState.currentOp})]})]})})]})]})},dw=({activeTool:e,setActiveTool:t,onPush:r,onPop:n,onClear:s})=>i.jsxs("div",{className:"absolute top-4 left-4 bg-white dark:bg-[#1e1c33] p-1.5 rounded-xl shadow-[0_8px_30px_rgb(0,0,0,0.12)] border border-gray-200 dark:border-[#272546] flex flex-row items-center gap-1 z-50 animate-in slide-in-from-left-4 fade-in",children:[i.jsxs("button",{onClick:r,className:"relative w-10 h-10 flex items-center justify-center rounded-lg text-emerald-500 hover:bg-emerald-50 dark:hover:bg-emerald-900/20 transition-all duration-200 group",title:"Push (Add)",children:[i.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"add_box"}),i.jsx("div",{className:"absolute -bottom-10 left-1/2 -translate-x-1/2 px-2 py-1 bg-gray-900 text-white text-[10px] font-medium rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap pointer-events-none",children:"Push"})]}),i.jsxs("button",{onClick:()=>t(e==="edit"?null:"edit"),className:`relative w-10 h-10 flex items-center justify-center rounded-lg transition-all duration-200 group ${e==="edit"?"bg-blue-100 dark:bg-blue-900/40 text-blue-600 dark:text-blue-400 shadow-inner":"text-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20"}`,title:"Edit Values",children:[i.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"edit"}),i.jsx("div",{className:"absolute -bottom-10 left-1/2 -translate-x-1/2 px-2 py-1 bg-gray-900 text-white text-[10px] font-medium rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap pointer-events-none z-50",children:"Edit Values"})]}),i.jsxs("button",{onClick:n,className:"relative w-10 h-10 flex items-center justify-center rounded-lg text-amber-500 hover:bg-amber-50 dark:hover:bg-amber-900/20 transition-all duration-200 group",title:"Pop (Remove)",children:[i.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"indeterminate_check_box"}),i.jsx("div",{className:"absolute -bottom-10 left-1/2 -translate-x-1/2 px-2 py-1 bg-gray-900 text-white text-[10px] font-medium rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap pointer-events-none",children:"Pop"})]}),i.jsx("div",{className:"w-[1px] h-6 bg-gray-200 dark:bg-[#272546] mx-1"}),i.jsxs("button",{onClick:s,className:"relative w-10 h-10 flex items-center justify-center rounded-lg text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 transition-all duration-200 group",title:"Clear Stack",children:[i.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"delete_sweep"}),i.jsx("div",{className:"absolute -bottom-10 left-1/2 -translate-x-1/2 px-2 py-1 bg-gray-900 text-white text-[10px] font-medium rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap pointer-events-none",children:"Clear Stack"})]})]}),cw=()=>{var W,S;const{frames:e,currentStep:t,isPlaying:r,playbackSpeed:n,activeOp:s,error:a,mode:o,activeStackIndex:l,pushValue:d,appInput:c,currentFrame:u,setIsPlaying:h,setCurrentStep:x,setPlaybackSpeed:v,setActiveOp:k,setPushValue:N,setAppInput:_,setMode:p,handlePush:g,handlePop:b,handlePeek:E,handleCanvasPush:R,handleCanvasPop:Y,handleCanvasClear:P,handleCanvasUpdate:X,handleReverseString:Ne,handleBalancedParentheses:ye,handlePostfixEval:Me,balancedInput:Ie,setBalancedInput:F,postfixInput:Ae,setPostfixInput:qe,browserInput:ze,setBrowserInput:Fe,handleBrowserVisit:xe,handleBrowserBack:te,handleBrowserForward:ke,handleExample:Oe}=aw(),[Re,_e]=y.useState("pseudo"),[Ke,Je]=y.useState(.5),[se,Qe]=y.useState(!1),Ye=y.useRef(null),[Le,G]=y.useState({x:0,y:0}),[ue,re]=y.useState(1),[fe,ce]=y.useState(!1),[ne,be]=y.useState({x:0,y:0}),[Ce,$e]=y.useState(null),[Be,je]=y.useState(null),Ge=(j,T,O)=>{if(Ce==="edit"){O.stopPropagation();const ie=O.currentTarget.getBoundingClientRect();je({index:j,value:String(T),x:ie.left+ie.width/2,y:ie.top-10})}},$=j=>{ce(!0),be({x:j.clientX,y:j.clientY})},A=j=>{if(!fe)return;const T=j.clientX-ne.x,O=j.clientY-ne.y;G(ie=>({x:ie.x+T,y:ie.y+O})),be({x:j.clientX,y:j.clientY})},B=()=>ce(!1),q=j=>{if(j.ctrlKey)return;const T=-j.deltaY*.001;re(O=>Math.min(Math.max(.5,O+T),3))},K=j=>{Qe(!0),j.preventDefault()};return y.useEffect(()=>{const j=O=>{if(!se||!Ye.current)return;const ie=Ye.current.getBoundingClientRect(),D=O.clientY-ie.top,f=Math.max(.2,Math.min(.8,D/ie.height));Je(f)},T=()=>{Qe(!1)};return se&&(window.addEventListener("mousemove",j),window.addEventListener("mouseup",T)),()=>{window.removeEventListener("mousemove",j),window.removeEventListener("mouseup",T)}},[se]),i.jsxs(Dn,{title:"Stack",sidebarPosition:"right",contentClassName:"flex-1 flex flex-col relative z-10 overflow-hidden",sidebarNoPadding:!0,sidebarNoScroll:!0,sidebar:i.jsxs("div",{className:"h-full flex flex-col relative",ref:Ye,children:[i.jsx("div",{style:{height:`${Ke*100}%`},className:"min-h-0 overflow-y-auto border-b border-gray-200 dark:border-[#272546] p-4",children:i.jsx(ow,{mode:o,setMode:p,activeOp:s,setActiveOp:k,pushValue:d,setPushValue:N,handlePush:g,handlePop:b,handlePeek:E,appInput:c,setAppInput:_,handleReverseString:Ne,balancedInput:Ie,setBalancedInput:F,handleBalancedParentheses:ye,postfixInput:Ae,setPostfixInput:qe,handlePostfixEval:Me,browserInput:ze,setBrowserInput:Fe,handleBrowserVisit:xe,handleBrowserBack:te,handleBrowserForward:ke,handleExample:Oe,error:a,currentFrame:u})}),i.jsx("div",{className:"h-1 bg-gray-200 dark:bg-[#383564] cursor-row-resize hover:bg-primary transition-colors shrink-0 z-50",onMouseDown:K}),i.jsxs("div",{className:"flex-1 min-h-0 flex flex-col bg-gray-50/50 dark:bg-[#1c1a32]/20 overflow-hidden",children:[i.jsx("div",{className:"flex p-1 bg-gray-100 dark:bg-[#121121] border-b border-gray-200 dark:border-[#272546] shrink-0",children:["pseudo","code","info"].map(j=>i.jsx("button",{onClick:()=>_e(j),className:`flex-1 py-1.5 text-[10px] uppercase font-bold rounded-md transition-all ${Re===j?"bg-white dark:bg-[#1c1a32] text-primary shadow-sm":"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"}`,children:j},j))}),i.jsx("div",{className:"flex-1 overflow-y-auto p-4 custom-scrollbar",children:i.jsx(lw,{activeTab:Re,activeOp:s,currentFrame:u})})]})]}),controls:i.jsxs("div",{className:"w-full h-16 bg-white dark:bg-[#1e1c33] border-t border-gray-200 dark:border-[#272546] flex items-center px-6 gap-6 z-20",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:()=>x(0),className:"size-8 rounded-full flex items-center justify-center text-gray-500 hover:text-white transition-colors hover:bg-white/5",title:"Start",children:i.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"skip_previous"})}),i.jsx("button",{onClick:()=>x(j=>Math.max(0,j-1)),className:"size-8 rounded-full flex items-center justify-center text-gray-500 hover:text-white transition-colors hover:bg-white/5",title:"Prev",children:i.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"fast_rewind"})}),i.jsx("button",{onClick:()=>h(!r),className:`size-10 rounded-full flex items-center justify-center text-white shadow-lg transition-transform hover:scale-105 active:scale-95 ${r?"bg-red-500":"bg-primary"}`,children:i.jsx("span",{className:"material-symbols-outlined text-[24px] filled",children:r?"pause":"play_arrow"})}),i.jsx("button",{onClick:()=>x(j=>Math.min(e.length-1,j+1)),className:"size-8 rounded-full flex items-center justify-center text-gray-500 hover:text-white transition-colors hover:bg-white/5",title:"Next",children:i.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"fast_forward"})}),i.jsx("button",{onClick:()=>x(e.length-1),className:"size-8 rounded-full flex items-center justify-center text-gray-500 hover:text-white transition-colors hover:bg-white/5",title:"End",children:i.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"skip_next"})})]}),i.jsxs("div",{className:"flex-1 flex flex-col justify-center gap-1.5",children:[i.jsxs("div",{className:"flex justify-between text-xs font-medium text-gray-400",children:[i.jsxs("span",{children:["Step ",t+1,"/",e.length||1]}),i.jsx("span",{className:"truncate max-w-[200px]",children:u.description})]}),i.jsx("div",{className:"h-1.5 w-full bg-[#272546] rounded-full overflow-hidden relative cursor-pointer",onClick:j=>{const T=j.currentTarget.getBoundingClientRect(),O=(j.clientX-T.left)/T.width;x(Math.floor(O*(e.length-1)))},children:i.jsx("div",{className:"h-full bg-primary relative rounded-full",style:{width:`${(t+1)/(e.length||1)*100}%`}})})]}),i.jsxs("div",{className:"flex items-center gap-3 w-32 border-l border-[#272546] pl-4",children:[i.jsx("span",{className:"material-symbols-outlined text-gray-500 text-sm",children:"speed"}),i.jsx("input",{type:"range",min:"0.5",max:"3",step:"0.5",value:n,onChange:j=>v(parseFloat(j.target.value)),className:"w-full h-1 bg-[#272546] rounded-lg appearance-none cursor-pointer accent-primary"})]})]}),children:[i.jsx(dw,{activeTool:Ce,setActiveTool:$e,onPush:R,onPop:Y,onClear:P}),i.jsxs("div",{className:`flex-1 flex flex-col items-center justify-center overflow-hidden relative z-0 ${fe?"cursor-grabbing":"cursor-grab"}`,onMouseDown:$,onMouseMove:A,onMouseUp:B,onMouseLeave:B,onWheel:q,children:[i.jsxs("div",{className:"flex flex-col-reverse items-center justify-end gap-1 transition-transform duration-75 ease-out origin-center p-10 min-h-[400px] relative",style:{transform:`translate(${Le.x}px, ${Le.y}px) scale(${ue})`},children:[i.jsx("div",{className:"flex gap-40",children:(W=u==null?void 0:u.stacks)==null?void 0:W.map((j,T)=>i.jsxs("div",{className:"relative flex flex-col-reverse items-center justify-end gap-1",children:[i.jsx("div",{className:"absolute -bottom-3 w-40 h-2 bg-gray-300 dark:bg-gray-700 rounded-full"}),u.stackLabels&&u.stackLabels[T]&&i.jsx("div",{className:"absolute -bottom-8 text-xs font-bold text-gray-400 uppercase tracking-widest",children:u.stackLabels[T]}),j==null?void 0:j.map((O,ie)=>{var m,w;const D=((m=u.highlights)==null?void 0:m.includes(ie))&&T===0,f=((w=u.pointers)==null?void 0:w.filter(C=>C.index===ie))||[];return i.jsxs("div",{className:`relative w-32 h-12 flex-shrink-0 ${Ce==="edit"&&T===l?"cursor-pointer hover:-translate-y-1 transition-transform":""}`,onClick:C=>{T===l&&Ge(ie,String(O),C)},children:[i.jsx("div",{title:String(O),className:`
                                                    w-full h-full rounded-md flex items-center justify-center text-lg font-mono font-medium shadow-sm border-2 transition-all duration-300 overflow-hidden px-1
                                                    ${D?"bg-primary text-white border-primary scale-105 z-10 shadow-[0_0_20px_rgba(66,54,231,0.4)]":"bg-white dark:bg-[#1c1a32] border-gray-300 dark:border-[#383564] text-slate-900 dark:text-white"}
                                                `,children:i.jsx("span",{className:"truncate w-full text-center",children:O})}),i.jsxs("div",{className:"absolute top-1/2 -translate-y-1/2 -right-8 text-xs text-gray-400 font-mono",children:["[",ie,"]"]}),f.map(C=>i.jsxs("div",{className:"absolute top-1/2 -translate-y-1/2 -left-20 flex items-center justify-end w-16 gap-2",children:[i.jsx("span",{className:`text-xs font-bold px-1.5 py-0.5 rounded border ${C.color==="primary"?"text-primary bg-white dark:bg-[#121121] border-primary/30":C.color==="green"?"text-emerald-400 bg-white dark:bg-[#121121] border-emerald-400/30":"text-red-400 bg-white dark:bg-[#121121] border-red-400/30"}`,children:C.label}),i.jsx("span",{className:"material-symbols-outlined text-sm",children:"arrow_right_alt"})]},C.label))]},ie)}),i.jsx("div",{className:"absolute bottom-[2px] w-56 border-t-2 border-dashed border-red-500/30 pointer-events-none flex justify-center",style:{height:`${Ut*52}px`},children:T===0&&i.jsx("span",{className:"bg-red-500/10 text-red-400 px-2 py-0.5 rounded text-[10px] uppercase font-bold absolute -top-3",children:"Max Capacity"})})]},T))}),((S=u==null?void 0:u.stacks)==null?void 0:S.every(j=>j.length===0))&&i.jsxs("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-center pointer-events-none",children:[i.jsx("span",{className:"material-symbols-outlined text-6xl text-gray-200 dark:text-gray-800",children:"layers_clear"}),i.jsx("p",{className:"text-gray-400 font-medium mt-2",children:"Stack is empty"})]})]}),Be&&i.jsxs("div",{className:"fixed z-50 bg-white dark:bg-[#1e1c33] p-2 rounded-lg shadow-xl border border-gray-200 dark:border-[#383564] flex gap-2 animate-in zoom-in-95 duration-200",style:{left:Be.x,top:Be.y,transform:"translate(-50%, -100%)"},children:[i.jsx("input",{type:"text",value:Be.value,onChange:j=>je({...Be,value:j.target.value}),onKeyDown:j=>{j.key==="Enter"?(X(Be.index,Be.value),je(null),$e(null)):j.key==="Escape"&&je(null)},autoFocus:!0,className:"w-20 px-2 py-1 bg-gray-50 dark:bg-[#121121] border border-gray-200 dark:border-[#383564] rounded text-sm font-mono focus:outline-none focus:ring-2 focus:ring-primary"}),i.jsx("button",{onClick:()=>{X(Be.index,Be.value),je(null),$e(null)},className:"px-2 py-1 bg-primary text-white rounded text-xs font-bold hover:bg-indigo-500",children:"Save"}),i.jsx("button",{onClick:()=>je(null),className:"px-2 py-1 bg-gray-200 dark:bg-[#272546] text-gray-600 dark:text-gray-300 rounded text-xs font-bold hover:bg-gray-300 dark:hover:bg-[#383564]",children:i.jsx("span",{className:"material-symbols-outlined text-[14px]",children:"close"})})]})]})]})},ch=[{id:0,value:50,x:400,y:200,left:1,right:2},{id:1,value:30,x:200,y:300,parentId:0,left:3,right:4},{id:2,value:70,x:600,y:300,parentId:0,left:5,right:6},{id:3,value:20,x:100,y:400,parentId:1},{id:4,value:40,x:300,y:400,parentId:1},{id:5,value:60,x:500,y:400,parentId:2},{id:6,value:80,x:700,y:400,parentId:2}],uh=[{from:0,to:1},{from:0,to:2},{from:1,to:3},{from:1,to:4},{from:2,to:5},{from:2,to:6}],uw=()=>{const[e,t]=y.useState(ch),[r,n]=y.useState(uh),[s,a]=y.useState(0),[o,l]=y.useState([]),[d,c]=y.useState(0),[u,h]=y.useState(!1),[x,v]=y.useState(1),[k,N]=y.useState(null),[_,p]=y.useState("move"),[g,b]=y.useState(null),E=y.useRef(null),R=e.reduce((f,m)=>Math.max(f,m.id),0),Y=y.useRef(R+1);y.useEffect(()=>{if(e.length===0)a(null);else{const f=e.find(m=>m.parentId===void 0||m.parentId===null);a(f?f.id:null)}},[e]);const P=(f,m)=>{if(m===null)return[];const w=[...f],I=800/2,U=200,Q=80,Z=new Map;w.forEach((Ee,me)=>Z.set(Ee.id,me));const ve=(Ee,me,he,Te)=>{const de=Z.get(Ee);if(de===void 0)return;w[de]={...w[de],x:me,y:he};const Se=w[de];Se.left!==void 0&&ve(Se.left,me-Te,he+Q,Te/2),Se.right!==void 0&&ve(Se.right,me+Te,he+Q,Te/2)};return ve(m,I,U,200),w},X=f=>{const m=[];return f.forEach(w=>{w.left!==void 0&&m.push({from:w.id,to:w.left}),w.right!==void 0&&m.push({from:w.id,to:w.right})}),m},Ne=f=>{N("insert"),l([]),c(0);let m=JSON.parse(JSON.stringify(e)),w=[];if(w.push({nodes:[...m],edges:X(m),highlights:[],codeLine:0,pseudoLines:["if root is NULL, return createNode(val)","if val < root->val, root->left = insert(root->left, val)","else if val > root->val, root->right = insert(root->right, val)","return root"],description:`Starting insertion of ${f}.`}),m.length===0){const U={id:Y.current++,value:f,x:400,y:50};m=[U],t(m),n([]),w.push({nodes:m,edges:[],highlights:[U.id],codeLine:1,pseudoLines:["if root is NULL, return createNode(val)","if val < root->val, root->left = insert(root->left, val)","else if val > root->val, root->right = insert(root->right, val)","return root"],description:`Root was empty. Created new root with value ${f}.`}),l(w),h(!0);return}let C=m.find(U=>U.parentId===void 0||U.parentId===null);for(C||(C=m[0]);;){if(w.push({nodes:P([...m],s),edges:X(m),highlights:[C.id],codeLine:1,pseudoLines:["if root is NULL, return createNode(val)","if val < root->val, root->left = insert(root->left, val)","else if val > root->val, root->right = insert(root->right, val)","return root"],description:`Comparing ${f} with ${C.value}.`}),f===C.value){w.push({nodes:P([...m],s),edges:X(m),highlights:[C.id],evaluated:[C.id],codeLine:3,pseudoLines:["if root is NULL, return createNode(val)","if val < root->val, root->left = insert(root->left, val)","else if val > root->val, root->right = insert(root->right, val)","return root"],description:`Value ${f} already exists. Duplicates not allowed.`});break}if(f<C.value)if(C.left===void 0){const U={id:Y.current++,value:f,x:0,y:0,parentId:C.id};C.left=U.id,m.push(U),w.push({nodes:P([...m],s),edges:X(m),highlights:[U.id],codeLine:2,pseudoLines:["if root is NULL, return createNode(val)","if val < root->val, root->left = insert(root->left, val)","else if val > root->val, root->right = insert(root->right, val)","return root"],description:`Inserted ${f} as left child of ${C.value}.`});break}else{w.push({nodes:P([...m],s),edges:X(m),highlights:[C.id],evaluated:[C.id],codeLine:2,pseudoLines:["if root is NULL, return createNode(val)","if val < root->val, root->left = insert(root->left, val)","else if val > root->val, root->right = insert(root->right, val)","return root"],description:`${f} < ${C.value}, going left.`});const U=C.left;C=m.find(Q=>Q.id===U)}else if(C.right===void 0){const U={id:Y.current++,value:f,x:0,y:0,parentId:C.id};C.right=U.id,m.push(U),w.push({nodes:P([...m],s),edges:X(m),highlights:[U.id],codeLine:3,pseudoLines:["if root is NULL, return createNode(val)","if val < root->val, root->left = insert(root->left, val)","else if val > root->val, root->right = insert(root->right, val)","return root"],description:`Inserted ${f} as right child of ${C.value}.`});break}else{w.push({nodes:P([...m],s),edges:X(m),highlights:[C.id],evaluated:[C.id],codeLine:3,pseudoLines:["if root is NULL, return createNode(val)","if val < root->val, root->left = insert(root->left, val)","else if val > root->val, root->right = insert(root->right, val)","return root"],description:`${f} > ${C.value}, going right.`});const U=C.right;C=m.find(Q=>Q.id===U)}}const I=P(m,s);t(I),n(X(I)),l(w),h(!0)},ye=f=>{N("delete"),l([]),c(0);let m=[],w=JSON.parse(JSON.stringify(e));const C=(Z,ve,Ee)=>{if(Z===void 0)return;const me=w.findIndex(Te=>Te.id===Z),he=w[me];if(m.push({nodes:P([...w],s),edges:X(w),highlights:[he.id],codeLine:1,pseudoLines:["if root == NULL return root","if key < root->val delete(left)","else if key > root->val delete(right)","else (found):","  if one child: return child","  if two children: replace with successor, delete successor"],description:`Visiting node ${he.value} searching for ${ve}.`}),ve<he.value){m.push({nodes:P([...w],s),edges:X(w),highlights:[he.id],evaluated:[he.id],codeLine:2,pseudoLines:["if root == NULL return root","if key < root->val delete(left)","else if key > root->val delete(right)","else (found):","  if one child: return child","  if two children: replace with successor, delete successor"],description:`${ve} < ${he.value}, going left.`});const Te=C(he.left,ve,he.id);return w[me].left=Te,he.id}else if(ve>he.value){m.push({nodes:P([...w],s),edges:X(w),highlights:[he.id],evaluated:[he.id],codeLine:3,pseudoLines:["if root == NULL return root","if key < root->val delete(left)","else if key > root->val delete(right)","else (found):","  if one child: return child","  if two children: replace with successor, delete successor"],description:`${ve} > ${he.value}, going right.`});const Te=C(he.right,ve,he.id);return w[me].right=Te,he.id}else{if(m.push({nodes:P([...w],s),edges:X(w),highlights:[he.id],codeLine:4,pseudoLines:["if root == NULL return root","if key < root->val delete(left)","else if key > root->val delete(right)","else (found):","  if one child: return child","  if two children: replace with successor, delete successor"],description:`Found node ${ve} to delete.`}),he.left===void 0){const Se=he.right;return w=w.filter(De=>De.id!==he.id),m.push({nodes:P([...w],s),edges:X(w),highlights:[],codeLine:5,pseudoLines:["if root == NULL return root","if key < root->val delete(left)","else if key > root->val delete(right)","else (found):","  if one child: return child","  if two children: replace with successor, delete successor"],description:"Node has no left child. Replacing with right child."}),Se}else if(he.right===void 0){const Se=he.left;return w=w.filter(De=>De.id!==he.id),m.push({nodes:P([...w],s),edges:X(w),highlights:[],codeLine:5,pseudoLines:["if root == NULL return root","if key < root->val delete(left)","else if key > root->val delete(right)","else (found):","  if one child: return child","  if two children: replace with successor, delete successor"],description:"Node has no right child. Replacing with left child."}),Se}let Te=w.find(Se=>Se.id===he.right);for(;Te.left!==void 0;)Te=w.find(Se=>Se.id===Te.left);m.push({nodes:P([...w],s),edges:X(w),highlights:[he.id,Te.id],codeLine:6,pseudoLines:["if root == NULL return root","if key < root->val delete(left)","else if key > root->val delete(right)","else (found):","  if one child: return child","  if two children: replace with successor, delete successor"],description:`Found successor ${Te.value}. Replacing ${he.value} with ${Te.value}.`}),he.value=Te.value;const de=C(he.right,Te.value,he.id);return he.right=de,he.id}},I=C(s??void 0,f),U=P(w,s===f?I??null:s),Q=w.find(Z=>!w.some(ve=>ve.left===Z.id||ve.right===Z.id));t(U),n(X(U)),a(Q?Q.id:null),l(m),h(!0)},Me=f=>{N("search"),l([]),c(0);const m=[];let w="",C=e.find(I=>I.id===s);for(m.push({nodes:[...e],edges:[...r],highlights:[],codeLine:0,pseudoLines:["if root == NULL or root->val == target, return root","if target < root->val, search(root->left)","else search(root->right)"],description:`Starting search for ${f}.`,output:`Searching: ${w}`});C;){if(w+=(w?" -> ":"")+C.value,m.push({nodes:[...e],edges:[...r],highlights:[C.id],codeLine:1,pseudoLines:["if root == NULL or root->val == target, return root","if target < root->val, search(root->left)","else search(root->right)"],description:`Checking node ${C.value}.`,output:`Path: ${w}`}),C.value===f){m.push({nodes:[...e],edges:[...r],highlights:[C.id],evaluated:[C.id],codeLine:1,pseudoLines:["if root == NULL or root->val == target, return root","if target < root->val, search(root->left)","else search(root->right)"],description:`Found ${f}!`,output:`Found: ${w}`});break}if(f<C.value){if(m.push({nodes:[...e],edges:[...r],highlights:[C.id],evaluated:[C.id],codeLine:2,pseudoLines:["if root == NULL or root->val == target, return root","if target < root->val, search(root->left)","else search(root->right)"],description:`${f} < ${C.value}, going left.`,output:`Path: ${w}`}),C.left===void 0)break;C=e.find(I=>I.id===C.left)}else{if(m.push({nodes:[...e],edges:[...r],highlights:[C.id],evaluated:[C.id],codeLine:3,pseudoLines:["if root == NULL or root->val == target, return root","if target < root->val, search(root->left)","else search(root->right)"],description:`${f} > ${C.value}, going right.`,output:`Path: ${w}`}),C.right===void 0)break;C=e.find(I=>I.id===C.right)}}l(m),h(!0)},Ie=f=>{N(f),l([]),c(0);const m=[],w=[];let C=[];if(f==="inorder"&&(C=["inorder(left)","print(root)","inorder(right)"]),f==="preorder"&&(C=["print(root)","preorder(left)","preorder(right)"]),f==="postorder"&&(C=["postorder(left)","postorder(right)","print(root)"]),f==="bfs"&&(C=["queue.push(root)","while queue not empty:","  node = queue.pop()","  print(node)","  if node.left: queue.push(node.left)","  if node.right: queue.push(node.right)"]),f==="bfs"){if(s===null)return;const U=[s];for(m.push({nodes:[...e],edges:[...r],highlights:[],codeLine:0,pseudoLines:C,description:"Starting Level Order Traversal (BFS).",output:""});U.length>0;){const Q=U.shift(),Z=e.find(Ee=>Ee.id===Q);w.push(Z.value);const ve=w.join(", ");m.push({nodes:[...e],edges:[...r],highlights:[Z.id],evaluated:[Z.id],codeLine:2,pseudoLines:C,description:`Dequeued ${Z.value}. Visiting.`,output:ve}),Z.left!==void 0&&(U.push(Z.left),m.push({nodes:[...e],edges:[...r],highlights:[Z.id,Z.left],codeLine:4,pseudoLines:C,description:`Enqueuing left child ${e.find(Ee=>Ee.id===Z.left).value}.`,output:ve})),Z.right!==void 0&&(U.push(Z.right),m.push({nodes:[...e],edges:[...r],highlights:[Z.id,Z.right],codeLine:5,pseudoLines:C,description:`Enqueuing right child ${e.find(Ee=>Ee.id===Z.right).value}.`,output:ve}))}l(m),h(!0);return}const I=U=>{if(U===void 0)return;const Q=e.find(Z=>Z.id===U);m.push({nodes:[...e],edges:[...r],highlights:[Q.id],codeLine:0,pseudoLines:C,description:`Visiting ${Q.value}.`,output:w.join(", ")}),f==="preorder"&&(w.push(Q.value),m.push({nodes:[...e],edges:[...r],highlights:[Q.id],evaluated:[Q.id],codeLine:0,pseudoLines:C,description:`Processed ${Q.value}.`,output:w.join(", ")})),f!=="preorder"&&I(Q.left),f==="preorder"&&I(Q.left),f==="inorder"&&(w.push(Q.value),m.push({nodes:[...e],edges:[...r],highlights:[Q.id],evaluated:[Q.id],codeLine:1,pseudoLines:C,description:`Processed ${Q.value}.`,output:w.join(", ")})),f!=="postorder"&&I(Q.right),f==="postorder"&&I(Q.right),f==="postorder"&&(w.push(Q.value),m.push({nodes:[...e],edges:[...r],highlights:[Q.id],evaluated:[Q.id],codeLine:2,pseudoLines:C,description:`Processed ${Q.value}.`,output:w.join(", ")}))};s!==null&&I(s),l(m),h(!0)};y.useEffect(()=>(u&&d<o.length-1?E.current=setTimeout(()=>{c(f=>f+1)},1e3/x):h(!1),()=>{E.current&&clearTimeout(E.current)}),[u,d,o.length,x]);const F=()=>{t(ch),n(uh),a(0),l([]),c(0),h(!1),N(null)},Ae=()=>{t([]),n([]),a(null),l([]),c(0),h(!1),N(null)},qe=()=>{F()},ze=(f,m)=>{let w=10;const C=new Set(e.map(Z=>Z.value));for(;C.has(w);)w+=5;const I=prompt("Enter value for new node:",w.toString());if(I===null)return;const U=parseInt(I);if(isNaN(U))return;const Q={id:Y.current++,value:U,x:f,y:m};t(Z=>[...Z,Q]),l([]),c(0),h(!1),N(null),e.length===0&&a(Q.id)},Fe=(f,m)=>{if(f===m||r.find(he=>he.from===f&&he.to===m))return;if(r.filter(he=>he.from===f).length>=2){alert("Node already has 2 children!");return}let I=f;const U=new Map;r.forEach(he=>U.set(he.to,he.from));let Q=new Set;for(;U.has(I);)if(I=U.get(I),Q.add(I),I===m){alert("Cannot create cycle!");return}if(U.has(m)){alert("Target node already has a parent!");return}const Z=e.find(he=>he.id===f),ve=e.find(he=>he.id===m);if(!Z||!ve)return;const Ee=e.map(he=>{if(he.id===f){if(ve.value<Z.value&&!he.left)return{...he,left:m};if(ve.value>Z.value&&!he.right)return{...he,right:m};if(!he.left)return{...he,left:m};if(!he.right)return{...he,right:m}}return he.id===m?{...he,parentId:f}:he}),me=[...r,{from:f,to:m}];t(Ee),n(me),l([]),c(0),h(!1)},xe=f=>{const m=e.filter(C=>C.id!==f).map(C=>C.left===f?{...C,left:void 0}:C.right===f?{...C,right:void 0}:C),w=r.filter(C=>C.from!==f&&C.to!==f);if(t(m),n(w),s===f)if(m.length===0)a(null);else{const C=m.map(I=>I.parentId===f?{...I,parentId:void 0}:I);t(C)}else{const C=m.map(I=>I.parentId===f?{...I,parentId:void 0}:I);t(C)}l([]),c(0),h(!1)},te=(f,m)=>{const w=r.filter(I=>!(I.from===f&&I.to===m)),C=e.map(I=>{if(I.id===f){if(I.left===m)return{...I,left:void 0};if(I.right===m)return{...I,right:void 0}}return I.id===m?{...I,parentId:void 0}:I});t(C),n(w),l([]),c(0),h(!1)},ke=(f,m,w)=>{t(C=>C.map(I=>I.id===f?{...I,x:m,y:w}:I))},Oe=()=>{const f=Math.floor(Math.random()*8)+7,m=new Set;for(;m.size<f;)m.add(Math.floor(Math.random()*99)+1);let w=[],C=0;const I=(Z,ve,Ee)=>{if(Z===null){const he=C++;return w.push({id:he,value:ve,x:0,y:0,parentId:Ee??void 0}),he}const me=w.find(he=>he.id===Z);return ve<me.value?me.left=I(me.left??null,ve,me.id):me.right=I(me.right??null,ve,me.id),Z};let U=null;for(const Z of m)U=I(U,Z,null);const Q=P(w,U);t(Q),n(X(Q)),a(U),Y.current=C,l([]),c(0),h(!1)},Re=()=>{if(s===null)return;N("zigzag"),l([]),c(0);const f=[],m=[{id:s,level:0}],w=[],C=new Set,I=["queue = [(root, 0)]","while queue not empty:","  level_nodes = process_level(queue)","  if level % 2 == 1: reverse(level_nodes)","  print(level_nodes)"];for(f.push({nodes:[...e],edges:[...r],highlights:[],codeLine:0,pseudoLines:I,description:"Starting Zig-Zag (Spiral) Traversal.",output:""});m.length>0;){const U=m.length,Q=[],Z=m[0].level;for(let Ee=0;Ee<U;Ee++){const me=m.shift();Q.push(me.id);const he=e.find(Te=>Te.id===me.id);he.left!==void 0&&m.push({id:he.left,level:Z+1}),he.right!==void 0&&m.push({id:he.right,level:Z+1})}const ve=Z%2===1?[...Q].reverse():Q;for(const Ee of ve){const me=e.find(he=>he.id===Ee);w.push(me.value),C.add(Ee),f.push({nodes:[...e],edges:[...r],highlights:[...C],evaluated:[Ee],codeLine:2,pseudoLines:I,description:`Level ${Z} (${Z%2===0?"L->R":"R->L"}): Visiting ${me.value}.`,output:w.join(", ")})}}l(f),h(!0)},_e=()=>{if(s===null)return;N("findMin"),l([]),c(0);const f=[];let m=e.find(C=>C.id===s);const w=["curr = root","while curr.left != NULL:","  curr = curr.left","return curr.val"];for(;m;){if(m.left===void 0){f.push({nodes:[...e],edges:[...r],highlights:[m.id],evaluated:[m.id],codeLine:3,pseudoLines:w,description:`No left child. Min value is ${m.value}.`});break}m=e.find(C=>C.id===m.left)}l(f),h(!0)},Ke=()=>{if(s===null)return;N("findMax"),l([]),c(0);const f=[];let m=e.find(C=>C.id===s);const w=["curr = root","while curr.right != NULL:","  curr = curr.right","return curr.val"];for(;m;){if(f.push({nodes:[...e],edges:[...r],highlights:[m.id],codeLine:1,pseudoLines:w,description:`Visiting ${m.value}.`}),m.right===void 0){f.push({nodes:[...e],edges:[...r],highlights:[m.id],evaluated:[m.id],codeLine:3,pseudoLines:w,description:`No right child. Max value is ${m.value}.`});break}m=e.find(C=>C.id===m.right)}l(f),h(!0)},Je=f=>{N("successor"),l([]),c(0);const m=[];let w=e.find(U=>U.id===s),C,I;for(;w;)if(m.push({nodes:[...e],edges:[...r],highlights:[w.id],codeLine:0,pseudoLines:["Search node","If right child: return min(right)","Else: return deepest ancestor where node is in left subtree"],description:`Searching for ${f}... At ${w.value}`}),w.value===f){C=w;break}else f<w.value?(I=w,w=e.find(U=>U.id===w.left)):w=e.find(U=>U.id===w.right);if(!C){m.push({nodes:[...e],edges:[...r],highlights:[],codeLine:0,pseudoLines:["Search node","If right child: return min(right)","Else: return deepest ancestor where node is in left subtree"],description:`Node ${f} not found.`}),l(m),h(!0);return}if(C.right!==void 0){let U=e.find(Q=>Q.id===C.right);for(m.push({nodes:[...e],edges:[...r],highlights:[C.id,U.id],codeLine:1,pseudoLines:["Search node","If right child: return min(right)","Else: return deepest ancestor where node is in left subtree"],description:"Node has right child. Successor is min of right subtree."});U.left!==void 0;)U=e.find(Q=>Q.id===U.left),m.push({nodes:[...e],edges:[...r],highlights:[C.id,U.id],codeLine:1,pseudoLines:["Search node","If right child: return min(right)","Else: return deepest ancestor where node is in left subtree"],description:`Going left... At ${U.value}`});m.push({nodes:[...e],edges:[...r],highlights:[C.id],evaluated:[U.id],codeLine:1,pseudoLines:["Search node","If right child: return min(right)","Else: return deepest ancestor where node is in left subtree"],description:`Successor of ${f} is ${U.value}.`})}else I?m.push({nodes:[...e],edges:[...r],highlights:[C.id],evaluated:[I.id],codeLine:2,pseudoLines:["Search node","If right child: return min(right)","Else: return deepest ancestor where node is in left subtree"],description:`No right child. Successor is first ancestor where we went left: ${I.value}.`}):m.push({nodes:[...e],edges:[...r],highlights:[C.id],codeLine:2,pseudoLines:["Search node","If right child: return min(right)","Else: return deepest ancestor where node is in left subtree"],description:`No right child and no such ancestor. ${f} is the maximum node.`});l(m),h(!0)},se=f=>{N("predecessor"),l([]),c(0);const m=[];let w="",C=e.find(Q=>Q.id===s),I,U;for(;C;)if(m.push({nodes:[...e],edges:[...r],highlights:[C.id],codeLine:0,pseudoLines:["Search node","If left child: return max(left)","Else: return deepest ancestor where node is in right subtree"],description:`Searching for ${f}... At ${C.value}`,output:w}),C.value===f){I=C;break}else f<C.value?C=e.find(Q=>Q.id===C.left):(U=C,C=e.find(Q=>Q.id===C.right));if(!I){m.push({nodes:[...e],edges:[...r],highlights:[],codeLine:0,pseudoLines:["Search node","If left child: return max(left)","Else: return deepest ancestor where node is in right subtree"],description:`Node ${f} not found.`,output:`Node ${f} not found.`}),l(m),h(!0);return}if(I.left!==void 0){let Q=e.find(Z=>Z.id===I.left);for(w+=` -> (max of left subtree starting from ${Q.value})`,m.push({nodes:[...e],edges:[...r],highlights:[I.id,Q.id],codeLine:1,pseudoLines:["Search node","If left child: return max(left)","Else: return deepest ancestor where node is in right subtree"],description:"Node has left child. Predecessor is max of left subtree.",output:w});Q.right!==void 0;)Q=e.find(Z=>Z.id===Q.right),w+=` -> ${Q.value}`,m.push({nodes:[...e],edges:[...r],highlights:[I.id,Q.id],codeLine:1,pseudoLines:["Search node","If left child: return max(left)","Else: return deepest ancestor where node is in right subtree"],description:`Going right... At ${Q.value}`,output:w});w+=` -> Predecessor: ${Q.value}`,m.push({nodes:[...e],edges:[...r],highlights:[I.id],evaluated:[Q.id],codeLine:1,pseudoLines:["Search node","If left child: return max(left)","Else: return deepest ancestor where node is in right subtree"],description:`Predecessor of ${f} is ${Q.value}.`,output:w})}else U?(w+=` -> Ancestor: ${U.value}`,m.push({nodes:[...e],edges:[...r],highlights:[I.id],evaluated:[U.id],codeLine:2,pseudoLines:["Search node","If left child: return max(left)","Else: return deepest ancestor where node is in right subtree"],description:`No left child. Predecessor is first ancestor where we went right: ${U.value}.`,output:w})):(w+=" -> No predecessor (min node)",m.push({nodes:[...e],edges:[...r],highlights:[I.id],codeLine:2,pseudoLines:["Search node","If left child: return max(left)","Else: return deepest ancestor where node is in right subtree"],description:`No left child and no such ancestor. ${f} is the minimum node.`,output:w}));l(m),h(!0)},Qe=()=>{N("validate"),l([]),c(0);const f=[];let m="";const w=(C,I,U)=>{if(C===void 0)return!0;const Q=e.find(Z=>Z.id===C);return m+=(m?" -> ":"")+Q.value,f.push({nodes:[...e],edges:[...r],highlights:[Q.id],codeLine:0,pseudoLines:["validate(node, min, max)","if node.val <= min or node.val >= max: return false","return validate(left, min, node.val) && validate(right, node.val, max)"],description:`Checking ${Q.value} in range (${I??"-inf"}, ${U??"inf"}).`,output:m}),I!==null&&Q.value<=I||U!==null&&Q.value>=U?(f.push({nodes:[...e],edges:[...r],highlights:[Q.id],evaluated:[Q.id],codeLine:1,pseudoLines:["validate(node, min, max)","if node.val <= min or node.val >= max: return false","return validate(left, min, node.val) && validate(right, node.val, max)"],description:`Invalid! ${Q.value} is not in range (${I??"-inf"}, ${U??"inf"}).`,output:`Invalid: ${Q.value}`}),!1):!(!w(Q.left,I,Q.value)||!w(Q.right,Q.value,U))};w(s??void 0,null,null)?f.push({nodes:[...e],edges:[...r],highlights:[],codeLine:2,pseudoLines:["validate(node, min, max)","if node.val <= min or node.val >= max: return false","return validate(left, min, node.val) && validate(right, node.val, max)"],description:"Tree is a Valid BST.",output:"Valid BST"}):f.push({nodes:[...e],edges:[...r],highlights:[],codeLine:1,pseudoLines:["validate(node, min, max)","if node.val <= min or node.val >= max: return false","return validate(left, min, node.val) && validate(right, node.val, max)"],description:"Tree is NOT a Valid BST.",output:"Not a Valid BST"}),l(f),h(!0)},Ye=()=>{N("height"),l([]),c(0);const f=[],m=C=>{if(C===void 0)return f.push({nodes:[...e],edges:[...r],highlights:[],codeLine:0,pseudoLines:["height(node)","l = height(left), r = height(right)","return 1 + max(l, r)"],description:"Reached null node. Height is -1.",output:"Height: -1"}),-1;const I=e.find(ve=>ve.id===C);f.push({nodes:[...e],edges:[...r],highlights:[I.id],codeLine:0,pseudoLines:["height(node)","l = height(left), r = height(right)","return 1 + max(l, r)"],description:`Visiting ${I.value}. Computing height of children.`,output:`Current: ${I.value}`});const U=m(I.left),Q=m(I.right),Z=1+Math.max(U,Q);return f.push({nodes:[...e],edges:[...r],highlights:[I.id],evaluated:[I.id],codeLine:2,pseudoLines:["height(node)","l = height(left), r = height(right)","return 1 + max(l, r)"],description:`Height of ${I.value} is 1 + max(${U}, ${Q}) = ${Z}.`,output:`Height(${I.value}): ${Z}`}),Z},w=m(s??void 0);f.push({nodes:[...e],edges:[...r],highlights:[],codeLine:2,pseudoLines:["height(node)","l = height(left), r = height(right)","return 1 + max(l, r)"],description:`Total height of the tree is ${w}.`,output:`Total Height: ${w}`}),l(f),h(!0)},Le=()=>{N("count"),l([]),c(0);const f=[];let m=0,w="";const C=I=>{if(I===void 0)return;const U=e.find(Q=>Q.id===I);m++,w+=(w?" -> ":"")+U.value,f.push({nodes:[...e],edges:[...r],highlights:[U.id],codeLine:0,pseudoLines:["count++","traverse(left)","traverse(right)"],description:`Found node ${U.value}. Current count: ${m}.`,output:w}),C(U.left),C(U.right)};C(s??void 0),f.push({nodes:[...e],edges:[...r],highlights:[],codeLine:0,pseudoLines:["count++","traverse(left)","traverse(right)"],description:`Total nodes in the tree: ${m}.`,output:`Total Nodes: ${m}`}),l(f),h(!0)},G=()=>{N("countLeaves"),l([]),c(0);const f=[];let m=0,w="";const C=I=>{if(I===void 0)return;const U=e.find(Z=>Z.id===I),Q=U.left===void 0&&U.right===void 0;Q&&(m++,w+=(w?" -> ":"")+U.value),f.push({nodes:[...e],edges:[...r],highlights:[U.id],evaluated:Q?[U.id]:[],codeLine:0,pseudoLines:["if isLeaf: count++","traverse(left)","traverse(right)"],description:`Visiting ${U.value}. ${Q?"Is Leaf. Current count: "+m:"Not a leaf."}`,output:`Leaves: ${w}`}),C(U.left),C(U.right)};C(s??void 0),f.push({nodes:[...e],edges:[...r],highlights:[],codeLine:0,pseudoLines:["if isLeaf: count++","traverse(left)","traverse(right)"],description:`Total leaf nodes in the tree: ${m}.`,output:`Total Leaves: ${m}`}),l(f),h(!0)},ue=()=>{N("diameter"),l([]),c(0);const f=[];let m=0,w="";const C=I=>{if(I===void 0)return 0;const U=e.find(ve=>ve.id===I);w+=(w?" -> ":"")+U.value,f.push({nodes:[...e],edges:[...r],highlights:[U.id],codeLine:0,pseudoLines:["l = height(left), r = height(right)","diameter = max(diameter, l+r)","return 1 + max(l, r)"],description:`Visiting ${U.value}.`,output:w});const Q=C(U.left),Z=C(U.right);return m=Math.max(m,Q+Z),f.push({nodes:[...e],edges:[...r],highlights:[U.id],evaluated:[U.id],codeLine:1,pseudoLines:["l = height(left), r = height(right)","diameter = max(diameter, l+r)","return 1 + max(l, r)"],description:`At ${U.value}: L-height=${Q}, R-height=${Z}. Path through node=${Q+Z}. Max Diameter so far=${m}.`,output:`Max Diameter: ${m}`}),1+Math.max(Q,Z)};C(s??void 0),f.push({nodes:[...e],edges:[...r],highlights:[],codeLine:1,pseudoLines:["l = height(left), r = height(right)","diameter = max(diameter, l+r)","return 1 + max(l, r)"],description:`The diameter of the tree is ${m}.`,output:`Final Diameter: ${m}`}),l(f),h(!0)},re=()=>{N("balanced"),l([]),c(0);const f=[];let m=!0;const w=C=>{if(C===void 0)return 0;const I=e.find(Z=>Z.id===C);f.push({nodes:[...e],edges:[...r],highlights:[I.id],codeLine:0,pseudoLines:["l = check(left), r = check(right)","if abs(l-r) > 1 return -1","if l==-1 or r==-1 return -1","return 1+max(l,r)"],description:`Checking balance of ${I.value}.`,output:`Checking: ${I.value}`});const U=w(I.left);if(U===-1)return m=!1,-1;const Q=w(I.right);return Q===-1?(m=!1,-1):Math.abs(U-Q)>1?(m=!1,f.push({nodes:[...e],edges:[...r],highlights:[I.id],evaluated:[I.id],codeLine:1,pseudoLines:["l = check(left), r = check(right)","if abs(l-r) > 1 return -1","if l==-1 or r==-1 return -1","return 1+max(l,r)"],description:`Unbalanced at ${I.value}! Left height ${U}, Right height ${Q}.`,output:`Unbalanced at ${I.value}`}),-1):(f.push({nodes:[...e],edges:[...r],highlights:[I.id],codeLine:3,pseudoLines:["l = check(left), r = check(right)","if abs(l-r) > 1 return -1","if l==-1 or r==-1 return -1","return 1+max(l,r)"],description:`${I.value} is balanced (lh=${U}, rh=${Q}).`,output:`Balanced: ${I.value}`}),1+Math.max(U,Q))};w(s??void 0),m?f.push({nodes:[...e],edges:[...r],highlights:[],codeLine:3,pseudoLines:["Tree is Balanced."],description:"Tree is Balanced.",output:"Tree is Balanced."}):f.push({nodes:[...e],edges:[...r],highlights:[],codeLine:1,pseudoLines:["Tree is Unbalanced."],description:"Tree is Unbalanced.",output:"Tree is Unbalanced."}),l(f),h(!0)},fe=()=>{N("isFull"),l([]),c(0);const f=[];let m=!0;const w=C=>{if(C===void 0)return!0;const I=e.find(U=>U.id===C);return f.push({nodes:[...e],edges:[...r],highlights:[I.id],codeLine:0,pseudoLines:["if (left && !right) or (!left && right) return false","check(left) && check(right)"],description:`Checking ${I.value}.`,output:`Checking: ${I.value}`}),I.left===void 0&&I.right!==void 0||I.left!==void 0&&I.right===void 0?(m=!1,f.push({nodes:[...e],edges:[...r],highlights:[I.id],evaluated:[I.id],codeLine:0,pseudoLines:["if (left && !right) or (!left && right) return false","check(left) && check(right)"],description:`Checking ${I.value}: Has only one child. Not Full.`,output:`Not Full: ${I.value}`}),!1):!(!w(I.left)||!w(I.right))};w(s??void 0),m?f.push({nodes:[...e],edges:[...r],highlights:[],codeLine:1,pseudoLines:["Tree is Full (0 or 2 children)."],description:"Tree is Full.",output:"Tree is Full."}):f.push({nodes:[...e],edges:[...r],highlights:[],codeLine:0,pseudoLines:["Tree is Not Full."],description:"Tree is Not Full.",output:"Tree is Not Full."}),l(f),h(!0)},ce=()=>{N("isComplete"),l([]),c(0);const f=[];let m="";if(s===null){f.push({nodes:[...e],edges:[...r],highlights:[],codeLine:0,pseudoLines:["Empty tree is complete."],description:"Empty tree is complete.",output:"Empty tree is complete."}),l(f),h(!0);return}const w=[s];let C=!1;const I=["queue = [root]","while queue not empty:","  node = queue.dequeue()","  if node is null:","    foundNonFullNode = true","  else:","    if foundNonFullNode and (node.left or node.right): return false","    queue.enqueue(node.left)","    queue.enqueue(node.right)"];for(;w.length>0;){const U=w.shift();if(U===void 0)C=!0,f.push({nodes:[...e],edges:[...r],highlights:[],codeLine:4,pseudoLines:I,description:"Encountered a null child. All subsequent nodes must be null.",output:m+" -> null"});else{const Q=e.find(Z=>Z.id===U);if(m+=(m?" -> ":"")+Q.value,f.push({nodes:[...e],edges:[...r],highlights:[Q.id],codeLine:2,pseudoLines:I,description:`Visiting ${Q.value}.`,output:m}),C&&(Q.left!==void 0||Q.right!==void 0)){f.push({nodes:[...e],edges:[...r],highlights:[Q.id],evaluated:[Q.id],codeLine:6,pseudoLines:I,description:`Found a non-null node (${Q.value}) after encountering a null. Not Complete.`,output:`Not Complete: ${Q.value}`}),l(f),h(!0);return}w.push(Q.left),w.push(Q.right),f.push({nodes:[...e],edges:[...r],highlights:[Q.id],codeLine:7,pseudoLines:I,description:`Enqueued children of ${Q.value}.`,output:m})}}f.push({nodes:[...e],edges:[...r],highlights:[],codeLine:8,pseudoLines:I,description:"Tree is Complete.",output:"Tree is Complete."}),l(f),h(!0)},ne=f=>{const m=f.split(",").map(Z=>parseInt(Z.trim())).filter(Z=>!isNaN(Z));if(m.length===0)return;N("buildFromArray"),l([]),c(0);const w=[];let C="",I=[],U=0;const Q=()=>U++;w.push({nodes:[],edges:[],highlights:[],codeLine:0,pseudoLines:["foreach val in input:","  insert(root, val)"],description:`Starting construction with: ${m.join(", ")}`,output:`Input: ${m.join(", ")}`});for(const Z of m){if(C+=(C?" -> ":"")+Z,I.length===0){const me=Q();I.push({id:me,value:Z,x:0,y:0})}else{let me=I[0].id;for(;;){const he=I.find(Te=>Te.id===me);if(Z<he.value){if(he.left===void 0){const Te=Q();he.left=Te,I.push({id:Te,value:Z,x:0,y:0,parentId:me});break}me=he.left}else{if(he.right===void 0){const Te=Q();he.right=Te,I.push({id:Te,value:Z,x:0,y:0,parentId:me});break}me=he.right}}}const ve=I.length>0?I[0].id:null,Ee=P([...I],ve);w.push({nodes:Ee,edges:X(Ee),highlights:[I[I.length-1].id],codeLine:1,pseudoLines:["foreach val in input:","  insert(root, val)"],description:`Inserted ${Z}.`,output:C})}t(I),n(X(I)),I.length>0?a(I[0].id):a(null),Y.current=U,l(w),h(!0)},be=(f,m)=>{const w=f.split(",").map(de=>parseInt(de.trim())).filter(de=>!isNaN(de)),C=m.split(",").map(de=>parseInt(de.trim())).filter(de=>!isNaN(de));if(w.length===0||C.length===0||w.length!==C.length)return;N("buildPreIn"),l([]),c(0);const I=[];let U="",Q=[],Z=0;const ve=()=>Z++;let Ee=0;const me=(de,Se,De)=>{if(de>Se)return null;const L=w[Ee++],z=ve(),J={id:z,value:L,x:0,y:0,parentId:De??void 0};Q.push(J),U+=(U?" -> ":"")+L;const V=C.indexOf(L,de);return I.push({nodes:P([...Q],Q.length>0?Q[0].id:null),edges:X(Q),highlights:[z],codeLine:0,pseudoLines:["root = pre[preIndex++]","inIndex = find(inorder, root.val)","root.left = build(inStart, inIndex-1)","root.right = build(inIndex+1, inEnd)"],description:`Created node ${L}. Found at index ${V} in Inorder array.`,output:U}),J.left=me(de,V-1,z)??void 0,J.right=me(V+1,Se,z)??void 0,z},he=me(0,C.length-1,null),Te=P(Q,he);t(Te),n(X(Te)),a(he),Y.current=Z,l(I),h(!0)},Ce=(f,m)=>{const w=f.split(",").map(de=>parseInt(de.trim())).filter(de=>!isNaN(de)),C=m.split(",").map(de=>parseInt(de.trim())).filter(de=>!isNaN(de));if(w.length===0||C.length===0||w.length!==C.length)return;N("buildPostIn"),l([]),c(0);const I=[];let U="",Q=[],Z=0;const ve=()=>Z++;let Ee=w.length-1;const me=(de,Se,De)=>{if(de>Se)return null;const L=w[Ee--],z=ve(),J={id:z,value:L,x:0,y:0,parentId:De??void 0};Q.push(J),U+=(U?" -> ":"")+L;const V=C.indexOf(L,de);return I.push({nodes:P([...Q],Q.length>0?Q[0].id:null),edges:X(Q),highlights:[z],codeLine:0,pseudoLines:["root = post[postIndex--]","inIndex = find(inorder, root.val)","root.right = build(inIndex+1, inEnd)","root.left = build(inStart, inIndex-1)"],description:`Created node ${L}. Found at index ${V} in Inorder array.`,output:U}),J.right=me(V+1,Se,z)??void 0,J.left=me(de,V-1,z)??void 0,z},he=me(0,C.length-1,null),Te=P(Q,he);t(Te),n(X(Te)),a(he),Y.current=Z,l(I),h(!0)},$e=f=>{const m=f.split(",").map(me=>parseInt(me.trim())).filter(me=>!isNaN(me));if(m.length===0)return;m.sort((me,he)=>me-he),N("buildBalanced"),l([]),c(0);const w=[];let C="",I=[],U=0;const Q=()=>U++,Z=(me,he,Te)=>{if(me>he)return null;const de=Math.floor((me+he)/2),Se=m[de],De=Q(),L={id:De,value:Se,x:0,y:0,parentId:Te??void 0};return I.push(L),C+=(C?" -> ":"")+Se,w.push({nodes:P([...I],I.length>0?I[0].id:null),edges:X(I),highlights:[De],codeLine:0,pseudoLines:["mid = (start + end) / 2","node = createNode(arr[mid])","node.left = build(start, mid-1)","node.right = build(mid+1, end)"],description:`Processing range [${m[me]}...${m[he]}]. Middle is ${Se}.`,output:C}),L.left=Z(me,de-1,De)??void 0,L.right=Z(de+1,he,De)??void 0,De},ve=Z(0,m.length-1,null),Ee=P(I,ve);w.push({nodes:Ee,edges:X(Ee),highlights:[],codeLine:3,pseudoLines:["mid = (start + end) / 2","node = createNode(arr[mid])","node.left = build(start, mid-1)","node.right = build(mid+1, end)"],description:"Built Balanced BST.",output:`Balanced BST: ${C}`}),t(Ee),n(X(Ee)),a(ve),Y.current=U,l(w),h(!0)},Be=f=>{const m=f.split(",").map(de=>de.trim());if(m.length===0)return;N("deserialize"),l([]),c(0);const w=[];let C="",I=[],U=0;const Q=()=>U++;if(m[0]==="x"||m[0]==="null"||m[0]==="")return;const Z=parseInt(m[0]),ve=Q(),Ee={id:ve,value:Z,x:0,y:0};I.push(Ee),C+=Z;const me=[Ee];let he=1;for(w.push({nodes:P([...I],ve),edges:X(I),highlights:[ve],codeLine:0,pseudoLines:["queue.push(root)","while i < len:","  curr.left = parts[i++]","  curr.right = parts[i++]"],description:`Created root ${Z}.`,output:C});me.length>0&&he<m.length;){const de=me.shift();if(he<m.length){const Se=m[he++];if(Se!=="x"&&Se!=="null"){const De=parseInt(Se),L=Q(),z={id:L,value:De,x:0,y:0,parentId:de.id};de.left=L,I.push(z),me.push(z),C+=` -> ${De}`,w.push({nodes:P([...I],ve),edges:X(I),highlights:[L],codeLine:2,pseudoLines:["queue.push(root)","while i < len:","  curr.left = parts[i++]","  curr.right = parts[i++]"],description:`Attached ${De} to left of ${de.value}.`,output:C})}else C+=" -> x",w.push({nodes:P([...I],ve),edges:X(I),highlights:[],codeLine:2,pseudoLines:["queue.push(root)","while i < len:","  curr.left = parts[i++]","  curr.right = parts[i++]"],description:`Left child of ${de.value} is null.`,output:C})}if(he<m.length){const Se=m[he++];if(Se!=="x"&&Se!=="null"){const De=parseInt(Se),L=Q(),z={id:L,value:De,x:0,y:0,parentId:de.id};de.right=L,I.push(z),me.push(z),C+=` -> ${De}`,w.push({nodes:P([...I],ve),edges:X(I),highlights:[L],codeLine:3,pseudoLines:["queue.push(root)","while i < len:","  curr.left = parts[i++]","  curr.right = parts[i++]"],description:`Attached ${De} to right of ${de.value}.`,output:C})}else C+=" -> x",w.push({nodes:P([...I],ve),edges:X(I),highlights:[],codeLine:3,pseudoLines:["queue.push(root)","while i < len:","  curr.left = parts[i++]","  curr.right = parts[i++]"],description:`Right child of ${de.value} is null.`,output:C})}}const Te=P(I,ve);t(Te),n(X(Te)),a(ve),Y.current=U,l(w),h(!0)},je=f=>{if(f===void 0)return 0;const m=e.find(w=>w.id===f);return m?1+Math.max(je(m.left),je(m.right)):0},Ge=f=>{if(f===void 0)return 0;const m=e.find(w=>w.id===f);return m?je(m.left)-je(m.right):0};return{nodes:e,edges:r,insert:Ne,deleteNode:ye,search:Me,traverse:Ie,reset:F,clear:Ae,handleExample:qe,generateRandomTree:Oe,traverseZigZag:Re,findMin:_e,findMax:Ke,findSuccessor:Je,findPredecessor:se,validateBST:Qe,checkHeight:Ye,countNodes:Le,countLeafNodes:G,checkDiameter:ue,checkBalanced:re,isFull:fe,isComplete:ce,buildFromArray:ne,buildFromPreIn:be,buildFromPostIn:Ce,buildBalancedBST:$e,deserialize:Be,insertAVL:f=>{N("insertAVL"),l([]),c(0);const m=[];let w="",C=e.length>0?Math.max(...e.map(me=>me.id))+1:0,I=JSON.parse(JSON.stringify(e)),U=I.find(me=>me.id===s),Q=s;if(!U){I=[{id:C,value:f,x:0,y:0}],t(I),n([]),a(C),m.push({nodes:P([...I],C),edges:X(I),highlights:[C],codeLine:0,pseudoLines:["Insert(val)"],description:`Inserted ${f}. Tree is now balanced.`,output:`${f}`}),l(m),h(!0);return}let Z=U;const ve=[];for(;;)if(ve.push(Z.id),w+=(w?" -> ":"")+Z.value,f<Z.value){if(Z.left===void 0){const me=C++;Z.left=me,I.push({id:me,value:f,x:0,y:0,parentId:Z.id}),ve.push(me),w+=` -> ${f}`;break}Z=I.find(me=>me.id===Z.left)}else{if(Z.right===void 0){const me=C++;Z.right=me,I.push({id:me,value:f,x:0,y:0,parentId:Z.id}),ve.push(me),w+=` -> ${f}`;break}Z=I.find(me=>me.id===Z.right)}let Ee=P([...I],Q);for(m.push({nodes:Ee,edges:X(Ee),highlights:[I[I.length-1].id],codeLine:0,pseudoLines:["Insert(val)"],description:`Inserted ${f}. Checking Balance...`,output:w});ve.length>0;){const me=ve.pop(),he=De=>{if(De===void 0)return 0;const L=I.find(z=>z.id===De);return L?1+Math.max(he(L.left),he(L.right)):0},de=(De=>{const L=I.find(z=>z.id===De);return he(L.left)-he(L.right)})(me),Se=I.find(De=>De.id===me).value;if(m.push({nodes:Ee,edges:X(Ee),highlights:[me],codeLine:1,pseudoLines:["BF = H(L) - H(R)"],description:`Node ${Se} BF: ${de}`,output:`BF(${Se}): ${de}`}),de>1||de<-1){m.push({nodes:Ee,edges:X(Ee),highlights:[me],evaluated:[me],codeLine:2,pseudoLines:["if |BF| > 1: Rotate"],description:`Imbalance detected at ${Se}!`,output:`Imbalance at ${Se}`}),m.push({nodes:Ee,edges:X(Ee),highlights:[me],codeLine:3,pseudoLines:[],description:"(Auto-rotation not fully implemented in this demo)",output:`Rotation needed at ${Se}`});break}}t(I),n(X(I)),l(m),h(!0)},deleteAVL:f=>{console.log("deleteAVL",f)},rotateLeft:f=>{var he;N("rotateLeft"),l([]),c(0);const m=[];let w=JSON.parse(JSON.stringify(e)),C=X(w);const I=w.findIndex(Te=>Te.value===f);if(I===-1)return;const U=w[I],Q=U.right;if(Q===void 0){m.push({nodes:[...w],edges:[...C],highlights:[U.id],codeLine:0,pseudoLines:[],description:`Cannot rotate left: Node ${f} has no right child.`,output:`Cannot rotate left: ${f} has no right child.`}),l(m),h(!0);return}const Z=w.find(Te=>Te.id===Q);m.push({nodes:P([...w],s),edges:X(w),highlights:[U.id,Z.id],codeLine:0,pseudoLines:["newRoot = node.right","node.right = newRoot.left","newRoot.left = node"],description:`Rotating Left around ${f}. New root will be ${Z.value}.`,output:`Rotating Left around ${f}`});const ve=U.parentId,Ee=ve!==void 0?((he=w.find(Te=>Te.id===ve))==null?void 0:he.left)===U.id:!1;if(U.right=Z.left,U.right!==void 0){const Te=w.find(de=>de.id===U.right);Te.parentId=U.id}Z.left=U.id,U.parentId=Z.id,Z.parentId=ve;let me=s;if(ve!==void 0){const Te=w.find(de=>de.id===ve);Ee?Te.left=Z.id:Te.right=Z.id}else me=Z.id,a(me);m.push({nodes:P([...w],me),edges:X(w),highlights:[U.id,Z.id],codeLine:1,pseudoLines:["newRoot = node.right"],description:"Rotated.",output:`Rotated. New root: ${Z.value}`}),t(w),n(X(w)),l(m),h(!0)},rotateRight:f=>{var he;N("rotateRight"),l([]),c(0);const m=[];let w=JSON.parse(JSON.stringify(e)),C=X(w);const I=w.findIndex(Te=>Te.value===f);if(I===-1)return;const U=w[I],Q=U.left;if(Q===void 0){m.push({nodes:[...w],edges:[...C],highlights:[U.id],codeLine:0,pseudoLines:[],description:`Cannot rotate right: Node ${f} has no left child.`,output:`Cannot rotate right: ${f} has no left child.`}),l(m),h(!0);return}const Z=w.find(Te=>Te.id===Q);m.push({nodes:P([...w],s),edges:X(w),highlights:[U.id,Z.id],codeLine:0,pseudoLines:["newRoot = node.left","node.left = newRoot.right","newRoot.right = node"],description:`Rotating Right around ${f}. New root will be ${Z.value}.`,output:`Rotating Right around ${f}`});const ve=U.parentId,Ee=ve!==void 0?((he=w.find(Te=>Te.id===ve))==null?void 0:he.left)===U.id:!1;if(U.left=Z.right,U.left!==void 0){const Te=w.find(de=>de.id===U.left);Te.parentId=U.id}Z.right=U.id,U.parentId=Z.id,Z.parentId=ve;let me=s;if(ve!==void 0){const Te=w.find(de=>de.id===ve);Ee?Te.left=Z.id:Te.right=Z.id}else me=Z.id,a(me);m.push({nodes:P([...w],me),edges:X(w),highlights:[U.id,Z.id],codeLine:1,pseudoLines:["newRoot = node.left"],description:"Rotated.",output:`Rotated. New root: ${Z.value}`}),t(w),n(X(w)),l(m),h(!0)},showBalanceFactors:()=>{N("balanceFactors"),l([]),c(0);const f=[];let m="";const w=new Map;e.forEach(I=>{const U=Ge(I.id);w.set(I.id,U),m+=(m?", ":"")+`${I.value}: ${U}`});const C=e.map(I=>`Node ${I.value}: BF=${w.get(I.id)}`).join(`
`);f.push({nodes:[...e],edges:[...r],highlights:e.map(I=>I.id),codeLine:0,pseudoLines:["Calculate Height(L)","Calculate Height(R)","BF = H(L) - H(R)"],description:`Balance Factors calculated:
${C}`,output:`BFs: ${m}`}),l(f),h(!0)},findLCA:(f,m)=>{N("lca"),l([]),c(0);const w=[];let C=null;const I=[],U=[],Q=(me,he,Te,de)=>{if(me===void 0)return!1;const Se=e.find(De=>De.id===me);return Te.push(Se.id),de.str+=(de.str?" -> ":"")+Se.value,w.push({nodes:[...e],edges:[...r],highlights:[...Te],evaluated:[Se.id],codeLine:0,pseudoLines:["function findPath(root, target):","  if root == null return false","  path.add(root)","  if root.val == target return true","  if findPath(left) or findPath(right) return true","  path.pop(); return false"],description:`Visiting ${Se.value} while searching for ${he}.`,output:`Path to ${he}: ${de.str}`}),Se.value===he||Q(Se.left,he,Te,de)||Q(Se.right,he,Te,de)?!0:(Te.pop(),de.str=de.str.substring(0,de.str.lastIndexOf(" -> ")),!1)},Z=e.find(me=>me.id===s);if(!Z)return;w.push({nodes:[...e],edges:[...r],highlights:[],codeLine:0,pseudoLines:[],description:`Searching for LCA of ${f} and ${m}.`,output:`Searching LCA for ${f}, ${m}`});const ve={str:""},Ee={str:""};if(Q(Z.id,f,I,ve)&&Q(Z.id,m,U,Ee)){let me=0;for(;me<I.length&&me<U.length&&I[me]===U[me];)C=I[me],me++;if(C!==null){const he=e.find(Te=>Te.id===C);w.push({nodes:[...e],edges:[...r],highlights:[he.id],evaluated:[he.id],codeLine:1,pseudoLines:[],description:`LCA is ${he.value}.`,output:`LCA(${f}, ${m}): ${he.value}`})}}else w.push({nodes:[...e],edges:[...r],highlights:[],codeLine:2,pseudoLines:[],description:"One or both nodes not found.",output:"One or both nodes not found."});l(w),h(!0)},getLeftView:()=>{N("leftView"),l([]),c(0);const f=[],m=[];let w="";if(e.length===0)return;const C=[{id:s,level:0}];let I=-1;for(f.push({nodes:[...e],edges:[...r],highlights:[],codeLine:0,pseudoLines:["maxLevel = -1","queue = [(root, 0)]"],description:"Starting Left View Traversal.",output:"Left View:"});C.length>0;){const{id:U,level:Q}=C.shift(),Z=e.find(ve=>ve.id===U);Q>I&&(I=Q,m.push(U),w+=(w?" -> ":"")+Z.value,f.push({nodes:[...e],edges:[...r],highlights:[...m],evaluated:[U],codeLine:1,pseudoLines:["if level > maxLevel:","  print node","  maxLevel = level"],description:`First node at level ${Q}: ${Z.value}. Added to view.`,output:`Left View: ${w}`})),Z.left!==void 0&&C.push({id:Z.left,level:Q+1}),Z.right!==void 0&&C.push({id:Z.right,level:Q+1})}l(f),h(!0)},getRightView:()=>{N("rightView"),l([]),c(0);const f=[],m=[];let w="";if(e.length===0)return;let C=-1;const I=(U,Q)=>{if(U===void 0)return;const Z=e.find(ve=>ve.id===U);Q>C&&(C=Q,m.push(U),w+=(w?" -> ":"")+Z.value,f.push({nodes:[...e],edges:[...r],highlights:[...m],evaluated:[U],codeLine:1,pseudoLines:["if level > maxLevel:","  print node","  maxLevel = level","recurse(right)","recurse(left)"],description:`First node (from right) at level ${Q}: ${Z.value}. Added to view.`,output:`Right View: ${w}`})),I(Z.right,Q+1),I(Z.left,Q+1)};f.push({nodes:[...e],edges:[...r],highlights:[],codeLine:0,pseudoLines:["maxLevel = -1","dfs(root, 0)"],description:"Starting Right View Traversal (DFS Right-first).",output:"Right View:"}),I(s,0),l(f),h(!0)},getTopView:()=>{N("topView"),l([]),c(0);const f=[],m=new Map;let w="";if(e.length===0)return;const C=[{id:s,hd:0}];for(f.push({nodes:[...e],edges:[...r],highlights:[],codeLine:0,pseudoLines:["queue = [(root, 0)]","map = {}"],description:"Starting Top View Traversal.",output:"Top View:"});C.length>0;){const{id:I,hd:U}=C.shift(),Q=e.find(Z=>Z.id===I);m.has(U)||(m.set(U,I),w=Array.from(m.entries()).sort((ve,Ee)=>ve[0]-Ee[0]).map(ve=>e.find(Ee=>Ee.id===ve[1]).value).join(" -> "),f.push({nodes:[...e],edges:[...r],highlights:Array.from(m.values()),evaluated:[I],codeLine:1,pseudoLines:["if hd not in map:","  map[hd] = node","  print node"],description:`First node at HD ${U}: ${Q.value}. Added to view.`,output:`Top View: ${w}`})),Q.left!==void 0&&C.push({id:Q.left,hd:U-1}),Q.right!==void 0&&C.push({id:Q.right,hd:U+1})}l(f),h(!0)},getBottomView:()=>{N("bottomView"),l([]),c(0);const f=[],m=new Map;let w="";if(e.length===0)return;const C=[{id:s,hd:0}];for(f.push({nodes:[...e],edges:[...r],highlights:[],codeLine:0,pseudoLines:["queue = [(root, 0)]","map = {}"],description:"Starting Bottom View Traversal.",output:"Bottom View:"});C.length>0;){const{id:I,hd:U}=C.shift(),Q=e.find(ve=>ve.id===I);m.set(U,I),w=Array.from(m.entries()).sort((ve,Ee)=>ve[0]-Ee[0]).map(ve=>e.find(Ee=>Ee.id===ve[1]).value).join(" -> "),f.push({nodes:[...e],edges:[...r],highlights:Array.from(m.values()),evaluated:[I],codeLine:1,pseudoLines:["map[hd] = node"],description:`Node at HD ${U}: ${Q.value}. Updating view.`,output:`Bottom View: ${w}`}),Q.left!==void 0&&C.push({id:Q.left,hd:U-1}),Q.right!==void 0&&C.push({id:Q.right,hd:U+1})}l(f),h(!0)},boundaryTraversal:()=>{N("boundary"),l([]),c(0);const f=[],m=[];let w="";if(e.length===0)return;const C=e.find(Z=>Z.id===s);(C.left!==void 0||C.right!==void 0)&&(m.push(C.id),w+=C.value),f.push({nodes:[...e],edges:[...r],highlights:[...m],codeLine:0,pseudoLines:["add root","addLeftBoundary","addLeaves","addRightBoundary"],description:"Added root.",output:`Boundary: ${w}`});const I=Z=>{let ve=Z;for(;ve!==void 0;){const Ee=e.find(me=>me.id===ve);if(Ee.left===void 0&&Ee.right===void 0)break;m.push(Ee.id),w+=(w?" -> ":"")+Ee.value,f.push({nodes:[...e],edges:[...r],highlights:[...m],evaluated:[Ee.id],codeLine:1,pseudoLines:["Left Boundary"],description:`Added Left Boundary node: ${Ee.value}`,output:`Boundary: ${w}`}),Ee.left!==void 0?ve=Ee.left:ve=Ee.right}},U=Z=>{if(Z===void 0)return;const ve=e.find(Ee=>Ee.id===Z);if(ve.left===void 0&&ve.right===void 0){m.push(ve.id),w+=(w?" -> ":"")+ve.value,f.push({nodes:[...e],edges:[...r],highlights:[...m],evaluated:[ve.id],codeLine:2,pseudoLines:["Leaves"],description:`Added Leaf node: ${ve.value}`,output:`Boundary: ${w}`});return}U(ve.left),U(ve.right)},Q=Z=>{let ve=Z;const Ee=[];for(;ve!==void 0;){const me=e.find(he=>he.id===ve);if(me.left===void 0&&me.right===void 0)break;Ee.push(me.id),me.right!==void 0?ve=me.right:ve=me.left}for(;Ee.length>0;){const me=Ee.pop();m.push(me),f.push({nodes:[...e],edges:[...r],highlights:[...m],evaluated:[me],codeLine:3,pseudoLines:["Right Boundary (Reverse)"],description:`Added Right Boundary node: ${e.find(he=>he.id===me).value}`})}};I(C.left),U(C.id),Q(C.right),l(f),h(!0)},mirrorTree:()=>{N("mirror"),l([]),c(0);const f=[];let m=JSON.parse(JSON.stringify(e));const w=I=>{if(I===void 0)return;const U=m.find(Z=>Z.id===I);f.push({nodes:P([...m],s),edges:X(m),highlights:[I],codeLine:0,pseudoLines:["swap(left, right)","mirror(left)","mirror(right)"],description:`Visiting ${U.value}. Swapping children.`});const Q=U.left;if(U.left=U.right,U.right=Q,U.left!==void 0){const Z=m.find(ve=>ve.id===U.left);Z.parentId=U.id}if(U.right!==void 0){const Z=m.find(ve=>ve.id===U.right);Z.parentId=U.id}f.push({nodes:P([...m],s),edges:X(m),highlights:[I],codeLine:1,pseudoLines:["swap(left, right)","mirror(left)","mirror(right)"],description:`Swapped children of ${U.value}.`}),w(U.left),w(U.right)};s!==null&&w(s);const C=P(m,s);t(C),n(X(C)),l(f),h(!0)},activeTool:_,setActiveTool:p,selectedNode:g,setSelectedNode:b,addNode:ze,addEdge:Fe,removeNode:xe,removeEdge:te,moveNode:ke,frames:o,currentStep:d,setCurrentStep:c,isPlaying:u,setIsPlaying:h,playbackSpeed:x,setPlaybackSpeed:v,activeAlgorithm:k,getCurrentFrame:()=>o.length>0&&d<o.length?o[d]:{nodes:e,edges:r,highlights:[],evaluated:[],codeLine:-1,pseudoLines:[],description:"Ready"}}},hw=e=>{var N;const[t,r]=y.useState("50"),[n,s]=y.useState("30"),[a,o]=y.useState("Basics"),[l,d]=y.useState(""),c=[{id:"Basics",label:"Basics / Fundamental",actions:[{id:"insert",label:"Insert Node",action:()=>e.insert(parseInt(t)),inputRequired:!0},{id:"delete",label:"Delete Node",action:()=>e.deleteNode(parseInt(t)),inputRequired:!0},{id:"search",label:"Search Node",action:()=>e.search(parseInt(t)),inputRequired:!0},{id:"random",label:"Generate Random Tree",action:e.generateRandomTree}]},{id:"Traversal",label:"Tree Traversal",actions:[{id:"inorder",label:"In-order Traversal",action:()=>e.traverse("inorder")},{id:"preorder",label:"Pre-order Traversal",action:()=>e.traverse("preorder")},{id:"postorder",label:"Post-order Traversal",action:()=>e.traverse("postorder")},{id:"bfs",label:"Level Order (BFS)",action:()=>e.traverse("bfs")},{id:"zigzag",label:"Zig-Zag Traversal",action:e.traverseZigZag}]},{id:"BST",label:"Binary Search Tree",actions:[{id:"min",label:"Find Minimum",action:e.findMin},{id:"max",label:"Find Maximum",action:e.findMax},{id:"successor",label:"Find Successor",action:()=>e.findSuccessor(parseInt(t)),inputRequired:!0},{id:"predecessor",label:"Find Predecessor",action:()=>e.findPredecessor(parseInt(t)),inputRequired:!0},{id:"validate",label:"Validate BST",action:e.validateBST}]},{id:"Properties",label:"Analyze Properties",actions:[{id:"height",label:"Calculate Height",action:e.checkHeight},{id:"count_nodes",label:"Total Nodes Count",action:e.countNodes},{id:"count_leaves",label:"Leaf Nodes Count",action:e.countLeafNodes},{id:"diameter",label:"Tree Diameter",action:e.checkDiameter},{id:"balanced",label:"Check If Balanced",action:e.checkBalanced},{id:"full",label:"Check If Full",action:e.isFull},{id:"complete",label:"Check If Complete",action:e.isComplete}]},{id:"Construction",label:"Construct Tree",actions:[{id:"from_array",label:"Build From Array",action:()=>e.buildFromArray(t),inputRequired:!0},{id:"pre_in",label:"From Pre + Inorder",action:()=>e.buildFromPreIn(t,n),inputRequired:!0,needsTwoInputs:!0},{id:"post_in",label:"From Post + Inorder",action:()=>e.buildFromPostIn(t,n),inputRequired:!0,needsTwoInputs:!0},{id:"balanced_bst",label:"Balanced BST",action:()=>e.buildBalancedBST(t),inputRequired:!0},{id:"deserialize",label:"Deserialize Level Order",action:()=>e.deserialize(t),inputRequired:!0}]},{id:"Balancing",label:"AVL & Balancing",actions:[{id:"insert_avl",label:"Insert AVL Node",action:()=>e.insertAVL(parseInt(t)),inputRequired:!0},{id:"delete_avl",label:"Delete AVL Node",action:()=>e.deleteAVL(parseInt(t)),inputRequired:!0},{id:"rotate_left",label:"Rotate Left At Node",action:()=>e.rotateLeft(parseInt(t)),inputRequired:!0},{id:"rotate_right",label:"Rotate Right At Node",action:()=>e.rotateRight(parseInt(t)),inputRequired:!0},{id:"balance_factors",label:"Show Balance Factors",action:e.showBalanceFactors}]},{id:"Special",label:"Advanced Views",actions:[{id:"lca",label:"Lowest Common Ancestor",action:()=>e.findLCA(parseInt(t),parseInt(n)),inputRequired:!0,needsTwoInputs:!0},{id:"left_view",label:"Get Left View",action:e.getLeftView},{id:"right_view",label:"Get Right View",action:e.getRightView},{id:"top_view",label:"Get Top View",action:e.getTopView},{id:"bottom_view",label:"Get Bottom View",action:e.getBottomView},{id:"boundary",label:"Boundary Traversal",action:e.boundaryTraversal},{id:"mirror",label:"Mirror Tree",action:e.mirrorTree}]}],u=c.find(_=>_.id===a)||c[0],h=u.actions.find(_=>_.id===l)||u.actions[0],x=h==null?void 0:h.inputRequired,v=h==null?void 0:h.needsTwoInputs;y.useEffect(()=>{const _=c.find(p=>p.id===a);_&&_.actions.length>0&&d(_.actions[0].id)},[a]);const k=()=>{h&&h.action()};return i.jsxs("div",{className:"flex flex-col gap-5 h-full overflow-y-auto pr-2 custom-scrollbar",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-1.5",children:[i.jsx("label",{className:"text-xs font-bold uppercase tracking-wider text-gray-500 dark:text-[#9794c7]",children:"Category"}),i.jsx(Mr,{value:a,onChange:_=>o(_),options:c.map(_=>({value:_.id,label:_.label}))})]}),i.jsxs("div",{className:"space-y-1.5",children:[i.jsx("label",{className:"text-xs font-bold uppercase tracking-wider text-gray-500 dark:text-[#9794c7]",children:"Action"}),i.jsx(Mr,{value:l,onChange:_=>d(_),options:u.actions.map(_=>({value:_.id,label:_.label}))})]}),x&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-xs font-bold uppercase tracking-wider text-gray-500 dark:text-[#9794c7]",children:"Input"}),i.jsxs("div",{className:"flex gap-2 bg-gray-50 dark:bg-[#121121] p-2.5 rounded-lg border border-gray-200 dark:border-[#272546] shadow-inner",children:[i.jsx("input",{type:"text",value:t,onChange:_=>r(_.target.value),className:"flex-1 min-w-0 bg-transparent text-sm font-mono outline-none dark:text-gray-200 placeholder:text-gray-400 text-center",placeholder:"Value 1"}),v&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-px bg-gray-300 dark:bg-[#272546]"}),i.jsx("input",{type:"text",value:n,onChange:_=>s(_.target.value),className:"flex-1 min-w-0 bg-transparent text-sm font-mono outline-none dark:text-gray-200 placeholder:text-gray-400 text-center",placeholder:"Value 2"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-2",children:[i.jsxs("button",{onClick:e.handleExample,className:"flex items-center justify-center gap-1.5 py-2.5 rounded-lg bg-indigo-50 dark:bg-indigo-900/20 text-indigo-700 dark:text-indigo-300 border border-indigo-200 dark:border-indigo-900/40 hover:bg-indigo-100 dark:hover:bg-indigo-900/40 text-[13px] font-bold transition-all shadow-sm group",children:[i.jsx("span",{className:"material-symbols-outlined text-[18px] group-hover:rotate-12 transition-transform",children:"auto_fix"}),"Example"]}),i.jsxs("button",{onClick:k,disabled:e.isPlaying,className:"flex items-center justify-center gap-1.5 py-2.5 rounded-lg bg-indigo-600 hover:bg-indigo-500 disabled:opacity-50 text-white text-[13px] font-bold transition-all shadow-md shadow-indigo-500/20",children:[i.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"play_arrow"}),"Run"]})]})]}),((N=e.frames[e.currentStep])==null?void 0:N.output)&&i.jsxs("div",{className:"space-y-2 animate-in fade-in slide-in-from-bottom-2",children:[i.jsx("label",{className:"text-xs font-bold uppercase tracking-wider text-gray-500 dark:text-[#9794c7]",children:"Output"}),i.jsx("div",{className:"p-4 rounded-xl bg-indigo-50 dark:bg-indigo-900/10 border border-indigo-200 dark:border-indigo-900/30 shadow-sm",children:i.jsx("p",{className:"text-sm font-mono text-indigo-700 dark:text-indigo-300 break-words leading-relaxed font-bold",children:e.frames[e.currentStep].output})})]}),i.jsx("div",{className:"mt-auto pt-4 border-t border-gray-200 dark:border-[#272546] space-y-2",children:i.jsxs("button",{onClick:e.clear,className:"w-full py-2.5 px-4 rounded-lg bg-red-50 dark:bg-red-900/10 text-red-600 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/20 text-xs font-bold transition-all flex items-center justify-center gap-2 group",children:[i.jsx("span",{className:"material-symbols-outlined text-[16px] group-hover:rotate-180 transition-transform duration-500",children:"cleaning_services"}),"Clear Canvas"]})})]})},hh={insert:{c:{lines:["struct Node* insert(struct Node* root, int val) {","    if (root == NULL) return newNode(val);","    if (val < root->data)","        root->left = insert(root->left, val);","    else if (val > root->data)","        root->right = insert(root->right, val);","    return root;","}"],mapping:{0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7}},cpp:{lines:["Node* insert(Node* root, int val) {","    if (!root) return new Node(val);","    if (val < root->val)","        root->left = insert(root->left, val);","    else if (val > root->val)","        root->right = insert(root->right, val);","    return root;","}"],mapping:{0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7}},java:{lines:["Node insert(Node root, int val) {","    if (root == null) return new Node(val);","    if (val < root.val)","        root.left = insert(root.left, val);","    else if (val > root.val)","        root.right = insert(root.right, val);","    return root;","}"],mapping:{0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7}},python:{lines:["def insert(root, val):","    if root is None: return Node(val)","    if val < root.val:","        root.left = insert(root.left, val)","    elif val > root.val:","        root.right = insert(root.right, val)","    return root"],mapping:{0:0,1:1,2:2,3:3,4:4,5:5,6:6}}},search:{c:{lines:["struct Node* search(struct Node* root, int target) {","    if (root == NULL || root->data == target)","        return root;","    if (target < root->data)","        return search(root->left, target);","    return search(root->right, target);","}"],mapping:{0:0,1:1,2:2,3:3,4:4,5:5,6:6}},cpp:{lines:["Node* search(Node* root, int target) {","    if (!root || root->val == target)","        return root;","    if (target < root->val)","        return search(root->left, target);","    return search(root->right, target);","}"],mapping:{0:0,1:1,2:2,3:3,4:4,5:5,6:6}},java:{lines:["Node search(Node root, int target) {","    if (root == null || root.val == target)","        return root;","    if (target < root.val)","        return search(root.left, target);","    return search(root.right, target);","}"],mapping:{0:0,1:1,2:2,3:3,4:4,5:5,6:6}},python:{lines:["def search(root, target):","    if root is None or root.val == target:","        return root","    if target < root.val:","        return search(root.left, target)","    return search(root.right, target)"],mapping:{0:0,1:1,2:2,3:3,4:4,5:5}}},delete:{c:{lines:["struct Node* deleteNode(struct Node* root, int key) {","    if (root == NULL) return root;","    if (key < root->data) root->left = deleteNode(root->left, key);","    else if (key > root->data) root->right = deleteNode(root->right, key);","    else {","        // Node with only one child or no child","        if (root->left == NULL) {","            struct Node* temp = root->right;","            free(root); return temp;","        }","        // Node with two children: Get inorder successor","        struct Node* temp = minValueNode(root->right);","        root->data = temp->data;","        root->right = deleteNode(root->right, temp->data);","    }","    return root;","}"],mapping:{0:0,1:1,2:2,3:3,4:4,6:6,7:7,8:8,11:11,12:12,13:13,16:15}},cpp:{lines:["Node* deleteNode(Node* root, int key) {","    if (!root) return root;","    if (key < root->val) root->left = deleteNode(root->left, key);","    else if (key > root->val) root->right = deleteNode(root->right, key);","    else {","        if (!root->left) {","            Node* temp = root->right;","            delete root; return temp;","        }","        Node* temp = minValueNode(root->right);","        root->val = temp->val;","        root->right = deleteNode(root->right, temp->val);","    }","    return root;","}"],mapping:{0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,9:9,10:10,11:11,13:13}},java:{lines:["Node deleteNode(Node root, int key) {","    if (root == null) return root;","    if (key < root.val) root.left = deleteNode(root.left, key);","    else if (key > root.val) root.right = deleteNode(root.right, key);","    else {","        if (root.left == null) return root.right;","        else if (root.right == null) return root.left;","        root.val = minValue(root.right);","        root.right = deleteNode(root.right, root.val);","    }","    return root;","}"],mapping:{0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,10:10}},python:{lines:["def deleteNode(root, key):","    if root is None: return root","    if key < root.val: root.left = deleteNode(root.left, key)","    elif key > root.val: root.right = deleteNode(root.right, key)","    else:","        if root.left is None: return root.right","        elif root.right is None: return root.left","        temp = minValueNode(root.right)","        root.val = temp.val","        root.right = deleteNode(root.right, temp.val)","    return root"],mapping:{0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,10:10}}},inorder:{c:{lines:["void inorder(struct Node* root) {","    if (root == NULL) return;","    inorder(root->left);",'    printf("%d ", root->data);',"    inorder(root->right);","}"],mapping:{0:0,1:1,2:2,3:3,4:4}},cpp:{lines:["void inorder(Node* root) {","    if (!root) return;","    inorder(root->left);",'    cout << root->val << " ";',"    inorder(root->right);","}"],mapping:{0:0,1:1,2:2,3:3,4:4}},java:{lines:["void inorder(Node root) {","    if (root == null) return;","    inorder(root.left);",'    System.out.print(root.val + " ");',"    inorder(root.right);","}"],mapping:{0:0,1:1,2:2,3:3,4:4}},python:{lines:["def inorder(root):","    if root is None: return","    inorder(root.left)","    print(root.val, end=' ')","    inorder(root.right)"],mapping:{0:0,1:1,2:2,3:3,4:4}}},preorder:{c:{lines:["void preorder(struct Node* root) {","    if (root == NULL) return;",'    printf("%d ", root->data);',"    preorder(root->left);","    preorder(root->right);","}"],mapping:{0:0,1:1,2:2,3:3,4:4}},cpp:{lines:["void preorder(Node* root) {","    if (!root) return;",'    cout << root->val << " ";',"    preorder(root->left);","    preorder(root->right);","}"],mapping:{0:0,1:1,2:2,3:3,4:4}},java:{lines:["void preorder(Node root) {","    if (root == null) return;",'    System.out.print(root.val + " ");',"    preorder(root.left);","    preorder(root.right);","}"],mapping:{0:0,1:1,2:2,3:3,4:4}},python:{lines:["def preorder(root):","    if root is None: return","    print(root.val, end=' ')","    preorder(root.left)","    preorder(root.right)"],mapping:{0:0,1:1,2:2,3:3,4:4}}},postorder:{c:{lines:["void postorder(struct Node* root) {","    if (root == NULL) return;","    postorder(root->left);","    postorder(root->right);",'    printf("%d ", root->data);',"}"],mapping:{0:0,1:1,2:2,3:3,4:4}},cpp:{lines:["void postorder(Node* root) {","    if (!root) return;","    postorder(root->left);","    postorder(root->right);",'    cout << root->val << " ";',"}"],mapping:{0:0,1:1,2:2,3:3,4:4}},java:{lines:["void postorder(Node root) {","    if (root == null) return;","    postorder(root.left);","    postorder(root.right);",'    System.out.print(root.val + " ");',"}"],mapping:{0:0,1:1,2:2,3:3,4:4}},python:{lines:["def postorder(root):","    if root is None: return","    postorder(root.left)","    postorder(root.right)","    print(root.val, end=' ')"],mapping:{0:0,1:1,2:2,3:3,4:4}}}},fw=({currentFrame:e,codeLanguage:t,setCodeLanguage:r,activeAlgorithm:n})=>{const[s,a]=y.useState("pseudo");return i.jsxs("div",{className:"flex flex-col h-full",children:[i.jsxs("div",{className:"flex border-b border-gray-200 dark:border-[#272546]",children:[i.jsx("button",{onClick:()=>a("pseudo"),className:`flex-1 py-2 text-[10px] font-bold uppercase tracking-wider transition-colors ${s==="pseudo"?"text-primary border-b-2 border-primary":"text-gray-400 hover:text-gray-300"}`,children:"Pseudocode"}),i.jsx("button",{onClick:()=>a("code"),className:`flex-1 py-2 text-[10px] font-bold uppercase tracking-wider transition-colors ${s==="code"?"text-primary border-b-2 border-primary":"text-gray-400 hover:text-gray-300"}`,children:"Code"}),i.jsx("button",{onClick:()=>a("info"),className:`flex-1 py-2 text-[10px] font-bold uppercase tracking-wider transition-colors ${s==="info"?"text-primary border-b-2 border-primary":"text-gray-400 hover:text-gray-300"}`,children:"Info"})]}),i.jsxs("div",{className:"flex-1 overflow-y-auto min-h-0 bg-gray-50/50 dark:bg-transparent",children:[s==="pseudo"&&i.jsx("div",{className:"p-4 font-mono text-xs text-gray-600 dark:text-gray-400 space-y-1",children:e.pseudoLines&&e.pseudoLines.length>0?e.pseudoLines.map((o,l)=>i.jsxs("div",{className:`px-2 py-1.5 rounded-sm border-l-2 transition-all ${l===e.codeLine?"bg-primary/10 text-primary dark:text-white border-primary font-bold shadow-sm":"border-transparent opacity-80"}`,children:[i.jsx("span",{className:"mr-3 select-none opacity-50",children:l}),o]},l)):i.jsx("div",{className:"text-center italic text-gray-500 mt-4",children:"Select an algorithm to view pseudocode."})}),s==="code"&&i.jsxs("div",{className:"flex flex-col h-full",children:[i.jsx("div",{className:"p-2 border-b border-gray-100 dark:border-[#272546] flex gap-1 bg-white dark:bg-[#151426]",children:["c","cpp","java","python"].map(o=>i.jsx("button",{onClick:()=>r(o),className:`flex-1 py-1 rounded text-[10px] font-bold uppercase ${t===o?"bg-primary text-white":"text-gray-400 hover:bg-gray-100 dark:hover:bg-white/5"}`,children:o==="cpp"?"C++":o.toUpperCase()},o))}),i.jsx("div",{className:"p-4 font-mono text-xs text-gray-600 dark:text-gray-400 overflow-y-auto space-y-0.5",children:(()=>{if(!n||!hh[n])return i.jsx("div",{className:"text-center italic text-gray-500 mt-4",children:"No code available."});const o=hh[n][t],l=o.mapping[e.codeLine],d=Array.isArray(l)?l:l!==void 0?[l]:[];return o.lines.map((c,u)=>i.jsxs("div",{className:`px-2 py-1 -mx-2 rounded flex gap-3 transition-colors duration-200 ${d.includes(u)?"bg-indigo-50 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300 border-l-2 border-indigo-500":"border-l-2 border-transparent"}`,children:[i.jsx("span",{className:"text-gray-300 dark:text-gray-600 select-none w-4 text-right",children:u+1}),i.jsx("span",{className:"whitespace-pre",children:c})]},u))})()})]}),s==="info"&&i.jsx("div",{className:"p-4 space-y-6",children:e.output!==void 0&&i.jsxs("div",{children:[i.jsx("h4",{className:"text-[10px] uppercase font-bold text-gray-400 mb-2",children:"Traversal Output"}),i.jsx("div",{className:"bg-indigo-50 dark:bg-indigo-900/20 p-3 rounded border border-indigo-100 dark:border-indigo-800 font-mono text-sm text-indigo-700 dark:text-indigo-300 break-words",children:e.output||"..."})]})})]})]})},pw=({activeTool:e,setActiveTool:t,onClear:r})=>i.jsxs("div",{className:"absolute top-4 left-4 bg-white dark:bg-[#1e1c33] p-1.5 rounded-xl shadow-[0_8px_30px_rgb(0,0,0,0.12)] border border-gray-200 dark:border-[#272546] flex items-center gap-1 z-50",onMouseDown:n=>n.stopPropagation(),children:[i.jsx("button",{onClick:()=>t("move"),className:`relative w-10 h-10 flex items-center justify-center rounded-lg transition-all duration-200 group
                    ${e==="move"?"bg-primary text-white shadow-lg shadow-primary/30":"text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-[#2a2845]"}`,title:"Move/Pan",children:i.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"pan_tool"})}),i.jsx("button",{onClick:()=>t("node"),className:`relative w-10 h-10 flex items-center justify-center rounded-lg transition-all duration-200 group
                    ${e==="node"?"bg-primary text-white shadow-lg shadow-primary/30":"text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-[#2a2845]"}`,title:"Add Node",children:i.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"add_circle"})}),i.jsx("button",{onClick:()=>t("edge"),className:`relative w-10 h-10 flex items-center justify-center rounded-lg transition-all duration-200 group
                    ${e==="edge"?"bg-primary text-white shadow-lg shadow-primary/30":"text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-[#2a2845]"}`,title:"Connect Nodes (Edge)",children:i.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"polyline"})}),i.jsx("button",{onClick:()=>t("delete"),className:`relative w-10 h-10 flex items-center justify-center rounded-lg transition-all duration-200 group
                    ${e==="delete"?"bg-red-500 text-white shadow-lg shadow-red-500/30":"text-gray-500 dark:text-gray-400 hover:bg-red-50 dark:hover:bg-red-900/20 hover:text-red-500"}`,title:"Delete Node/Edge",children:i.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"delete"})}),i.jsx("div",{className:"w-[1px] h-6 bg-gray-200 dark:bg-[#272546] mx-1"}),i.jsx("button",{onClick:r,className:"w-10 h-10 flex items-center justify-center rounded-lg text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 transition-all duration-200 group",title:"Clear Tree",children:i.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"delete_sweep"})})]}),gw=()=>{const e=uw(),{frames:t,currentStep:r,setCurrentStep:n,isPlaying:s,setIsPlaying:a,playbackSpeed:o,setPlaybackSpeed:l,activeAlgorithm:d,getCurrentFrame:c,activeTool:u,setActiveTool:h,addNode:x,addEdge:v,removeNode:k,moveNode:N,selectedNode:_,setSelectedNode:p,clear:g}=e,[b,E]=y.useState(.7),R=y.useRef(null),Y=y.useRef(null),{setIsSidebarOpen:P}=Ls(),[X,Ne]=y.useState(.7),[ye,Me]=y.useState({x:0,y:0}),[Ie,F]=y.useState(!1),[Ae,qe]=y.useState({x:0,y:0}),[ze,Fe]=y.useState("python"),[xe,te]=y.useState(null),[ke,Oe]=y.useState(null),[Re,_e]=y.useState(null),Ke=c();y.useEffect(()=>{P(!1)},[P]);const Je=(ne,be)=>{if(!Y.current)return{x:0,y:0};const Ce=Y.current.getBoundingClientRect();return{x:(ne-Ce.left-ye.x)/X,y:(be-Ce.top-ye.y)/X}},se=ne=>{ne.preventDefault();const be=ne.clientY,Ce=b,$e=je=>{if(!R.current)return;const Ge=R.current.offsetHeight,$=je.clientY-be,A=Math.min(.8,Math.max(.2,Ce+$/Ge));E(A)},Be=()=>{document.removeEventListener("mousemove",$e),document.removeEventListener("mouseup",Be)};document.addEventListener("mousemove",$e),document.addEventListener("mouseup",Be)},Qe=ne=>{ne.ctrlKey||ne.metaKey;{const be=-ne.deltaY;Ne(Ce=>Math.min(Math.max(.2,Ce+be*.001),3))}},Ye=ne=>{if(p(null),u==="move")F(!0),qe({x:ne.clientX,y:ne.clientY});else if(u==="node"){const{x:be,y:Ce}=Je(ne.clientX,ne.clientY);x(be,Ce)}},Le=ne=>{if(u==="move"){if(Ie)Me(be=>({x:be.x+ne.clientX-Ae.x,y:be.y+ne.clientY-Ae.y})),qe({x:ne.clientX,y:ne.clientY});else if(xe!==null){const{x:be,y:Ce}=Je(ne.clientX,ne.clientY);N(xe,be,Ce)}}else if(u==="edge"&&ke!==null){const{x:be,y:Ce}=Je(ne.clientX,ne.clientY),$e=Ke.nodes.find(Be=>Be.id===ke);$e&&_e({x1:$e.x,y1:$e.y,x2:be,y2:Ce})}},G=()=>{F(!1),te(null),Oe(null),_e(null)},ue=(ne,be)=>{if(ne.stopPropagation(),p(be),u==="move")te(be);else if(u==="edge"){Oe(be);const Ce=Ke.nodes.find($e=>$e.id===be);Ce&&_e({x1:Ce.x,y1:Ce.y,x2:Ce.x,y2:Ce.y})}else u==="delete"&&(k(be),p(null))},re=(ne,be)=>{ne.stopPropagation(),u==="edge"&&ke!==null&&(v(ke,be),Oe(null),_e(null))},fe=i.jsxs("div",{className:"h-full flex flex-col relative",ref:R,children:[i.jsx("div",{style:{height:`${b*100}%`},className:"min-h-0 overflow-y-auto border-b border-gray-200 dark:border-[#272546] p-4",children:i.jsx(hw,{...e})}),i.jsx("div",{className:"h-1 bg-gray-100 dark:bg-[#272546] hover:bg-primary cursor-row-resize transition-colors absolute w-full z-10",style:{top:`${b*100}%`},onMouseDown:se}),i.jsx("div",{className:"flex-1 min-h-0 overflow-hidden bg-white dark:bg-[#1e1c33]",children:i.jsx(fw,{currentFrame:Ke,codeLanguage:ze,setCodeLanguage:Fe,activeAlgorithm:d})})]}),ce=i.jsxs("div",{className:"w-full bg-white dark:bg-[#131221] border-t border-gray-200 dark:border-[#272546] px-8 py-4 flex items-center justify-between gap-8 h-20 shadow-md relative z-20",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("button",{onClick:()=>n(0),className:"text-gray-400 hover:text-white transition-colors",children:i.jsx("span",{className:"material-symbols-outlined text-[24px]",children:"skip_previous"})}),i.jsx("button",{onClick:()=>n(ne=>Math.max(0,ne-1)),className:"text-gray-400 hover:text-white transition-colors",children:i.jsx("span",{className:"material-symbols-outlined text-[28px]",children:"fast_rewind"})}),i.jsx("button",{onClick:()=>a(!s),className:"rounded-full flex items-center justify-center text-white bg-primary size-12 shadow-lg shadow-primary/30 transition-transform hover:scale-105 active:scale-95",children:i.jsx("span",{className:"material-symbols-outlined filled text-[28px]",children:s?"pause":"play_arrow"})}),i.jsx("button",{onClick:()=>n(ne=>Math.min(t.length-1,ne+1)),className:"text-gray-400 hover:text-white transition-colors",children:i.jsx("span",{className:"material-symbols-outlined text-[28px]",children:"fast_forward"})}),i.jsx("button",{onClick:()=>n(t.length-1),className:"text-gray-400 hover:text-white transition-colors",children:i.jsx("span",{className:"material-symbols-outlined text-[24px]",children:"skip_next"})})]}),i.jsxs("div",{className:"flex-1 flex flex-col gap-2",children:[i.jsxs("div",{className:"flex justify-between text-xs font-medium font-mono text-gray-500 dark:text-gray-400",children:[i.jsxs("span",{children:["Step ",r+1,"/",t.length||1]}),i.jsxs("span",{className:"text-primary",children:[Math.round((r+1)/(t.length||1)*100),"%"]})]}),i.jsx("div",{className:"h-1.5 w-full bg-gray-200 dark:bg-[#272546] rounded-full overflow-hidden relative cursor-pointer",onClick:ne=>{const be=ne.currentTarget.getBoundingClientRect(),Ce=(ne.clientX-be.left)/be.width;n(Math.floor(Ce*(t.length-1)))},children:i.jsx("div",{className:"h-full bg-primary relative rounded-full",style:{width:`${(r+1)/(t.length||1)*100}%`}})})]}),i.jsxs("div",{className:"flex items-center gap-3 border-l border-gray-200 dark:border-[#272546] w-40 pl-6",children:[i.jsx("span",{className:"material-symbols-outlined text-gray-400 text-sm",children:"speed"}),i.jsx("input",{type:"range",min:"0.5",max:"3",step:"0.5",value:o,onChange:ne=>l(parseFloat(ne.target.value)),className:"w-full h-1 bg-gray-200 dark:bg-[#272546] rounded-lg appearance-none cursor-pointer accent-primary"}),i.jsxs("span",{className:"text-xs font-mono text-gray-500 w-8",children:[o,"x"]})]})]});return i.jsx(Dn,{title:"Binary Tree",sidebarPosition:"right",contentClassName:"flex-1 flex flex-col relative z-0 overflow-hidden",sidebarNoPadding:!0,sidebarNoScroll:!0,sidebar:fe,rightSidebar:null,leftSidebar:null,controls:ce,children:i.jsxs("div",{ref:Y,className:`relative flex-1 w-full h-full overflow-hidden flex items-center justify-center bg-gray-50/50 dark:bg-black/20 
            ${u==="move"?"cursor-grab active:cursor-grabbing":""} 
            ${u==="node"?"cursor-crosshair":""}
            ${u==="edge"?"cursor-alias":""}
            ${u==="delete"?"cursor-not-allowed":""}
        `,onMouseDown:Ye,onMouseMove:Le,onMouseUp:G,onMouseLeave:G,onWheel:Qe,children:[i.jsx(pw,{activeTool:u,setActiveTool:h,onClear:g}),i.jsx("div",{style:{transform:`translate(${ye.x}px, ${ye.y}px) scale(${X})`,transition:Ie||xe!==null?"none":"transform 0.1s ease-out"},className:"relative w-[800px] h-[600px] pointer-events-none origin-top-left",children:i.jsxs("svg",{className:"absolute inset-0 size-full overflow-visible pointer-events-auto",children:[i.jsx("defs",{children:i.jsxs("filter",{height:"140%",id:"glow",width:"140%",x:"-20%",y:"-20%",children:[i.jsx("feGaussianBlur",{result:"blur",stdDeviation:"3"}),i.jsx("feComposite",{in:"SourceGraphic",in2:"blur",operator:"over"})]})}),Ke.edges.map((ne,be)=>{const Ce=Ke.nodes.find(Be=>Be.id===ne.from),$e=Ke.nodes.find(Be=>Be.id===ne.to);return!Ce||!$e?null:i.jsx("line",{x1:Ce.x,y1:Ce.y,x2:$e.x,y2:$e.y,className:"stroke-slate-400 dark:stroke-[#383564] stroke-2 transition-all duration-300"},`edge-${be}`)}),Re&&i.jsx("line",{x1:Re.x1,y1:Re.y1,x2:Re.x2,y2:Re.y2,className:"stroke-primary stroke-2 stroke-dasharray-4"}),Ke.nodes.map(ne=>{var je,Ge;const be=(je=Ke.highlights)==null?void 0:je.includes(ne.id),Ce=(Ge=Ke.evaluated)==null?void 0:Ge.includes(ne.id),$e=_===ne.id,Be=xe===ne.id;return i.jsxs("g",{transform:`translate(${ne.x}, ${ne.y})`,className:`transition-all duration-500 ${Be?"transition-none":""}`,onMouseDown:$=>ue($,ne.id),onMouseUp:$=>re($,ne.id),children:[i.jsx("circle",{r:"24",className:`transition-all duration-300 cursor-pointer hover:stroke-primary/50
                        ${be?"fill-primary stroke-primary stroke-[3px] filter drop-shadow-[0_0_8px_rgba(66,54,231,0.6)]":Ce?"fill-indigo-100 dark:fill-indigo-900/50 stroke-indigo-400 dark:stroke-indigo-600":$e?"fill-white dark:fill-[#1e1c33] stroke-primary stroke-[3px]":"fill-white dark:fill-[#1e1c33] stroke-slate-400 dark:stroke-slate-500"}
                        stroke-[2.5px]
                    `}),i.jsx("text",{textAnchor:"middle",dominantBaseline:"middle",y:"1",className:`text-sm font-bold font-mono select-none pointer-events-none
                        ${be?"fill-white":"fill-slate-900 dark:fill-white"}
                    `,children:ne.value})]},ne.id)})]})}),i.jsx("div",{className:"absolute bottom-4 right-4 max-w-sm w-full pointer-events-none flex justify-end",children:i.jsxs("div",{className:"bg-white/90 dark:bg-[#1e1c33]/90 backdrop-blur-sm p-4 rounded-xl border border-gray-200 dark:border-[#272546] shadow-xl pointer-events-auto transition-all duration-300 transform translate-y-0 opacity-100",children:[i.jsx("h4",{className:"text-[10px] uppercase font-bold text-gray-400 mb-1 tracking-wider",children:"Current Operation"}),i.jsx("p",{className:"text-sm font-medium text-slate-700 dark:text-slate-200 leading-relaxed",children:Ke.description||"Ready to visualize..."})]})})]})})},rl=80,mw=()=>{const[e,t]=y.useState(5),[r,n]=y.useState(500),[s,a]=y.useState(!1),[o,l]=y.useState(0),[d,c]=y.useState([]),u=y.useRef(null),h=y.useCallback(g=>{const b=[];let E=[],R=[],Y=[];const P=(ye,Me)=>{b.push({treeNodes:JSON.parse(JSON.stringify(E)),callStack:JSON.parse(JSON.stringify(R)),logs:[...Y],activeLine:ye,description:Me})},X=ye=>{Y=[...Y,ye],Y.length>5&&Y.shift()},Ne=(ye,Me,Ie,F,Ae="root")=>{const qe=`${Ae}_${ye}`,ze={id:qe,n:ye,status:"active",x:Me,y:Ie,parentId:F};E.push(ze);const Fe={id:qe,n:ye,status:"active"};R.length>0&&(R[R.length-1].status="paused"),R.push(Fe),X(`> Calling fib(${ye})`),P(2,`Calling fib(${ye})`);let xe=ye;if(P(4,`Checking base case: n (${ye}) <= 1?`),ye<=1)ze.status="computed",ze.val=ye,Fe.status="returning",Fe.val=ye,X(`> Base case hit: returning ${ye}`),P(4,`Base case true. Returning ${ye}.`);else{P(7,`Recursive call: left = fib(${ye} - 1)`);const ke=150/(Ie/rl+1),Oe=Ne(ye-1,Me-ke,Ie+rl,qe,`${qe}_L`);R[R.length-1].status="active",P(7,`Received left = ${Oe}`),P(8,`Recursive call: right = fib(${ye} - 2)`);const Re=Ne(ye-2,Me+ke,Ie+rl,qe,`${qe}_R`);R[R.length-1].status="active",P(8,`Received right = ${Re}`),xe=Oe+Re,P(10,`Computing result: ${Oe} + ${Re} = ${xe}`),ze.status="computed",ze.val=xe,Fe.status="returning",Fe.val=xe}return X(`> fib(${ye}) returning ${xe}`),P(10,`Returning ${xe}`),R.pop(),R.length>0&&(R[R.length-1].status="active"),xe};return P(1,"Starting simulation..."),Ne(g,300,50),P(11,"Simulation complete."),b},[]);y.useEffect(()=>{e>6&&t(6);const g=h(e);c(g),l(0),a(!1)},[e,h]),y.useEffect(()=>(s?u.current=window.setInterval(()=>{l(g=>g<d.length-1?g+1:(a(!1),g))},r):u.current&&clearInterval(u.current),()=>{u.current&&clearInterval(u.current)}),[s,d.length,r]);const x=()=>{l(0),a(!0)},v=()=>a(!s),k=()=>{a(!1),o<d.length-1&&l(g=>g+1)},N=()=>{a(!1),o>0&&l(g=>g-1)},_=()=>{a(!1),l(0)},p=d[o]||{treeNodes:[],callStack:[],logs:[],activeLine:0,description:"Ready"};return i.jsx("div",{className:"flex flex-col h-screen overflow-hidden bg-background-light dark:bg-background-dark text-slate-900 dark:text-white font-display",children:i.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[i.jsxs("aside",{className:"w-80 border-r border-gray-200 dark:border-[#272546] flex flex-col bg-white dark:bg-[#131221] z-10 shrink-0",children:[i.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-[#272546]",children:[i.jsxs("div",{className:"flex flex-wrap gap-2 items-center text-xs mb-1",children:[i.jsx("span",{className:"text-gray-500 dark:text-[#9794c7]",children:"Work Mode"}),i.jsx("span",{className:"text-gray-400 dark:text-[#5a5875]",children:"/"}),i.jsx("span",{className:"text-slate-900 dark:text-white font-medium uppercase tracking-tighter",children:"Recursion"})]}),i.jsx("h1",{className:"text-xl font-bold text-slate-900 dark:text-white tracking-tight",children:"Configuration"})]}),i.jsxs("div",{className:"p-5 space-y-6 border-b border-gray-200 dark:border-[#272546] bg-gray-50/50 dark:bg-[#1c1a32]/30",children:[i.jsxs("div",{className:"space-y-1.5",children:[i.jsx("label",{className:"text-xs font-bold uppercase tracking-wider text-gray-500 dark:text-[#9794c7]",children:"Select Algorithm"}),i.jsxs("div",{className:"relative",children:[i.jsxs("select",{value:"fibonacci",disabled:!0,className:"w-full appearance-none bg-white dark:bg-[#121121] border border-gray-200 dark:border-[#272546] text-slate-700 dark:text-gray-300 text-sm rounded-lg pl-3 pr-10 py-2.5 outline-none focus:ring-2 focus:ring-primary transition-colors cursor-pointer shadow-sm opacity-80",children:[i.jsx("option",{value:"fibonacci",children:"Fibonacci Sequence"}),i.jsx("option",{value:"factorial",children:"Factorial (Coming Soon)"})]}),i.jsx("span",{className:"material-symbols-outlined absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none",children:"expand_more"})]})]}),i.jsxs("div",{className:"space-y-4 bg-white/50 dark:bg-white/5 p-4 rounded-xl border border-gray-100 dark:border-white/5 shadow-sm",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-1.5",children:[i.jsx("label",{className:"text-[10px] font-bold uppercase tracking-wider text-gray-400",children:"Input N (Max 6)"}),i.jsx("input",{type:"number",value:e,max:6,min:0,onChange:g=>t(Math.min(6,Math.max(0,parseInt(g.target.value)||0))),className:"w-full bg-white dark:bg-[#0d0c15] border border-gray-200 dark:border-[#272546] rounded-lg px-3 py-2 text-sm font-mono focus:ring-2 focus:ring-primary outline-none transition-all"})]}),i.jsxs("div",{className:"space-y-1.5",children:[i.jsx("label",{className:"text-[10px] font-bold uppercase tracking-wider text-gray-400",children:"Speed (ms)"}),i.jsx("input",{type:"number",value:r,min:50,step:50,onChange:g=>n(parseInt(g.target.value)||500),className:"w-full bg-white dark:bg-[#0d0c15] border border-gray-200 dark:border-[#272546] rounded-lg px-3 py-2 text-sm font-mono focus:ring-2 focus:ring-primary outline-none transition-all"})]})]}),i.jsxs("button",{onClick:x,className:"w-full bg-primary hover:bg-primary/90 text-white py-3 rounded-xl text-sm font-bold flex items-center justify-center gap-2 transition-all shadow-lg shadow-primary/20 hover:scale-[1.02] active:scale-95",children:[i.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"play_arrow"}),"Start Simulation"]})]})]}),i.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden bg-white dark:bg-[#131221]",children:[i.jsxs("div",{className:"px-4 py-3 bg-gray-50 dark:bg-[#1c1a32] border-b border-gray-200 dark:border-[#272546] flex justify-between items-center",children:[i.jsxs("h3",{className:"text-xs font-bold text-gray-500 dark:text-gray-300 uppercase tracking-wider flex items-center gap-2",children:[i.jsx("span",{className:"material-symbols-outlined text-[16px]",children:"layers"})," Call Stack"]}),i.jsxs("span",{className:"text-[10px] bg-primary/10 text-primary px-1.5 py-0.5 rounded font-mono font-bold",children:["Depth: ",p.callStack.length]})]}),i.jsxs("div",{className:"flex-1 overflow-y-auto p-2 space-y-2 relative",children:[p.callStack.slice().reverse().map((g,b)=>i.jsxs("div",{className:`
                                        border rounded p-3 transition-all
                                        ${g.status==="active"||g.status==="returning"?"bg-white dark:bg-[#1c1a32] border-primary border-l-4 shadow-lg":"bg-gray-50 dark:bg-[#1c1a32]/50 border-gray-200 dark:border-[#272546] opacity-80"}
                                    `,children:[i.jsxs("div",{className:"flex justify-between items-start mb-1",children:[i.jsxs("span",{className:`font-mono text-sm font-bold ${g.status==="active"?"text-slate-900 dark:text-white":"text-gray-500 dark:text-gray-300"}`,children:["fib(",g.n,")"]}),i.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded uppercase font-bold tracking-wide ${g.status==="active"?"text-primary bg-primary/10":g.status==="returning"?"text-emerald-500 bg-emerald-500/10":"text-gray-500 border border-gray-200 dark:border-[#272546]"}`,children:g.status})]}),i.jsxs("div",{className:"font-mono text-xs text-gray-500 dark:text-gray-400 space-y-1",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"n:"})," ",i.jsx("span",{className:"text-slate-900 dark:text-white",children:g.n})]}),g.val!==void 0&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"return:"}),i.jsx("span",{className:"text-emerald-600 dark:text-emerald-400 font-bold",children:g.val})]}),g.status==="paused"&&i.jsx("div",{className:"flex justify-between",children:i.jsx("span",{children:"waiting..."})})]})]},`${g.id}-${b}`)),p.callStack.length===0&&i.jsx("div",{className:"text-center text-gray-400 text-xs py-8",children:"Stack is empty"})]})]})]}),i.jsxs("main",{className:"flex-1 flex flex-col relative bg-gray-50 dark:bg-[#0f0e1a] overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 z-0 opacity-[0.05] dark:opacity-[0.1]",style:{backgroundImage:"linear-gradient(to right, #4236e7 1px, transparent 1px), linear-gradient(to bottom, #4236e7 1px, transparent 1px)",backgroundSize:"40px 40px",maskImage:"linear-gradient(to bottom, black 40%, transparent 100%)"}}),i.jsxs("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 bg-white/90 dark:bg-[#1c1a32]/90 backdrop-blur border border-gray-200 dark:border-[#272546] rounded-full p-1.5 flex gap-1 shadow-xl z-20",children:[i.jsx("button",{onClick:N,className:"size-9 rounded-full hover:bg-gray-100 dark:hover:bg-white/10 flex items-center justify-center text-slate-700 dark:text-white transition-colors",title:"Step Back",children:i.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"skip_previous"})}),i.jsx("button",{onClick:v,className:`size-9 rounded-full ${s?"bg-red-500 hover:bg-red-600":"bg-primary hover:bg-primary/90"} flex items-center justify-center text-white shadow-lg shadow-primary/20 transition-all`,title:s?"Pause":"Play",children:i.jsx("span",{className:"material-symbols-outlined text-[20px]",style:{fontVariationSettings:"'FILL' 1"},children:s?"pause":"play_arrow"})}),i.jsx("button",{onClick:k,className:"size-9 rounded-full hover:bg-gray-100 dark:hover:bg-white/10 flex items-center justify-center text-slate-700 dark:text-white transition-colors",title:"Step Forward",children:i.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"skip_next"})}),i.jsx("div",{className:"w-px h-5 bg-gray-300 dark:bg-gray-700 self-center mx-1"}),i.jsx("button",{onClick:_,className:"size-9 rounded-full hover:bg-gray-100 dark:hover:bg-white/10 flex items-center justify-center text-slate-400 hover:text-slate-700 dark:hover:text-white transition-colors",title:"Reset",children:i.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"restart_alt"})})]}),i.jsxs("div",{className:"flex-1 relative overflow-auto cursor-grab active:cursor-grabbing",children:[i.jsxs("div",{className:"absolute bottom-4 left-4 bg-white/90 dark:bg-[#1c1a32]/80 backdrop-blur border border-gray-200 dark:border-[#272546] rounded-lg p-3 text-xs z-10 shadow-lg pointer-events-none",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("div",{className:"size-3 rounded-full bg-primary animate-pulse"}),i.jsx("span",{className:"text-slate-600 dark:text-gray-300",children:"Active (Computing)"})]}),i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("div",{className:"size-3 rounded-full bg-emerald-500"}),i.jsx("span",{className:"text-slate-600 dark:text-gray-300",children:"Returned (Computed)"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"size-3 rounded-full bg-white dark:bg-[#131221] border border-gray-300 dark:border-gray-600 border-dashed"}),i.jsx("span",{className:"text-slate-600 dark:text-gray-300",children:"Pending"})]})]}),i.jsx("div",{className:"absolute top-6 left-6 z-10 pointer-events-none",children:i.jsx("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-white/80 dark:bg-[#1e1c33]/80 backdrop-blur border border-gray-200 dark:border-[#272546] shadow-xl",children:i.jsx("span",{className:"text-xs font-mono text-slate-700 dark:text-slate-300",children:p.description})})}),i.jsx("div",{className:"absolute inset-0 flex items-center justify-center transform translate-y-[-10%] scale-90 origin-top",children:i.jsxs("div",{className:"relative w-[600px] h-[400px]",children:[i.jsx("svg",{className:"absolute inset-0 w-full h-full overflow-visible pointer-events-none stroke-gray-300 dark:stroke-gray-700",strokeWidth:"2",children:p.treeNodes.map(g=>{if(!g.parentId)return null;const b=p.treeNodes.find(R=>R.id===g.parentId);if(!b)return null;const E=g.status!=="pending";return i.jsx("path",{d:`M${b.x},${b.y} C${b.x},${b.y+40} ${g.x},${g.y-40} ${g.x},${g.y}`,fill:"none",className:`transition-all duration-300 ${E?"stroke-primary":"opacity-30 stroke-dashed"}`,strokeDasharray:E?"0":"4 4",strokeWidth:E?2:1},`edge-${g.id}`)})}),p.treeNodes.map(g=>i.jsxs("div",{className:`absolute -translate-x-1/2 -translate-y-1/2 size-14 rounded-full flex items-center justify-center z-10 shadow-lg transition-all duration-300
                                            ${g.status==="active"?"bg-white dark:bg-[#1c1a32] border-4 border-primary scale-110 shadow-[0_0_30px_rgba(66,54,231,0.4)]":g.status==="computed"?"bg-emerald-50 dark:bg-[#1c1a32] border-2 border-emerald-500":"bg-gray-50 dark:bg-[#131221] border border-gray-300 dark:border-gray-800 border-dashed opacity-50"}
                                        `,style:{left:g.x,top:g.y},children:[i.jsx("span",{className:`font-mono text-sm font-bold ${g.status==="active"?"text-slate-900 dark:text-white":g.status==="computed"?"text-emerald-600 dark:text-emerald-400":"text-gray-400 dark:text-gray-600"}`,children:g.val!==void 0?g.val:g.n}),i.jsxs("div",{className:`absolute -top-6 text-xs font-mono transition-opacity ${g.status==="active"?"text-primary font-bold opacity-100":"text-gray-500 opacity-0"}`,children:["fib(",g.n,")"]})]},g.id))]})})]})]}),i.jsxs("aside",{className:"w-[400px] border-l border-gray-200 dark:border-[#272546] flex flex-col bg-slate-50 dark:bg-[#0d0c15] z-10 shrink-0 hidden xl:flex",children:[i.jsxs("div",{className:"px-4 py-3 bg-white dark:bg-[#1c1a32] border-b border-gray-200 dark:border-[#272546] flex justify-between items-center",children:[i.jsxs("h3",{className:"text-xs font-bold text-gray-500 dark:text-gray-300 uppercase tracking-wider flex items-center gap-2",children:[i.jsx("span",{className:"material-symbols-outlined text-[16px]",children:"code"})," Source Code"]}),i.jsx("div",{className:"flex gap-2",children:i.jsx("span",{className:"text-[10px] text-gray-500 bg-black/5 dark:bg-white/5 px-1.5 py-0.5 rounded font-mono",children:"JS"})})]}),i.jsxs("div",{className:"flex-1 font-mono text-sm overflow-auto p-4 relative group",children:[i.jsx("div",{className:"absolute left-0 w-full h-6 bg-primary/10 dark:bg-primary/20 border-l-2 border-primary pointer-events-none transition-all duration-300",style:{top:`${(p.activeLine-1)*24+16}px`}}),i.jsxs("div",{className:"flex",children:[i.jsx("div",{className:"flex flex-col text-right text-gray-400 dark:text-gray-600 select-none pr-4 border-r border-gray-200 dark:border-[#272546] mr-4 leading-[24px]",children:Array.from({length:11},(g,b)=>i.jsx("span",{children:b+1},b))}),i.jsxs("div",{className:"flex flex-col text-slate-800 dark:text-gray-300 whitespace-pre leading-[24px]",children:[i.jsx("span",{className:"text-gray-500",children:"// Recursive Fibonacci"}),i.jsxs("span",{children:[i.jsx("span",{className:"text-purple-600 dark:text-purple-400",children:"function"})," ",i.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:"fib"}),i.jsx("span",{className:"text-yellow-600 dark:text-yellow-300",children:"("}),i.jsx("span",{className:"text-orange-600 dark:text-orange-300",children:"n"}),i.jsx("span",{className:"text-yellow-600 dark:text-yellow-300",children:")"})," ",i.jsx("span",{className:"text-yellow-600 dark:text-yellow-300",children:"{"})]}),i.jsxs("span",{children:[" ",i.jsx("span",{className:"text-gray-500",children:"// Base cases"})]}),i.jsxs("span",{children:[" ",i.jsx("span",{className:"text-purple-600 dark:text-purple-400",children:"if"})," ",i.jsx("span",{className:"text-yellow-600 dark:text-yellow-300",children:"("}),"n ",i.jsx("span",{className:"text-purple-600 dark:text-purple-400",children:"<="})," ",i.jsx("span",{className:"text-green-600 dark:text-green-400",children:"1"}),i.jsx("span",{className:"text-yellow-600 dark:text-yellow-300",children:")"})," ",i.jsx("span",{className:"text-purple-600 dark:text-purple-400",children:"return"})," n;"]}),i.jsx("span",{}),i.jsxs("span",{children:[" ",i.jsx("span",{className:"text-gray-500",children:"// Recursive step"})]}),i.jsxs("span",{children:[" ",i.jsx("span",{className:"text-purple-600 dark:text-purple-400",children:"const"})," left ",i.jsx("span",{className:"text-purple-600 dark:text-purple-400",children:"="})," ",i.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:"fib"}),i.jsx("span",{className:"text-yellow-600 dark:text-yellow-300",children:"("}),"n ",i.jsx("span",{className:"text-purple-600 dark:text-purple-400",children:"-"})," ",i.jsx("span",{className:"text-green-600 dark:text-green-400",children:"1"}),i.jsx("span",{className:"text-yellow-600 dark:text-yellow-300",children:")"}),";"]}),i.jsxs("span",{children:[" ",i.jsx("span",{className:"text-purple-600 dark:text-purple-400",children:"const"})," right ",i.jsx("span",{className:"text-purple-600 dark:text-purple-400",children:"="})," ",i.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:"fib"}),i.jsx("span",{className:"text-yellow-600 dark:text-yellow-300",children:"("}),"n ",i.jsx("span",{className:"text-purple-600 dark:text-purple-400",children:"-"})," ",i.jsx("span",{className:"text-green-600 dark:text-green-400",children:"2"}),i.jsx("span",{className:"text-yellow-600 dark:text-yellow-300",children:")"}),";"]}),i.jsx("span",{}),i.jsxs("span",{children:[" ",i.jsx("span",{className:"text-purple-600 dark:text-purple-400",children:"return"})," left ",i.jsx("span",{className:"text-purple-600 dark:text-purple-400",children:"+"})," right;"]}),i.jsx("span",{className:"text-yellow-600 dark:text-yellow-300",children:"}"})]})]})]}),i.jsxs("div",{className:"h-1/3 border-t border-gray-200 dark:border-[#272546] flex flex-col bg-gray-50 dark:bg-[#1c1a32]",children:[i.jsxs("div",{className:"px-4 py-2 bg-gray-100 dark:bg-black/20 border-b border-gray-200 dark:border-[#272546] flex justify-between items-center",children:[i.jsx("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider",children:"Console Output"}),i.jsx("button",{className:"text-[10px] text-gray-500 hover:text-slate-900 dark:hover:text-white transition-colors",children:"Clear"})]}),i.jsxs("div",{className:"flex-1 p-3 font-mono text-xs space-y-1 overflow-y-auto text-slate-700 dark:text-gray-300",children:[p.logs.map((g,b)=>i.jsx("div",{className:b===p.logs.length-1?"text-primary font-bold":"opacity-75",children:g},b)),i.jsx("div",{className:"animate-pulse",children:"_"})]})]})]})]})})},xw=()=>i.jsx("div",{className:"flex-grow flex flex-col bg-background-light dark:bg-background-dark min-h-screen",children:i.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-20 w-full",children:[i.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-8",children:"About"}),i.jsxs("div",{className:"prose dark:prose-invert max-w-none",children:[i.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 mb-6",children:"Data Structure Visualizer is an educational project designed to help students master computer science concepts through interactive visualization."}),i.jsxs("div",{className:"grid md:grid-cols-2 gap-8 my-12",children:[i.jsxs("div",{className:"bg-white dark:bg-[#1e1d32] p-6 rounded-2xl border border-gray-200 dark:border-[#272546]",children:[i.jsx("h3",{className:"text-xl font-bold text-primary mb-3",children:"Our Mission"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"To simplify complex algorithms and data structures, making them accessible and intuitive for learners of all levels."})]}),i.jsxs("div",{className:"bg-white dark:bg-[#1e1d32] p-6 rounded-2xl border border-gray-200 dark:border-[#272546]",children:[i.jsx("h3",{className:"text-xl font-bold text-primary mb-3",children:"Technology"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Built with modern web technologies including React, TypeScript, and Tailwind CSS for high performance and responsiveness."})]})]}),i.jsxs("p",{className:"text-gray-600 dark:text-gray-300",children:["Start exploring our ",i.jsx(Bt,{to:"/",className:"text-primary hover:underline",children:"interactive modules"})," to see algorithms in action."]})]})]})}),vw=[{name:"Shubham Kumar Sharma",role:"Developer",image:"https://github.com/shubhamkumarsharma03.png",github:"https://github.com/shubhamkumarsharma03",linkedin:"https://www.linkedin.com/in/shubhamkumarsharma03",website:"https://shubhamksharma.me"},{name:"Kisna Sharma",role:"Developer",image:"https://github.com/Kisnasharma.png",github:"https://github.com/Kisnasharma"},{name:"Mohammad Jayed",role:"Developer",image:"https://github.com/jayedmohd.png",github:"https://github.com/jayedmohd",linkedin:"https://www.linkedin.com/in/jayedmohd/"},{name:"Rajat Vyas",role:"Developer",image:"https://github.com/RV7631.png",github:"https://github.com/RV7631"},{name:"Rahul Rawat",role:"Developer",image:"https://github.com/rahulrawat2486-wq.png",github:"https://github.com/rahulrawat2486-wq"}],yw=()=>i.jsx("div",{className:"flex-grow flex flex-col bg-background-light dark:bg-background-dark min-h-screen",children:i.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-20 w-full",children:[i.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-4",children:"The Team"}),i.jsx("p",{className:"text-xl text-gray-500 dark:text-[#9794c7] mb-12",children:"Made for students, by students."}),i.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:vw.map((e,t)=>i.jsxs("div",{className:"bg-white dark:bg-[#1e1d32] border border-gray-200 dark:border-[#272546] rounded-2xl overflow-hidden shadow-sm hover:shadow-lg transition-shadow",children:[i.jsx("div",{className:"h-32 bg-gradient-to-r from-primary to-purple-600"}),i.jsxs("div",{className:"px-6 pb-6 -mt-12 relative",children:[i.jsx("div",{className:"size-24 rounded-full border-4 border-white dark:border-[#1e1d32] bg-white dark:bg-[#131221] overflow-hidden mb-4",children:i.jsx("img",{src:e.image,alt:e.name,className:"w-full h-full object-cover"})}),i.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:e.name}),i.jsx("p",{className:"text-primary text-sm font-medium mb-4",children:e.role}),i.jsxs("div",{className:"flex gap-4",children:[i.jsx("a",{href:e.github,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors",children:"GitHub"}),e.linkedin&&i.jsx("a",{href:e.linkedin,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors",children:"LinkedIn"}),e.website&&i.jsx("a",{href:e.website,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors",children:"Website"})]})]})]},t))})]})}),bw=()=>i.jsx("div",{className:"flex-grow flex flex-col bg-background-light dark:bg-background-dark min-h-screen",children:i.jsxs("div",{className:"max-w-3xl mx-auto px-6 py-20 w-full prose dark:prose-invert",children:[i.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-8",children:"Terms of Service"}),i.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:"1. Usage Agreement"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:'By using Data Structure Visualizer, you agree to these terms. This project is provided "as is" for educational purposes.'}),i.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:"2. User Conduct"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:"You agree not to misuse the platform. This is an open-source project intended for learning and contribution."}),i.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:"3. Copyright"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:"The content and visualizations are protected by copyright. Code is available under standard open source licenses where applicable."})]})}),ww=()=>i.jsx("div",{className:"flex-grow flex flex-col bg-background-light dark:bg-background-dark min-h-screen",children:i.jsxs("div",{className:"max-w-3xl mx-auto px-6 py-20 w-full prose dark:prose-invert",children:[i.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-8",children:"Privacy Policy"}),i.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 mb-8",children:"Your privacy is important to us. This transparency statement explains what we don't collect."}),i.jsxs("div",{className:"bg-white dark:bg-[#1e1d32] p-6 rounded-2xl border border-gray-200 dark:border-[#272546] mb-8",children:[i.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:"No Data Collection"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"We do not collect any personal data, usage metrics, or cookies. All settings (like your theme preference) are stored locally on your device using LocalStorage."})]}),i.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:"External Links"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:"This site contains links to external sites (like GitHub). We are not responsible for the privacy practices of other sites."})]})}),kw=()=>{const[e,t]=y.useState(""),[r,n]=y.useState(""),[s,a]=y.useState(""),[o,l]=y.useState(!1),{login:d}=Ai(),c=On(),u=async h=>{h.preventDefault(),a(""),l(!0);try{await d(e,r),c("/")}catch(x){const v=x instanceof Error?x.message:"Failed to sign in";a(v)}finally{l(!1)}};return i.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-background-light dark:bg-background-dark px-4 py-12 sm:px-6 lg:px-8",children:[i.jsx(Oi,{}),i.jsxs("div",{className:"relative z-10 max-w-md w-full space-y-8 bg-white dark:bg-[#1e1d32] p-8 rounded-2xl shadow-xl border border-gray-200 dark:border-[#272546]",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900 dark:text-white",children:"Sign in to your account"}),i.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600 dark:text-gray-400",children:["Or"," ",i.jsx(Bt,{to:"/signup",className:"font-medium text-primary hover:text-indigo-500 transition-colors",children:"create a new account"})]})]}),i.jsxs("form",{className:"mt-8 space-y-6",onSubmit:u,children:[i.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{htmlFor:"email-address",className:"sr-only",children:"Email address"}),i.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-xl relative block w-full px-3 py-3 border border-gray-300 dark:border-[#272546] placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white dark:bg-[#131221] focus:outline-none focus:ring-primary focus:border-primary sm:text-sm transition-colors",placeholder:"Email address",value:e,onChange:h=>t(h.target.value)})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),i.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"appearance-none rounded-xl relative block w-full px-3 py-3 border border-gray-300 dark:border-[#272546] placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white dark:bg-[#131221] focus:outline-none focus:ring-primary focus:border-primary sm:text-sm transition-colors",placeholder:"Password",value:r,onChange:h=>n(h.target.value)})]})]}),s&&i.jsx("div",{className:"text-red-500 text-sm text-center",children:s}),i.jsx("div",{children:i.jsx("button",{type:"submit",disabled:o,className:`group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-xl text-white bg-primary hover:bg-indigo-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary transition-colors ${o?"opacity-75 cursor-not-allowed":""}`,children:o?"Signing in...":"Sign in"})})]})]})]})},Nw=()=>{const[e,t]=y.useState(""),[r,n]=y.useState(""),[s,a]=y.useState(""),[o,l]=y.useState(""),[d,c]=y.useState(!1),{signup:u}=Ai(),h=On(),x=async v=>{v.preventDefault(),l(""),c(!0);try{const k=await u(e,r,s);k&&k.verifyNeeded?h(`/verify-otp?email=${encodeURIComponent(r)}`):h("/")}catch(k){const N=k instanceof Error?k.message:"Failed to create account";l(N)}finally{c(!1)}};return i.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-background-light dark:bg-background-dark px-4 py-12 sm:px-6 lg:px-8",children:[i.jsx(Oi,{}),i.jsxs("div",{className:"relative z-10 max-w-md w-full space-y-8 bg-white dark:bg-[#1e1d32] p-8 rounded-2xl shadow-xl border border-gray-200 dark:border-[#272546]",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900 dark:text-white",children:"Create your account"}),i.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600 dark:text-gray-400",children:["Or"," ",i.jsx(Bt,{to:"/login",className:"font-medium text-primary hover:text-indigo-500 transition-colors",children:"sign in to existing account"})]})]}),i.jsxs("form",{className:"mt-8 space-y-6",onSubmit:x,children:[i.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{htmlFor:"name",className:"sr-only",children:"Full Name"}),i.jsx("input",{id:"name",name:"name",type:"text",autoComplete:"name",required:!0,className:"appearance-none rounded-xl relative block w-full px-3 py-3 border border-gray-300 dark:border-[#272546] placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white dark:bg-[#131221] focus:outline-none focus:ring-primary focus:border-primary sm:text-sm transition-colors",placeholder:"Full Name",value:e,onChange:v=>t(v.target.value)})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{htmlFor:"email-address",className:"sr-only",children:"Email address"}),i.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-xl relative block w-full px-3 py-3 border border-gray-300 dark:border-[#272546] placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white dark:bg-[#131221] focus:outline-none focus:ring-primary focus:border-primary sm:text-sm transition-colors",placeholder:"Email address",value:r,onChange:v=>n(v.target.value)})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),i.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none rounded-xl relative block w-full px-3 py-3 border border-gray-300 dark:border-[#272546] placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white dark:bg-[#131221] focus:outline-none focus:ring-primary focus:border-primary sm:text-sm transition-colors",placeholder:"Password",value:s,onChange:v=>a(v.target.value)})]})]}),o&&i.jsx("div",{className:"text-red-500 text-sm text-center",children:o}),i.jsx("div",{children:i.jsx("button",{type:"submit",disabled:d,className:`group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-xl text-white bg-primary hover:bg-indigo-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary transition-colors ${d?"opacity-75 cursor-not-allowed":""}`,children:d?"Create Account":"Sign up"})})]})]})]})},jw=()=>{const[e,t]=y.useState(["","","","","",""]),[r,n]=y.useState(""),[s,a]=y.useState(!1),[o]=Fx(),l=o.get("email")||"",{verifyOtp:d,isAuthenticated:c}=Ai(),u=On(),h=y.useRef([]);y.useEffect(()=>{c&&u("/")},[c,u]),y.useEffect(()=>{l||u("/signup")},[l,u]);const x=(N,_)=>{var g;if(!/^\d*$/.test(_))return;const p=[...e];p[N]=_.slice(-1),t(p),_&&N<5&&((g=h.current[N+1])==null||g.focus())},v=(N,_)=>{var p;_.key==="Backspace"&&!e[N]&&N>0&&((p=h.current[N-1])==null||p.focus())},k=async N=>{N.preventDefault();const _=e.join("");if(_.length!==6){n("Please enter the full 6-digit code.");return}n(""),a(!0);try{await d(l,_),u("/")}catch(p){n(p.message||"Verification failed. Please check your code.")}finally{a(!1)}};return i.jsxs("div",{className:"h-screen w-full flex items-center justify-center relative overflow-hidden bg-background-light dark:bg-[#0a0914] transition-colors duration-500",children:[i.jsx(Oi,{}),i.jsxs("div",{className:"max-w-md w-full relative z-10 bg-white/70 dark:bg-white/5 backdrop-blur-2xl p-8 sm:p-10 rounded-3xl shadow-2xl border border-white/20 dark:border-white/10 mx-4 transition-all",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx("div",{className:"w-14 h-14 bg-gradient-to-tr from-primary to-indigo-500 rounded-2xl flex items-center justify-center shadow-lg transform rotate-6",children:i.jsx("span",{className:"material-symbols-outlined text-white text-3xl",children:"mark_email_read"})})}),i.jsx("h2",{className:"text-3xl font-black text-gray-900 dark:text-white tracking-tight",children:"Verify Identity"}),i.jsxs("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:["Enter the 6-digit code sent to ",i.jsx("br",{}),i.jsx("span",{className:"font-bold text-primary",children:l})]})]}),i.jsxs("form",{className:"mt-8 flex flex-col gap-6",onSubmit:k,children:[i.jsx("div",{className:"flex justify-between gap-1.5 sm:gap-2",children:e.map((N,_)=>i.jsx("input",{ref:p=>h.current[_]=p,type:"text",maxLength:1,value:N,onChange:p=>x(_,p.target.value),onKeyDown:p=>v(_,p),className:"w-10 h-14 sm:w-11 sm:h-16 text-center text-2xl font-black rounded-xl border border-gray-200 dark:border-white/10 bg-white/50 dark:bg-white/5 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary transition-all backdrop-blur-sm shadow-sm"},_))}),r&&i.jsx("div",{className:"bg-red-500/10 border border-red-500/50 text-red-500 text-[10px] py-2 px-4 rounded-xl text-center font-medium animate-shake",children:r}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("button",{type:"submit",disabled:s||e.join("").length!==6,className:`w-full py-4 px-6 rounded-2xl text-white font-bold bg-gradient-to-r from-primary to-indigo-600 hover:from-indigo-600 hover:to-primary shadow-lg hover:shadow-primary/25 transition-all transform hover:-translate-y-0.5 active:scale-[0.98] ${s||e.join("").length!==6?"opacity-50 cursor-not-allowed":""}`,children:s?"Verifying...":"Finish Signup"}),i.jsx("div",{className:"text-center",children:i.jsx("button",{type:"button",onClick:()=>u("/signup"),className:"text-[10px] font-bold text-gray-400 hover:text-gray-600 dark:hover:text-white transition-all uppercase tracking-widest",children:"Use a different email"})})]})]})]})]})},Sw=()=>{const{user:e,updateUserProfile:t,isAuthenticated:r}=Ai(),n=On(),[s,a]=y.useState(""),[o,l]=y.useState(""),[d,c]=y.useState(""),[u,h]=y.useState(""),[x,v]=y.useState(""),[k,N]=y.useState(!1),[_,p]=y.useState(!1);y.useEffect(()=>{r?e&&(a(e.name),l(e.avatar||"")):n("/login")},[r,e,n]);const g=async E=>{E.preventDefault(),h(""),v(""),N(!0);try{await t(s,o||void 0),d&&(await ls.updatePassword(d),c("")),v("Profile updated successfully!")}catch(R){const Y=R instanceof Error?R.message:"Failed to update profile";h(Y)}finally{N(!1)}},b=async E=>{var Y;const R=(Y=E.target.files)==null?void 0:Y[0];if(!(!R||!e)){if(R.size>5*1024*1024){h("Image must be less than 5MB");return}h(""),p(!0);try{const P=await ls.uploadAvatar(R,e.id);l(P),v("Image uploaded! Click Save Changes to apply.")}catch(P){const X=P instanceof Error?P.message:"Failed to upload image";h(X)}finally{p(!1)}}};return e?i.jsxs("div",{className:"h-screen w-full flex items-center justify-center relative overflow-hidden bg-background-light dark:bg-[#0a0914] transition-colors duration-500",children:[i.jsx(Oi,{}),i.jsxs("div",{className:"max-w-md w-full relative z-10 bg-white/70 dark:bg-white/5 backdrop-blur-2xl p-8 sm:p-10 rounded-3xl shadow-2xl border border-white/20 dark:border-white/10 mx-4 transition-all overflow-hidden flex flex-col justify-center",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"flex justify-center mb-6 relative group",children:i.jsxs("div",{className:"w-24 h-24 rounded-full p-1 bg-gradient-to-tr from-primary to-indigo-500 shadow-xl relative cursor-pointer overflow-hidden transition-transform hover:scale-105",children:[i.jsx("div",{className:"w-full h-full rounded-full overflow-hidden bg-white dark:bg-[#131221] flex items-center justify-center",children:_?i.jsxs("svg",{className:"animate-spin h-8 w-8 text-primary",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):i.jsxs(i.Fragment,{children:[i.jsx("img",{src:o||e.avatar||`https://api.dicebear.com/7.x/avataaars/svg?seed=${encodeURIComponent(s||e.name)}`,alt:"Profile preview",className:"w-full h-full object-cover"}),i.jsxs("div",{className:"absolute inset-0 bg-black/50 flex flex-col items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:[i.jsx("span",{className:"material-symbols-outlined text-white text-2xl",children:"photo_camera"}),i.jsx("span",{className:"text-[9px] text-white font-bold uppercase mt-1",children:"Upload"})]})]})}),i.jsx("input",{type:"file",accept:"image/*",className:"absolute inset-0 opacity-0 cursor-pointer w-full h-full z-10",onChange:b,disabled:_})]})}),i.jsx("h2",{className:"text-3xl font-black text-gray-900 dark:text-white tracking-tight",children:"Your Profile"}),i.jsx("p",{className:"mt-2 text-sm font-medium text-gray-500 dark:text-gray-400",children:e.email})]}),i.jsxs("form",{className:"mt-6 flex flex-col gap-4",onSubmit:g,children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-[10px] font-bold text-gray-400 dark:text-gray-500 uppercase tracking-widest ml-1 mb-1 block",children:"Display Name"}),i.jsx("input",{id:"name",name:"name",type:"text",required:!0,className:"block w-full px-5 py-3 rounded-2xl bg-white/50 dark:bg-white/5 border border-gray-200 dark:border-white/10 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary transition-all text-sm backdrop-blur-sm shadow-sm",placeholder:"Your Name",value:s,onChange:E=>a(E.target.value)})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-[10px] font-bold text-gray-400 dark:text-gray-500 uppercase tracking-widest ml-1 mb-1 block",children:"Email Address"}),i.jsx("input",{id:"email",name:"email",type:"email",readOnly:!0,className:"block w-full px-5 py-3 rounded-2xl bg-gray-100 dark:bg-white/5 border border-gray-200 dark:border-white/10 text-gray-500 dark:text-gray-400 focus:outline-none transition-all text-sm backdrop-blur-sm shadow-sm cursor-not-allowed",value:e.email})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-[10px] font-bold text-gray-400 dark:text-gray-500 uppercase tracking-widest ml-1 mb-1 block",children:"New Password (Optional)"}),i.jsx("input",{id:"password",name:"password",type:"password",className:"block w-full px-5 py-3 rounded-2xl bg-white/50 dark:bg-white/5 border border-gray-200 dark:border-white/10 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary transition-all text-sm backdrop-blur-sm shadow-sm",placeholder:"Leave blank to keep current",value:d,onChange:E=>c(E.target.value)})]})]}),u&&i.jsx("div",{className:"bg-red-500/10 border border-red-500/50 text-red-500 text-[11px] py-2 px-4 rounded-xl text-center font-bold animate-shake",children:u}),x&&i.jsx("div",{className:"bg-green-500/10 border border-green-500/50 text-green-600 dark:text-green-400 text-[11px] py-2 px-4 rounded-xl text-center font-bold",children:x}),i.jsx("div",{className:"pt-2",children:i.jsx("button",{type:"submit",disabled:k||_||!s.trim(),className:`w-full py-3.5 px-6 rounded-2xl text-white font-bold bg-gradient-to-r from-primary to-indigo-600 hover:from-indigo-600 hover:to-primary shadow-lg hover:shadow-primary/25 transition-all transform hover:-translate-y-0.5 active:scale-[0.98] ${k||_||!s.trim()?"opacity-70 cursor-not-allowed transform-none hover:shadow-lg":""}`,children:k?i.jsxs("span",{className:"flex items-center justify-center gap-2",children:[i.jsxs("svg",{className:"animate-spin h-4 w-4 text-white",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):"Save Changes"})})]}),i.jsx("div",{className:"mt-6 pt-6 border-t border-gray-100 dark:border-white/5 text-center",children:i.jsxs(Bt,{to:"/",className:"text-[10px] font-bold text-gray-400 hover:text-gray-600 dark:hover:text-white inline-flex items-center gap-2 transition-all uppercase tracking-widest",children:[i.jsx("span",{className:"material-symbols-outlined text-[14px]",children:"arrow_back"}),"Back to Home"]})})]})]}):null};function _w(){const{isNavbarVisible:e,setIsNavbarVisible:t}=Ls(),r=Cs();return y.useEffect(()=>{const n=["/login","/signup","/verify-otp","/profile"].includes(r.pathname);t(!n)},[r.pathname,t]),i.jsxs("div",{className:"flex flex-col h-screen overflow-hidden",children:[i.jsx(wb,{}),e&&i.jsx(bb,{}),i.jsx("main",{className:`flex-1 ${e?"overflow-auto":"overflow-hidden h-full"}`,children:i.jsxs(_x,{children:[i.jsx(Nt,{path:"/",element:i.jsx(kb,{})}),i.jsx(Nt,{path:"/arrays",element:i.jsx(Lb,{})}),i.jsx(Nt,{path:"/graphs",element:i.jsx(Pb,{})}),i.jsx(Nt,{path:"/linked-list",element:i.jsx(Ub,{})}),i.jsx(Nt,{path:"/queue",element:i.jsx(Kb,{})}),i.jsx(Nt,{path:"/sorting",element:i.jsx(nw,{})}),i.jsx(Nt,{path:"/stack",element:i.jsx(cw,{})}),i.jsx(Nt,{path:"/trees",element:i.jsx(gw,{})}),i.jsx(Nt,{path:"/recursion",element:i.jsx(mw,{})}),i.jsx(Nt,{path:"/about",element:i.jsx(xw,{})}),i.jsx(Nt,{path:"/team",element:i.jsx(yw,{})}),i.jsx(Nt,{path:"/terms",element:i.jsx(bw,{})}),i.jsx(Nt,{path:"/privacy",element:i.jsx(ww,{})}),i.jsx(Nt,{path:"/login",element:i.jsx(kw,{})}),i.jsx(Nt,{path:"/signup",element:i.jsx(Nw,{})}),i.jsx(Nt,{path:"/verify-otp",element:i.jsx(jw,{})}),i.jsx(Nt,{path:"/profile",element:i.jsx(Sw,{})})]})})]})}function Cw(){return i.jsx(Px,{children:i.jsx(_w,{})})}nl.createRoot(document.getElementById("root")).render(i.jsx(ur.StrictMode,{children:i.jsx(Mx,{children:i.jsx(xb,{children:i.jsx(vb,{children:i.jsx(Nb,{children:i.jsx(Cw,{})})})})})}));
//# sourceMappingURL=index-DHZiDuNY.js.map
